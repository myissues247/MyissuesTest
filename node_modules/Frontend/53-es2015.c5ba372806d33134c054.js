(window.webpackJsonp=window.webpackJsonp||[]).push([[53,26,83],{"4+Pg":function(e,t,i){"use strict";i.r(t),i.d(t,"ReceiverPostEditModule",(function(){return at}));var n=i("ofXK"),a=i("tyNb"),s=i("XNiG"),o=i("1G5W"),c=i("fXoL"),r=i("H8Sc"),d=i("5dVO"),l=i("ndxW"),b=i("3Pt+"),u=i("QIUk"),p=i("7zfz"),h=i("dgC2");const g=["next"],m=["prev"];function P(e,t){1&e&&c.Jc(0," Ad Content ")}function v(e,t){1&e&&c.Jc(0," Enter relevant ad content here. ")}function f(e,t){1&e&&(c.Qb(0,"div",40),c.Qb(1,"span",41),c.Jc(2,"Please enter an advertisement title."),c.Pb(),c.Pb())}function y(e,t){1&e&&(c.Qb(0,"div",40),c.Qb(1,"span",41),c.Jc(2,"Please fill promoted by here."),c.Pb(),c.Pb())}function Q(e,t){1&e&&(c.Qb(0,"div",40),c.Qb(1,"span",41),c.Jc(2,"Please enter a valid year of establishment"),c.Pb(),c.Pb())}function _(e,t){1&e&&(c.Qb(0,"div",40),c.Qb(1,"span",41),c.Jc(2,"Please fill promoters name here."),c.Pb(),c.Pb())}function C(e,t){1&e&&(c.Qb(0,"div",40),c.Qb(1,"span",41),c.Jc(2,"Please enter a tag line"),c.Pb(),c.Pb())}const M=function(){return{height:"320px","font-size":"16px"}};function w(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",14),c.Qb(1,"label",15),c.Jc(2,"Advertisement Title"),c.Pb(),c.Qb(3,"p",16),c.Jc(4),c.Pb(),c.Qb(5,"div",17),c.Qb(6,"input",18,19),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().adContent.adTitle=t})),c.Pb(),c.Lb(8,"img",20),c.Pb(),c.Hc(9,f,3,0,"div",21),c.Pb(),c.Qb(10,"div",22),c.Qb(11,"div",23),c.Qb(12,"label",24),c.Jc(13,"Promoted By"),c.Pb(),c.Qb(14,"input",25,26),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().adContent.promotedBy=t})),c.Pb(),c.Hc(16,y,3,0,"div",21),c.Pb(),c.Qb(17,"div",27),c.Qb(18,"label",28),c.Jc(19,"Year Established"),c.Pb(),c.Qb(20,"input",29,30),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().adContent.yearEstablished=t})),c.Pb(),c.Hc(22,Q,3,0,"div",21),c.Pb(),c.Qb(23,"div",23),c.Qb(24,"label",31),c.Jc(25,"Promoters Name"),c.Pb(),c.Qb(26,"input",32,33),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().adContent.sponsorTitle=t})),c.Pb(),c.Hc(28,_,3,0,"div",21),c.Pb(),c.Pb(),c.Qb(29,"div",34),c.Qb(30,"label",35),c.Jc(31,"Tag Line"),c.Pb(),c.Qb(32,"input",36,37),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().adContent.tagline=t})),c.Pb(),c.Hc(34,C,3,0,"div",21),c.Pb(),c.Qb(35,"div",14),c.Qb(36,"label",38),c.Jc(37,"Description"),c.Pb(),c.Qb(38,"p-editor",39),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().adContent.description=t})),c.Pb(),c.Pb()}if(2&e){const e=c.wc(7),t=c.wc(21),i=c.wc(27),n=c.wc(33),a=c.bc(),s=c.wc(1);c.yb(4),c.Lc("",100-((null==a.adContent.adTitle?null:a.adContent.adTitle.length)||0)," characters left"),c.yb(2),c.ic("ngModel",a.adContent.adTitle),c.yb(3),c.ic("ngIf",s.submitted&&e.invalid),c.yb(5),c.ic("ngModel",a.adContent.promotedBy),c.yb(2),c.ic("ngIf",s.submitted&&i.invalid),c.yb(4),c.ic("ngModel",a.adContent.yearEstablished),c.yb(2),c.ic("ngIf",s.submitted&&t.invalid),c.yb(4),c.ic("ngModel",a.adContent.sponsorTitle),c.yb(2),c.ic("ngIf",s.submitted&&i.invalid),c.yb(4),c.ic("ngModel",a.adContent.tagline),c.yb(2),c.ic("ngIf",s.submitted&&n.invalid),c.yb(4),c.Fc(c.mc(14,M)),c.ic("ngModel",a.adContent.description)}}let x=(()=>{class e{constructor(e,t,i,n,a){this.ren=e,this.ps=t,this.router=i,this.loader=n,this.ss=a,this.unsub$=new s.a,this.submitting=!1,this.saved=!1,this.adContent={adTitle:"",sponsorTitle:"",promotedBy:"",description:"",tagline:"",yearEstablished:null}}ngOnInit(){this.ps.newPage(3),this.ps.AdObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.ad=e,this.isAdInitialized(e),this.prefill_ad_data(e),e.adTitle&&e.description&&e.sponsorTitle&&(this.saved=!0)}),this.ss.getUserSessionObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>this.adContent.sponsorTitle=e.sponsorTitle)}isAdInitialized(e){this.ad._id||(this.ps.newMessage("info","Ad Not Initialized","Please start an ad by selecting category"),this.router.navigate(["/sponsor/post-edit/select-location"]))}prefill_ad_data(e){this.adContent.adTitle=e.adTitle?e.adTitle:"",this.adContent.sponsorTitle=e.sponsorTitle?e.sponsorTitle:"",this.adContent.description=e.description?e.description:"",this.adContent.tagline=e.tagline?e.tagline:"",this.adContent.yearEstablished=e.yearEstablished||null,this.adContent.promotedBy=e.promotedBy||""}ngAfterViewInit(){const e=document.getElementsByClassName("ql-formats"),t=this.ren.parentNode(e[0]);this.ren.removeChild(t,e[0]),this.ren.removeChild(t,e[2]),this.ren.removeChild(t,e[4]),this.ps.checkSubmition().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{var t,i,n,a;"save-next"==e?null===(i=null===(t=this.nextButton)||void 0===t?void 0:t.nativeElement)||void 0===i||i.click():"prev"==e?null===(a=null===(n=this.prevButton)||void 0===n?void 0:n.nativeElement)||void 0===a||a.click():this.nextNoSave()})}save_ad_content(){return new Promise((e,t)=>{this.ps.save_ad_content(this.adContent).pipe(Object(o.a)(this.unsub$)).subscribe(i=>i.status?(this.ps.newMessage("success","Ad Content Saved","The content was saved!"),this.ps.NewAdData(i.data),e(!0)):(this.ps.newMessage("error","Content Save Failed",i.message),t(!1)),e=>(this.handle_error(e),t(!1)))})}nextNoSave(){"published"==this.ad.adState&&this.router.navigate(["/sponsor/post-edit/upload-images"])}prevPage(){this.router.navigate(["/sponsor/post-edit/select-location"])}nextPage(e,t="/sponsor/post-edit/upload-images"){if("INVALID"==e.status)return this.ps.newMessage("error","Invalid Input","Please fill the form with valid inputs");this.saved?this.check_and_handle_unsaved_changes(t):this.save_and_move(t)}check_and_handle_unsaved_changes(e){this.load(),this.checkUnsavedChanges()?this.confirmActionForUnsavedChanges()?this.save_and_move(e):(this.stopload(),this.router.navigate([e])):(this.stopload(),this.router.navigate(["/sponsor/post-edit/upload-images"]))}checkUnsavedChanges(){return this.ad.sponsorTitle!=this.adContent.sponsorTitle||this.ad.description!=this.adContent.description||this.ad.adTitle!=this.adContent.adTitle||this.ad.tagline!=this.adContent.tagline||this.ad.yearEstablished!=this.adContent.yearEstablished||this.ad.promotedBy!=this.adContent.promotedBy}confirmActionForUnsavedChanges(){return!0}save_and_move(e){this.load(),this.save_ad_content().then(()=>{this.stopload(),this.router.navigate([e])}).catch(()=>{this.stopload()})}load(){this.submitting=!0,this.loader.start()}stopload(){this.submitting=!1,this.loader.stop()}handle_error(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Error occured","sorry couldn't connect to the URL"):this.ps.newMessage("error","Error occured",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message)}ngOnDestroy(){this.unsub$.next(!0),this.unsub$.complete()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(c.D),c.Kb(r.a),c.Kb(a.f),c.Kb(d.a),c.Kb(l.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-ad-content"]],viewQuery:function(e,t){var i;1&e&&(c.Qc(g,!0),c.Qc(m,!0)),2&e&&(c.vc(i=c.Yb())&&(t.nextButton=i.first),c.vc(i=c.Yb())&&(t.prevButton=i.first))},decls:22,vars:2,consts:[["ngForm","",1,"input-container",3,"ngSubmit"],["sadForm","ngForm"],[1,"stepsdemo-content"],["pTemplate","title"],["pTemplate","subtitle"],["pTemplate","content"],[1,"d-footer","c-footer",2,"display","none"],["type","button",1,"btn","btn-prev",3,"click"],["prev",""],[1,"fa","fa-angle-left"],[1,"btn","btn-next",3,"click"],["type","submit","name","submit",1,"btn","btn-next"],["next",""],[1,"fa","fa-angle-right"],[1,"form-group"],["for","adTitle"],[1,"left-char"],[1,"form-icon","right-icon"],["type","text","autocapitalize","on","name","adTitle","placeholder","Max: 100 words","maxlength","100","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["adTitle","ngModel"],["src","assets/images/emoji-icon.png","alt","Icons"],["class","errors",4,"ngIf"],[1,"group"],["id","name-input",1,"form-group","flex-2"],["for","promotedBy"],["type","text","autocapitalize","on","name","promotedBy","placeholder","","pattern","[a-zA-Z0-9 ]+","required","","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["promotedBy","ngModel"],["id","age-input",1,"form-group","flex-1"],["for","yearEstablished"],["type","number","name","age","min","0","pattern","[0-9]{4}","required","","ngModel","","placeholder","YYYY",1,"form-control",3,"ngModel","ngModelChange"],["yearEstablished","ngModel"],["for","name"],["type","text","autocapitalize","on","name","name","placeholder","","pattern","[a-zA-Z0-9 ]+","required","","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["name","ngModel"],["id","name-input",1,"form-group"],["for","tag"],["type","text","autocapitalize","on","name","tag","placeholder","Describe your best attribute in short and catchy way","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["tag","ngModel"],["for","description"],["name","description","ngModel","",3,"ngModel","ngModelChange"],[1,"errors"],[1,"error"]],template:function(e,t){if(1&e){const e=c.Rb();c.Qb(0,"form",0,1),c.Xb("ngSubmit",(function(){c.zc(e);const i=c.wc(1);return t.nextPage(i.form)})),c.Qb(2,"section",2),c.Qb(3,"p-card"),c.Hc(4,P,1,0,"ng-template",3),c.Hc(5,v,1,0,"ng-template",4),c.Hc(6,w,39,15,"ng-template",5),c.Pb(),c.Pb(),c.Qb(7,"div",6),c.Qb(8,"ul"),c.Qb(9,"li"),c.Qb(10,"button",7,8),c.Xb("click",(function(){return t.prevPage()})),c.Lb(12,"i",9),c.Jc(13,"Previous step"),c.Pb(),c.Pb(),c.Qb(14,"li"),c.Qb(15,"button",10),c.Xb("click",(function(){c.zc(e);const i=c.wc(1);return t.nextPage(i.form,"/agency")})),c.Jc(16," Save & Exit "),c.Pb(),c.Pb(),c.Qb(17,"li"),c.Qb(18,"button",11,12),c.Jc(20," Next step "),c.Lb(21,"i",13),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}2&e&&(c.yb(2),c.Cb("submitting",t.submitting))},directives:[b.A,b.o,b.p,u.a,p.j,b.c,b.k,b.w,b.n,b.q,n.n,b.t,b.s,h.a],styles:['.page-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}form[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b9bb2;font-size:20px;font-weight:700}form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}.form-control[_ngcontent-%COMP%]{height:50px!important}@media screen and (max-width:550px){.group[_ngcontent-%COMP%]   #name-input[_ngcontent-%COMP%]{min-width:100%;margin-right:0}}']}),e})(),O=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Eb({type:e,selectors:[["app-edited"]],decls:9,vars:0,consts:[[1,"ad-post"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"ad-post-des"],["src","assets/images/ad-edited.png","alt","Images"],[1,"view-ad"],["routerLink","/sponsor"]],template:function(e,t){1&e&&(c.Qb(0,"section",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"div",3),c.Qb(4,"div",4),c.Lb(5,"img",5),c.Qb(6,"div",6),c.Qb(7,"a",7),c.Jc(8,"Back to Ad Center"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb())},directives:[a.i],styles:[""]}),e})();function k(e,t){if(1&e&&(c.Qb(0,"div",5),c.Qb(1,"ul"),c.Qb(2,"li"),c.Qb(3,"span"),c.Jc(4),c.Pb(),c.Jc(5),c.Pb(),c.Qb(6,"li"),c.Jc(7),c.Pb(),c.Pb(),c.Pb()),2&e){const e=c.bc();c.yb(4),c.Kc(null==e.adPlan?null:e.adPlan.adPlanName),c.yb(1),c.Lc(" ",e.adPlan.inDays?e.adPlan.days+" Day":e.adPlan.hours+" Hour"," "),c.yb(2),c.Lc(" $ ",e.adPlan.advertisePrice," ")}}function J(e,t){if(1&e&&(c.Qb(0,"div",5),c.Qb(1,"ul"),c.Qb(2,"li"),c.Qb(3,"span"),c.Jc(4,"Bump Up Plan"),c.Pb(),c.Jc(5),c.Pb(),c.Qb(6,"li"),c.Jc(7),c.Pb(),c.Pb(),c.Pb()),2&e){const e=c.bc();c.yb(5),c.Lc(" ",e.bumpupPlan.count||0," Bump "),c.yb(2),c.Lc(" $ ",e.bumpupPlan.price," ")}}let I=(()=>{class e{constructor(e,t,i,n,a){this.router=e,this.ar=t,this.ps=i,this.loader=n,this.ss=a,this.submitting=!1,this.adPlan=null,this.bumpupPlan=null,this.unsub$=new s.a,this.total=0}ngOnInit(){this.ps.newPage(7),this.ps.AdObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{var t,i,n;this.ad=e,this.ad._id||(alert("ad is not initialized"),this.router.navigate(["/sponsor/post-edit/select-category"])),this.ad.advertisePlanCheck&&0==(null===(t=this.ad.advertisePlan)||void 0===t?void 0:t.paid)&&(this.adPlan=this.ad.advertisePlan),this.ad.bumpupPlanCheck&&(this.bumpupPlan=this.ad.bumpupPlan),this.total=((null===(i=this.adPlan)||void 0===i?void 0:i.advertisePrice)||0)+((null===(n=this.bumpupPlan)||void 0===n?void 0:n.price)||0),this.total>0&&(this.total+=1)}),this.ss.getUserSessionObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.session=e}),this.ps.checkSubmition().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{"save-next"==e?this.nextPage():"prev"==e&&this.prevPage()})}nextPage(){var e;this.ad.advertisePlanCheck&&0==(null===(e=this.ad.advertisePlan)||void 0===e?void 0:e.paid)||this.ad.bumpupPlanCheck?this.handle_upgrade():"published"==this.ad.adState?setTimeout(()=>{this.router.navigate(["/sponsor/post-edit/edited"])},100):this.publish()}publish(){this.load(),this.ps.publish_normal(this.ad._id).pipe(Object(o.a)(this.unsub$)).subscribe(e=>{e.status?(this.stopload(),this.router.navigate(["/sponsor/post-edit/complete/"+this.ad._id])):(this.stopload(),alert(e.message))},this.errorHandle.bind(this))}handle_upgrade(){this.router.navigate(["/sponsor/post-edit/pay-via-card"])}prevPage(){this.router.navigate(["/sponsor/post-edit/upgrades"])}errorHandle(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","sorry some error occured"):this.ps.newMessage("error","Error Occured",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message),this.stopload()}load(){this.submitting=!0,this.loader.start()}stopload(){this.submitting=!1,this.loader.stop()}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(a.f),c.Kb(a.a),c.Kb(r.a),c.Kb(d.a),c.Kb(l.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-finalize"]],decls:68,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form","ad-sub-cat"],[1,"cat-list"],[1,"ad-sub-list"],["class","ad-sub-list",4,"ngIf"],[1,"border-0"],[1,"col-lg-6"],[1,"price-sec"],[3,"click"],[1,"fa","fa-angle-left"],[1,"price-btn","text-right"],["href","javascript:void(0)",2,"display","none"],[1,"understand-sec","finalize-sec"],[1,"agree-head"],["href","#"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"form"),c.Qb(4,"div",3),c.Qb(5,"div",4),c.Qb(6,"div",5),c.Qb(7,"ul"),c.Qb(8,"li"),c.Qb(9,"span"),c.Jc(10,"Advertisement"),c.Pb(),c.Jc(11," Panhandlers / greater toronto area "),c.Pb(),c.Qb(12,"li"),c.Jc(13," $00.00 "),c.Pb(),c.Pb(),c.Pb(),c.Hc(14,k,8,3,"div",6),c.Hc(15,J,8,2,"div",6),c.Qb(16,"div",5),c.Qb(17,"ul"),c.Qb(18,"li"),c.Qb(19,"span"),c.Jc(20,"Transactions fee"),c.Pb(),c.Jc(21," You pay it if the total is less than $50.00 "),c.Pb(),c.Qb(22,"li"),c.Jc(23," $00.00 "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(24,"div",3),c.Qb(25,"div",4),c.Qb(26,"div",5),c.Qb(27,"ul"),c.Qb(28,"li"),c.Qb(29,"span"),c.Jc(30,"Sub Total"),c.Pb(),c.Pb(),c.Qb(31,"li"),c.Jc(32," $00.00 "),c.Pb(),c.Pb(),c.Pb(),c.Qb(33,"div",5),c.Qb(34,"ul"),c.Qb(35,"li"),c.Qb(36,"span"),c.Jc(37,"Account Balance"),c.Pb(),c.Pb(),c.Qb(38,"li"),c.Jc(39),c.Pb(),c.Pb(),c.Pb(),c.Qb(40,"div",5),c.Qb(41,"ul",7),c.Qb(42,"li"),c.Qb(43,"span"),c.Jc(44,"Grand Total to Pay"),c.Pb(),c.Pb(),c.Qb(45,"li"),c.Jc(46),c.Pb(),c.Pb(),c.Pb(),c.Qb(47,"div",1),c.Qb(48,"div",8),c.Qb(49,"div",9),c.Qb(50,"a",10),c.Xb("click",(function(){return t.prevPage()})),c.Lb(51,"i",11),c.Pb(),c.Jc(52," All price are listed in "),c.Qb(53,"span"),c.Jc(54,"CAD"),c.Pb(),c.Pb(),c.Pb(),c.Qb(55,"div",8),c.Qb(56,"div",12),c.Qb(57,"a",13),c.Jc(58," Post Now "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(59,"div",14),c.Qb(60,"div",0),c.Qb(61,"div",15),c.Qb(62,"h5"),c.Jc(63," Prices listed are in CAD "),c.Pb(),c.Qb(64,"p"),c.Jc(65," MyIssues charges wil read MyIssues services on your statement. Need help with payments?"),c.Qb(66,"a",16),c.Jc(67,"Contact Us"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.Cb("submitting",t.submitting),c.yb(14),c.ic("ngIf",null==t.adPlan?null:t.adPlan.adPlanId),c.yb(1),c.ic("ngIf",t.ad.bumpupPlanCheck),c.yb(24),c.Lc(" $",t.session.balance?t.session.balance.toFixed(2):"0.00"," "),c.yb(7),c.Lc(" $ ",t.total," "))},directives:[b.A,b.o,b.p,n.n],styles:['.fixcolor[_ngcontent-%COMP%]{color:#737574}.card-footer[_ngcontent-%COMP%]{padding:.75rem 2rem!important}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}']}),e})();var A=i("DPk/");function z(e,t){if(1&e){const e=c.Rb();c.Qb(0,"label",18),c.Qb(1,"input",19),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().selectedCountry=t}))("click",(function(){c.zc(e);const i=t.$implicit;return c.bc().change_country(i._id)})),c.Pb(),c.Qb(2,"span"),c.Jc(3),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit,i=c.bc();c.yb(1),c.jc("value",e._id),c.ic("ngModel",i.selectedCountry),c.yb(2),c.Kc(e.countryName)}}function L(e,t){if(1&e){const e=c.Rb();c.Qb(0,"label",18),c.Qb(1,"input",20),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().selectedState=t}))("click",(function(){c.zc(e);const i=t.$implicit;return c.bc().change_state(i.stateName)})),c.Pb(),c.Qb(2,"span"),c.Jc(3),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit,i=c.bc();c.yb(1),c.jc("value",e.stateName),c.ic("ngModel",i.selectedState),c.yb(2),c.Kc(e.stateName)}}function N(e,t){if(1&e){const e=c.Rb();c.Qb(0,"label",18),c.Qb(1,"input",21),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().selectedCity=t}))("click",(function(){c.zc(e);const i=t.$implicit;return c.bc().change_city(i.cityName)})),c.Pb(),c.Qb(2,"span"),c.Jc(3),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit,i=c.bc();c.yb(1),c.jc("value",e.cityName),c.ic("ngModel",i.selectedCity),c.yb(2),c.Kc(e.cityName)}}function S(e,t){1&e&&c.Lb(0,"div",22)}let B=(()=>{class e{constructor(e,t,i,n,a,o){this.ds=e,this.ps=t,this.router=i,this.loader=n,this.ar=a,this.ss=o,this.submitting=!1,this.loading=!1,this.saved=!1,this.unsub$=new s.a,this.cities=[],this.states=[],this.countries=[],this.selectedCountry="",this.selectedState="",this.selectedCity=""}ngOnInit(){this.ps.newPage(2),this.buttonEventFromParent(),this.ps.AdObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.ad=e}),this.check_session(),this.check_action(),this.get_country().then(()=>{this.prefill_selected_options()})}buttonEventFromParent(){this.ps.checkSubmition().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{"save-next"==e?this.nextPage():"prev"==e?this.prevPage():this.nextNoSave()})}check_session(){this.ss.getUserSessionObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{e._id||(this.ps.newMessage("error","Login Needed","Please login to perform this action"),this.router.navigate(["/"]))})}check_action(){}prefill_selected_options(){this.ps.AdObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{(null==e?void 0:e.country)&&this.prefill_country(e)})}prefill_country(e){const t=this.countries.find(t=>e.country==t.countryName);this.selectedCountry=t?t._id:"",this.selectedCountryName=t?t.countryName:"",this.prefill_state(t,e)}prefill_state(e,t){this.states=e?e.states:[],t.state&&(this.selectedState=t.state,this.prefill_city(t))}prefill_city(e){this.change_state(e.state).then(()=>{this.ad.city&&(this.selectedCity=e.city,this.saved=!0)})}getAdData(e){this.ps.get_ad(e).pipe(Object(o.a)(this.unsub$)).subscribe(e=>{e.status?this.ps.NewAdData(e.data):this.ps.newMessage("error","No Data",e.message)},this.handle_error.bind(this))}get_country(){return new Promise((e,t)=>{this.ds.get_countries().pipe(Object(o.a)(this.unsub$)).subscribe(i=>i.status?(this.countries=i.data,e(!0)):(this.ps.newMessage("error","Country Fetch Failed",i.message),t(!1)),e=>(this.handle_error(e),t(!1)))})}change_country(e){this.selectedCountry=e;const t=this.countries.find(e=>e._id==this.selectedCountry);this.states=t.states,this.selectedCountryName=t.countryName,this.selectedState=null,this.saved=!1}change_state(e){return this.saved=!1,this.loading=!0,this.selectedState=e,new Promise((e,t)=>this.get_cities_from_server(e,t))}get_cities_from_server(e,t){this.ds.get_cities(this.selectedCountry,this.selectedState).pipe(Object(o.a)(this.unsub$)).subscribe(i=>(this.loading=!1,i.status?(this.cities=i.data[0].cities,e(!0)):(this.ps.newMessage("error","Cities Fetch Failed",i.message),t(!1))),e=>(this.handle_error(e),t(!1)))}change_city(e){this.saved=!1,this.selectedCity=e,this.nextPage()}save_location(){this.emptySelect()||(this.load(),this.ps.selectLocation(this.selectedCountry,this.selectedCountryName,this.selectedState,this.selectedCity).pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.stopload(),e.status?(this.ps.NewAdData(e.data),this.ps.newMessage("success","Ad Created","New Ad was created."),this.saved=!0,this.nextPage()):this.ps.newMessage("error","Couldn't Save",e.message)},this.handle_error.bind(this)))}update_location(){this.emptySelect()||(this.load(),this.ps.updateLocation(this.selectedCountry,this.selectedCountryName,this.selectedState,this.selectedCity).pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.stopload(),e.status?(this.ps.NewAdData(e.data),this.ps.newMessage("success","Location Updated","Location was updated"),this.saved=!0,this.nextPage()):this.ps.newMessage("error","Couldn't Update",e.message)},this.handle_error.bind(this)))}handle_error(e){e.error instanceof ErrorEvent?this.ps.newMessage("error","Failed","couldn't connect to the url"):this.ps.newMessage("error","Failed",`${e.status}: ${e.error.message}`),this.stopload()}nextNoSave(){"published"==this.ad.adState&&this.router.navigate(["/sponsor/post-edit/upload-images"])}prevPage(){this.unsavedChangesExists()||this.router.navigate(["/sponsor/post-edit/select-category"])}unsavedChangesExists(){return!(1!=this.saved||!(this.ad.country||this.ad.state||this.ad.city)||this.ad.country==this.selectedCountryName&&this.ad.state==this.selectedState&&this.ad.city==this.selectedCity||(this.ps.newMessage("info","Unsaved Changes","You have unsaved changes, discard them?"),0))}nextPage(){this.saved&&!this.UnsavedChangesExists()?this.router.navigate(["/sponsor/post-edit/ad-content"]):this.ad&&this.ad._id?this.update_location():this.save_location()}emptySelect(){if(""==this.selectedCountry)this.ps.newMessage("info","Country Not Selected","please Select a country");else if(""==this.selectedState)this.ps.newMessage("info","State Not Selected","Please select a state");else{if(""!=this.selectedCity)return!1;this.ps.newMessage("info","City Not Selected","Please select a city")}return!0}UnsavedChangesExists(){return!(1!=this.saved||!(this.ad.country||this.ad.state||this.ad.city)||this.ad.country==this.selectedCountryName&&this.ad.state==this.selectedState&&this.ad.city==this.selectedCity||(this.ps.newMessage("info","Unsaved Changes","You have unsaved changes, discard them?"),0))}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}load(){this.submitting=!0,this.loader.start()}stopload(){this.submitting=!1,this.loader.stop()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(A.a),c.Kb(r.a),c.Kb(a.f),c.Kb(d.a),c.Kb(a.a),c.Kb(l.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-location"]],decls:41,vars:7,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form","cat-form"],[1,"col-lg-12"],[1,"cat-list"],[1,"cat-sub-list"],[3,"click"],["src","assets/images/left-arrow.png","alt","Icons"],["src","assets/images/no-image.jpg","alt","Icons",2,"width","50px","height","50px","border-radius","50%"],[2,"color","red"],[1,"cat-select-list"],[1,"col-lg-4"],[1,"cat-select-list-des"],[1,"cat-select-head"],[1,"cat-seledt-link"],["class","yes-radio",4,"ngFor","ngForOf"],["class","loader-spinner",4,"ngIf"],[1,"yes-radio"],["type","radio","name","province","id","provines","data-provines","22","data-name","Alberta",3,"ngModel","value","ngModelChange","click"],["type","radio","name","region","id","regions","data-provines","22","data-name","Alberta",3,"value","ngModel","ngModelChange","click"],["type","radio","name","city","id","cities","data-provines","22","data-name","Alberta",3,"value","ngModel","ngModelChange","click"],[1,"loader-spinner"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"div",3),c.Qb(4,"form"),c.Qb(5,"div",0),c.Qb(6,"div",1),c.Qb(7,"div",4),c.Qb(8,"div",5),c.Qb(9,"ul",6),c.Qb(10,"li"),c.Qb(11,"a",7),c.Xb("click",(function(){return t.prevPage()})),c.Lb(12,"img",8),c.Pb(),c.Pb(),c.Qb(13,"li"),c.Lb(14,"img",9),c.Qb(15,"span",10),c.Jc(16,"Posting in"),c.Pb(),c.Jc(17),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(18,"div",11),c.Qb(19,"div",0),c.Qb(20,"form"),c.Qb(21,"div",1),c.Qb(22,"div",12),c.Qb(23,"div",13),c.Qb(24,"h2",14),c.Jc(25," Select a Province "),c.Pb(),c.Qb(26,"div",15),c.Hc(27,z,4,3,"label",16),c.Pb(),c.Pb(),c.Pb(),c.Qb(28,"div",12),c.Qb(29,"div",13),c.Qb(30,"h2",14),c.Jc(31," Select a Region "),c.Pb(),c.Qb(32,"div",15),c.Hc(33,L,4,3,"label",16),c.Pb(),c.Pb(),c.Pb(),c.Qb(34,"div",12),c.Qb(35,"div",13),c.Qb(36,"h2",14),c.Jc(37," Select a City "),c.Pb(),c.Qb(38,"div",15),c.Hc(39,N,4,3,"label",16),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Hc(40,S,1,0,"div",17)),2&e&&(c.Cb("submitting",t.submitting),c.yb(17),c.Lc(" ",t.ad.categoryName,". "),c.yb(10),c.ic("ngForOf",t.countries),c.yb(6),c.ic("ngForOf",t.states),c.yb(6),c.ic("ngForOf",t.cities),c.yb(1),c.ic("ngIf",t.loading))},directives:[b.A,b.o,b.p,n.m,n.n,b.u,b.c,b.n,b.q],styles:['.selector-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-evenly;align-items:center}.select[_ngcontent-%COMP%]{min-width:32%;flex:1;max-width:48%;height:60px;margin:5px 2px}[_nghost-%COMP%]     .p-dropdown{width:100%;height:100%;background:#f5f5f5}[_nghost-%COMP%]     .p-dropdown-label{display:flex;align-items:center}.page-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}.loader-spinner[_ngcontent-%COMP%]{border:10px solid #f3f3f3;border-top-color:#3498db;border-radius:50%;width:70px;height:70px;-webkit-animation:spin 1.5s linear infinite;animation:spin 1.5s linear infinite;z-index:1000;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@media screen and (max-width:700px){.select[_ngcontent-%COMP%]{min-width:45%;max-width:unset}}@media screen and (max-width:500px){.select[_ngcontent-%COMP%]{width:100%}}']}),e})();var $=i("mrSG"),j=i("tk/3"),F=i("JP5V"),T=i("3LrJ");const E=["adImagesModalClose"],R=["BusinessRegModalClose"],X=["adVideoModalClose"],D=["prev"],H=["next"];function K(e,t){if(1&e){const e=c.Rb();c.Qb(0,"ul"),c.Qb(1,"li"),c.Qb(2,"a"),c.Lb(3,"i",60),c.Pb(),c.Pb(),c.Qb(4,"li"),c.Lb(5,"img",61),c.cc(6,"server"),c.Pb(),c.Qb(7,"li"),c.Jc(8),c.Pb(),c.Qb(9,"li"),c.Qb(10,"a",62),c.Xb("click",(function(){c.zc(e);const i=t.$implicit,n=t.index;return c.bc().deleteAdImage(i,n)})),c.Jc(11,"-"),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit,i=t.index;c.yb(5),c.jc("src",c.dc(6,2,e),c.Cc),c.yb(3),c.Lc("Ad Image ",i+1,"/10 ")}}function U(e,t){if(1&e){const e=c.Rb();c.Qb(0,"ul"),c.Qb(1,"li"),c.Qb(2,"a"),c.Lb(3,"i",60),c.Pb(),c.Pb(),c.Qb(4,"li"),c.Lb(5,"img",61),c.cc(6,"server"),c.Pb(),c.Qb(7,"li"),c.Jc(8),c.Pb(),c.Qb(9,"li"),c.Qb(10,"a",62),c.Xb("click",(function(){c.zc(e);const i=t.$implicit,n=t.index;return c.bc().delete_BRP(i,n)})),c.Jc(11,"-"),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit,i=t.index;c.yb(5),c.jc("src",c.dc(6,2,e),c.Cc),c.yb(3),c.Lc("Business Registration Proof ",i+1,"/2 ")}}function V(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",63),c.Qb(1,"label",64),c.Lb(2,"img",65),c.Qb(3,"input",66),c.Xb("click",(function(){c.zc(e);const i=t.$implicit,n=t.index;return c.bc().ad_image_selection_change(i.imgPath,n)})),c.Pb(),c.Lb(4,"span",67),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit;c.yb(2),c.jc("src",e.imgPath,c.Cc)}}function q(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",63),c.Qb(1,"label",64),c.Lb(2,"img",65),c.Qb(3,"input",66),c.Xb("click",(function(){c.zc(e);const i=t.$implicit,n=t.index;return c.bc().BRP_selection_change(i.imgPath,n)})),c.Pb(),c.Lb(4,"span",67),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit;c.yb(2),c.jc("src",e.imgPath,c.Cc)}}let Y=(()=>{class e{constructor(e,t,i){this.ps=e,this.router=t,this.loader=i,this.submitting=!1,this.currentSelectedAdImages=[],this.maxAdImages=10,this.newlyAddedAdImages=0,this.currentSelectedBRP=[],this.maxBRPFiles=2,this.uploadedAdVideo=null,this.newVideoLink=null,this.unsub$=new s.a,this.uploadedAdImages=[],this.uploadedBRP=[]}ngOnInit(){this.ps.newPage(4),this.load(),this.ps.AdObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.stopload(),this.ad=e,this.isAdInitialized(e),this.prefill_component_data(e)})}ngAfterViewInit(){this.ps.checkSubmition().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{var t,i,n,a;console.log(e),"save-next"==e?null===(i=null===(t=this.nextButton)||void 0===t?void 0:t.nativeElement)||void 0===i||i.click():"prev"==e?null===(a=null===(n=this.prevButton)||void 0===n?void 0:n.nativeElement)||void 0===a||a.click():this.nextNoSave()})}isAdInitialized(e){var t;(null===(t=this.ad)||void 0===t?void 0:t._id)||(this.ps.newMessage("info","Ad Not Initialized","Please start a new ad by selecting category"),this.router.navigate(["/sponsor/post/select-location"]))}prefill_component_data(e){e.adImages instanceof Array&&(this.uploadedAdImages=e.adImages,this.maxAdImages=10-this.uploadedAdImages.length),e.BRPFiles instanceof Array&&(this.uploadedBRP=e.BRPFiles),e.adVideo&&(this.uploadedAdVideo=e.adVideo)}uploadAdImages(e){const t=e;this.load(),this.ps.save_ad_images(t).subscribe(e=>{this.handle_adImage_upload_httpEvents(e,t)},this.errorHandle.bind(this))}handle_adImage_upload_httpEvents(e,t){if(e.type==j.d.UploadProgress)this.loader.load(Math.round(100*e.loaded/e.total));else if(e instanceof j.f){const i=e.body;this.stopload(),i.status?(this.ps.newMessage("success","Images Uploaded","All the images are successfully uploaded"),this.newlyAddedAdImages+=t.length,this.ps.NewAdData(i.data),this.currentSelectedAdImages=[],this.adImagesModalCloseButton.nativeElement.click()):this.ps.newMessage("error","Couldn't Upload",i.message)}}deleteAdImage(e,t){this.load(),this.ps.deleteAdImage(e).subscribe(i=>{i.status?(this.ps.newMessage("success","Delete Ad Image","Image was deleted from server"),this.remove_adimage_from_component_array(e,t),this.ad.adImages=this.uploadedAdImages,this.ps.NewAdData(this.ad)):(this.ps.newMessage("error","Failed To Delete",i.message),this.stopload())},this.errorHandle.bind(this))}remove_adimage_from_component_array(e,t){if(this.uploadedAdImages[t]==e)this.uploadedAdImages.splice(t,1);else{const t=this.uploadedAdImages.indexOf(e);this.uploadedAdImages.splice(t,1)}}delete_BRP(e,t){this.load(),this.ps.deleteBRP(e).subscribe(i=>{i.status?(this.ps.newMessage("success","Delete File","File was deleted from server"),this.remove_BRP_from_component_array(e,t),this.ad.adImages=this.uploadedAdImages,this.ps.NewAdData(this.ad)):(this.ps.newMessage("error","Failed To Delete",i.message),this.stopload())},this.errorHandle.bind(this))}remove_BRP_from_component_array(e,t){if(this.uploadedBRP[t]==e)this.uploadedBRP.splice(t,1);else{const t=this.uploadedBRP.indexOf(e);this.uploadedAdImages.splice(t,1)}}uploadAdVideo(){this.confirmVideoReupload()&&(this.load(),this.ps.save_ad_video_link(this.newVideoLink).subscribe(e=>{this.handle_adVideo_upload_httpEvents(e)},this.errorHandle.bind(this)))}confirmVideoReupload(){return!this.ad.adVideo||confirm("A Video is already saved, Do You want to save new link?")}handle_adVideo_upload_httpEvents(e){if(e.type==j.d.UploadProgress)this.loader.load(Math.round(100*e.loaded/e.total));else if(e instanceof j.f){const t=e.body;this.stopload(),t.status?(this.ps.newMessage("success","Video Uploaded","The video was uploaded"),this.ps.NewAdData(t.data),this.newVideoLink=null,this.adVideoModalCloseButton.nativeElement.click()):this.ps.newMessage("error","Couldn't Upload",t.message)}}uploadBRProof(e){this.ps.save_BRP_files(e).pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.handle_BRP_upload_httpEvents(e)},e=>{this.errorHandle(e)})}handle_BRP_upload_httpEvents(e){if(e.type==j.d.UploadProgress)this.loader.load(Math.round(100*e.loaded/e.total),"Uploading.....");else if(e instanceof j.f){const t=e.body;this.stopload(),t.status?this.handle_BRP_upload_success(t):this.ps.newMessage("error","Couldn't Upload",t.message)}}handle_BRP_upload_success(e){this.ps.newMessage("success","Images Uploaded","All the images are successfully uploaded"),this.ps.NewAdData(e.data),this.currentSelectedBRP=[],this.businessRegModalCloseButton.nativeElement.click()}nextNoSave(){"published"==this.ad.adState&&this.router.navigate(["/sponsor/post-edit/user-details"])}nextPage(e="/sponsor/post-edit/user-details"){this.uploadedAdImages.length>0&&this.uploadedAdVideo?this.unuploadedFilesExists()?this.ifDiscardUnuploadedFiles()&&this.router.navigate([e]):this.router.navigate([e]):this.ps.newMessage("error","No Image Uploaded","Please upload required images")}prevPage(){this.router.navigate(["/sponsor/post-edit/ad-content"])}unuploadedFilesExists(){return this.currentSelectedAdImages.length>0||null!=this.newVideoLink}ifDiscardUnuploadedFiles(){return!1}select_new_image_for_ad_images(e,t){return Object($.a)(this,void 0,void 0,(function*(){this.submitting=!0;const i=e.target.files;for(let e of i)if(this.currentSelectedAdImages.length<10-this.uploadedAdImages.length){const t=yield this.convertToBase64(e);this.currentSelectedAdImages.push({imgPath:t,blob:e,selected:!0})}else this.ps.newMessage("info","Cannot Add More","Maximum number of images reached.");t.reset(),this.submitting=!1}))}convertToBase64(e){return new Promise((t,i)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{t(n.result)},n.onerror=()=>{i("error in parsing")}})}finalize_selected_ad_images(){const e=this.currentSelectedAdImages.map(e=>{if(1==e.selected)return e.blob});this.uploadAdImages(e)}finalize_selected_BRP(){const e=this.currentSelectedBRP.map(e=>{if(1==e.selected)return e.blob});this.uploadBRProof(e)}ad_image_selection_change(e,t){var i;if((null===(i=this.currentSelectedAdImages[t])||void 0===i?void 0:i.imgPath)==e)this.currentSelectedAdImages[t].selected=!this.currentSelectedAdImages[t].selected;else{const t=this.currentSelectedAdImages.find(t=>t.imgPath==e);t&&(t.selected=!t.selected)}}BRP_selection_change(e,t){var i;if((null===(i=this.currentSelectedBRP[t])||void 0===i?void 0:i.imgPath)==e)this.currentSelectedBRP[t].selected=!this.currentSelectedBRP[t].selected;else{const t=this.currentSelectedBRP.find(t=>t.imgPath==e);t&&(t.selected=!t.selected)}}add_new_BR_proof(e,t){return Object($.a)(this,void 0,void 0,(function*(){const i=e.target.files;for(let e of i){if(!(this.currentSelectedBRP.length<2-this.uploadedBRP.length)){this.ps.newMessage("info","Cannot Add More","Maximum number of images reached.");break}{const t=yield this.convertToBase64(e);this.currentSelectedBRP.push({imgPath:t,blob:e,selected:!0})}}t.reset()}))}errorHandle(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","sorry some error occured"):this.ps.newMessage("error","Couldn't Save",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message),this.stopload()}load(){this.submitting=!0,this.loader.start()}stopload(){this.submitting=!1,this.loader.stop()}ngOnDestroy(){var e,t,i;this.unsub$.next(!0),this.unsub$.complete(),null===(e=this.adImagesModalCloseButton)||void 0===e||e.nativeElement.click(),null===(t=this.businessRegModalCloseButton)||void 0===t||t.nativeElement.click(),null===(i=this.adVideoModalCloseButton)||void 0===i||i.nativeElement.click()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(r.a),c.Kb(a.f),c.Kb(d.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-photos"]],viewQuery:function(e,t){var i;1&e&&(c.Qc(E,!0),c.Qc(R,!0),c.Qc(X,!0),c.Qc(D,!0),c.Qc(H,!0)),2&e&&(c.vc(i=c.Yb())&&(t.adImagesModalCloseButton=i.first),c.vc(i=c.Yb())&&(t.businessRegModalCloseButton=i.first),c.vc(i=c.Yb())&&(t.adVideoModalCloseButton=i.first),c.vc(i=c.Yb())&&(t.prevButton=i.first),c.vc(i=c.Yb())&&(t.nextButton=i.first))},decls:135,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form"],[1,"col-lg-12"],[1,"upload-img","text-center"],["data-toggle","modal","data-name1","photo","id","pic1","data-target",".adImg-modal"],["aria-hidden","true",1,"fa","fa-picture-o"],["data-toggle","modal","data-target",".video-modal"],["aria-hidden","true",1,"fa","fa-video-camera"],["data-toggle","modal","data-name","photo","id","pic","data-target",".identityImg-modal"],["aria-hidden","true",1,"fa","fa-file"],[1,"img-list"],[1,"img-sub-list"],["id","show_image"],[4,"ngFor","ngForOf"],[1,"top-tip"],[1,"fa","fa-info-circle"],[1,"d-footer","c-footer",2,"display","none"],["type","button",1,"btn","btn-prev",3,"click"],["prev",""],[1,"fa","fa-angle-left"],[1,"btn","btn-next",3,"click"],["next",""],[1,"fa","fa-angle-right"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","adImg-modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["adImagesInputForm",""],[1,"modal-header","text-left",2,"border-bottom","none"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["adImagesModalClose",""],["aria-hidden","true"],[1,"modal-body"],[1,"upload-file"],["id","saved-pictures",1,"moderation__grid"],[1,"row","gallery-img-id"],["class","col-sm-2 selectedImages",4,"ngFor","ngForOf"],["id","prepend_div",1,"col-sm-2"],["for","gallery-photo-add",1,"label-head"],["type","file","name","adImages","multiple","","id","gallery-photo-add","accept","image/jpg, image/png",3,"change"],[1,"modal-footer"],["type","button","name","submit",1,"btn","btn-select",3,"click"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","identityImg-modal","fade","bd-example-modal-lg"],["BRPInputForm",""],["id","exampleModalLongTitle",1,"modal-title","pr-3"],["BusinessRegModalClose",""],["for","gallery-photo-add-identity",1,"label-head"],["type","file","name","identityImages","id","gallery-photo-add-identity","accept","image/jpg, image/png","multiple","",2,"display","none",3,"change"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","img-modal","fade","video-modal","bd-example-modal-lg"],[1,"modal-header","text-left",2,"border-bottom","0px"],["adVideoModalClose",""],[1,"cssform"],[1,"col-12","px-0"],["type","url","name","video","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"video-container"],[1,"loading-message"],["id","cartoonVideo","width","100%","height","250","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","frameborder","0","allowfullscreen","",1,"embed-responsive-item",3,"src"],["type","submit","name","submit",1,"btn","btn-select",3,"click"],[1,"fa","fa-bars"],["alt","Images",3,"src"],["href","javascript:void(0)",1,"minus-btn",3,"click"],[1,"col-sm-2","selectedImages"],[1,"image-with-selection"],[1,"image-with-selection__image",3,"src"],["type","checkbox","checked","",1,"image-with-selection__checkbox",3,"click"],[1,"image-with-selection__checkmark"]],template:function(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"form"),c.Qb(4,"div",3),c.Qb(5,"div",0),c.Qb(6,"div",1),c.Qb(7,"div",4),c.Qb(8,"div",5),c.Qb(9,"ul"),c.Qb(10,"li",6),c.Lb(11,"i",7),c.Jc(12," Add Pictures"),c.Qb(13,"span"),c.Jc(14),c.Pb(),c.Pb(),c.Qb(15,"li",8),c.Lb(16,"i",9),c.Jc(17," Add Video"),c.Qb(18,"span"),c.Jc(19),c.Pb(),c.Pb(),c.Qb(20,"li",10),c.Lb(21,"i",11),c.Jc(22," Business Registration"),c.Qb(23,"span"),c.Jc(24,"Document"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(25,"div",12),c.Qb(26,"div",13),c.Qb(27,"span",14),c.Hc(28,K,12,4,"ul",15),c.Hc(29,U,12,4,"ul",15),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(30,"div",16),c.Qb(31,"h3"),c.Lb(32,"i",17),c.Jc(33," Top tip for a successful advertisement "),c.Pb(),c.Qb(34,"p"),c.Jc(35," It's obvious that adding a good photo will increase your ad's potential for success, but it's equally important to have agood number of photos, especially from different angles,perspectives,and locations. Experiment. "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(36,"div",18),c.Qb(37,"ul"),c.Qb(38,"li"),c.Qb(39,"button",19,20),c.Xb("click",(function(){return t.prevPage()})),c.Lb(41,"i",21),c.Jc(42,"Previous step"),c.Pb(),c.Pb(),c.Qb(43,"li"),c.Qb(44,"button",22),c.Xb("click",(function(){return t.nextPage("/agency")})),c.Jc(45," Save & Exit "),c.Pb(),c.Pb(),c.Qb(46,"li"),c.Qb(47,"button",22,23),c.Xb("click",(function(){return t.nextPage()})),c.Jc(49," Next step "),c.Lb(50,"i",24),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(51,"div",25),c.Qb(52,"div",26),c.Qb(53,"div",27),c.Qb(54,"div",27),c.Qb(55,"form",null,28),c.Qb(57,"div",29),c.Qb(58,"h5",30),c.Jc(59,"Select from your computer"),c.Pb(),c.Qb(60,"button",31,32),c.Qb(62,"span",33),c.Jc(63,"\xd7"),c.Pb(),c.Pb(),c.Pb(),c.Qb(64,"div",34),c.Qb(65,"div",35),c.Qb(66,"div",36),c.Qb(67,"div",37),c.Hc(68,V,5,1,"div",38),c.Qb(69,"div",39),c.Qb(70,"label",40),c.Qb(71,"span"),c.Jc(72,"+"),c.Pb(),c.Jc(73,"Add"),c.Pb(),c.Qb(74,"input",41),c.Xb("change",(function(i){c.zc(e);const n=c.wc(56);return t.select_new_image_for_ad_images(i,n)})),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(75,"div",42),c.Qb(76,"button",43),c.Xb("click",(function(){return t.finalize_selected_ad_images()})),c.Jc(77,"Use selected Pics "),c.Lb(78,"i",24),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(79,"div",44),c.Qb(80,"div",26),c.Qb(81,"div",27),c.Qb(82,"div",27),c.Qb(83,"form",null,45),c.Qb(85,"div",29),c.Qb(86,"h5",46),c.Jc(87,"Provide 2 Business Registration Documents verifying your business."),c.Pb(),c.Qb(88,"button",31,47),c.Qb(90,"span",33),c.Jc(91,"\xd7"),c.Pb(),c.Pb(),c.Pb(),c.Qb(92,"div",34),c.Qb(93,"div",35),c.Qb(94,"div",36),c.Qb(95,"div",37),c.Hc(96,q,5,1,"div",38),c.Qb(97,"div",39),c.Qb(98,"label",48),c.Qb(99,"span"),c.Jc(100,"+"),c.Pb(),c.Jc(101,"Add"),c.Pb(),c.Qb(102,"input",49),c.Xb("change",(function(i){c.zc(e);const n=c.wc(84);return t.add_new_BR_proof(i,n)})),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(103,"div",42),c.Qb(104,"button",43),c.Xb("click",(function(){return t.finalize_selected_BRP()})),c.Jc(105,"Use selected Pics "),c.Lb(106,"i",24),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(107,"div",50),c.Qb(108,"div",26),c.Qb(109,"div",27),c.Qb(110,"div",27),c.Qb(111,"div",51),c.Qb(112,"h5",30),c.Jc(113,"Video URL"),c.Pb(),c.Qb(114,"button",31,52),c.Qb(116,"span",33),c.Jc(117,"\xd7"),c.Pb(),c.Pb(),c.Pb(),c.Qb(118,"form",53),c.Qb(119,"div",34),c.Qb(120,"div",35),c.Qb(121,"ul"),c.Qb(122,"li",54),c.Qb(123,"input",55),c.Xb("ngModelChange",(function(e){return t.newVideoLink=e})),c.Pb(),c.Pb(),c.Pb(),c.Qb(124,"div",56),c.Qb(125,"div",57),c.Qb(126,"h4"),c.Qb(127,"small"),c.Jc(128,"Preview will load here."),c.Pb(),c.Pb(),c.Pb(),c.Lb(129,"iframe",58),c.cc(130,"safe"),c.Pb(),c.Pb(),c.Pb(),c.Qb(131,"div",42),c.Qb(132,"button",59),c.Xb("click",(function(){return t.uploadAdVideo()})),c.Jc(133," Use selected Video "),c.Lb(134,"i",24),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}2&e&&(c.Cb("submitting",t.submitting),c.yb(14),c.Lc("",10-t.uploadedAdImages.length," Left"),c.yb(5),c.Lc("",t.uploadedAdVideo?"0":"1"," Left"),c.yb(9),c.ic("ngForOf",t.uploadedAdImages),c.yb(1),c.ic("ngForOf",t.uploadedBRP),c.yb(39),c.ic("ngForOf",t.currentSelectedAdImages),c.yb(28),c.ic("ngForOf",t.currentSelectedBRP),c.yb(27),c.jc("placeholder",t.uploadedAdVideo||"e.g. http://youtube.com/JDJSU72 or http://vimeo.com/8273612"),c.ic("ngModel",t.newVideoLink),c.yb(6),c.ic("src",c.dc(130,11,t.newVideoLink||t.uploadedAdVideo),c.Bc))},directives:[b.A,b.o,b.p,n.m,b.c,b.w,b.n,b.q],pipes:[F.a,T.a],styles:['.label[_ngcontent-%COMP%]{color:#6b9bb2;font-weight:700}.page-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}.uploadedImages[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 15px}.uploadedImages[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:5px 0}.uploadedImages[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}video[_ngcontent-%COMP%]{width:150px;height:auto}button.btn.btn-select[_ngcontent-%COMP%]{color:#fff;font-weight:700;background:#01768a;padding:9px 30px 5px}.image-with-selection__checkmark[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;width:18px;height:18px;top:4.5px;right:4.5px;border:1.5px solid hsla(0,0%,100%,.9);background-color:rgba(0,0,0,.5);z-index:10;border-radius:50%}.image-with-selection__checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute}.image-with-selection__checkbox[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.image-with-selection__checkbox[_ngcontent-%COMP%]:checked ~ .image-with-selection__checkmark[_ngcontent-%COMP%]:after{left:6.5px;top:3.5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;transform:rotate(45deg)}.image-with-selection[_ngcontent-%COMP%]{width:100%;border-radius:6px;overflow:hidden;display:flex;position:relative;margin-right:15px;margin-bottom:15px}.image-with-selection__checkbox[_ngcontent-%COMP%]:checked ~ .image-with-selection__checkmark[_ngcontent-%COMP%]{background-color:#58a688;box-shadow:0 2px 9px 0 rgba(0,0,0,.76);border:none}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{box-sizing:border-box;padding:0;margin:4px 0 0;margin-top:1px\\9;line-height:normal}.image-with-selection__image[_ngcontent-%COMP%]{width:100px;height:100px}']}),e})(),G=(()=>{class e{constructor(e,t,i){this.ss=e,this.ar=t,this.router=i}ngOnInit(){this.adId=this.ar.snapshot.paramMap.get("adId"),this.ss.getUserSessionObservable().subscribe(e=>{this.email=e.email})}goToAd(){this.router.navigate(["/ads/full"],{queryParams:{ad:this.adId}})}upgrade_plan(e){e.preventDefault(),this.router.navigate(["/sponsor/bumps/purchase-bumps"])}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(l.a),c.Kb(a.a),c.Kb(a.f))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-posted"]],decls:18,vars:1,consts:[[1,"ad-post"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"ad-post-des"],["src","assets/images/ad-upgrade.png","alt","Images"],["href","javascript:void(0)",3,"click"],[1,"view-ad"],[1,"btn","btn-viewmore",3,"click"]],template:function(e,t){1&e&&(c.Qb(0,"section",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"div",3),c.Qb(4,"div",4),c.Lb(5,"img",5),c.Qb(6,"p"),c.Jc(7," Please note that it might take up 24 hours until you see your Ad in the search results and "),c.Qb(8,"b"),c.Jc(9,"Ad center."),c.Pb(),c.Jc(10),c.Pb(),c.Qb(11,"p"),c.Jc(12," No more bumps left, but you can "),c.Qb(13,"a",6),c.Xb("click",(function(e){return t.upgrade_plan(e)})),c.Jc(14,"buy more"),c.Pb(),c.Pb(),c.Qb(15,"div",7),c.Qb(16,"a",8),c.Xb("click",(function(){return t.goToAd()})),c.Jc(17,"View your new ad"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.yb(10),c.Lc(" We've sent an email to ",t.email," with a summary of your order. "))},styles:[""]}),e})();var Z=i("bhfF");const W=["modalButton"];function ee(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",24),c.Qb(1,"li",25),c.Qb(2,"a",26),c.Xb("click",(function(){c.zc(e);const t=c.bc().$implicit;return c.bc().select_category(t._id)})),c.Lb(3,"img",27),c.cc(4,"server"),c.Lb(5,"img",28),c.cc(6,"server"),c.Jc(7),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=c.bc().$implicit,t=c.bc();c.yb(1),c.Cb("active",e._id==t.selectedCategory),c.yb(2),c.jc("src",e.imagePath?c.dc(4,7,e.imagePath):"assets/images/banner1.jpg",c.Cc),c.jc("alt",e.title),c.yb(2),c.jc("src",e.imagePath?c.dc(6,9,e.imagePath):"assets/images/banner1.jpg",c.Cc),c.jc("alt",e.title),c.yb(2),c.Lc(" ",e.title," ")}}function te(e,t){1&e&&(c.Ob(0),c.Hc(1,ee,8,11,"ng-template",23),c.Nb())}function ie(e,t){if(1&e){const e=c.Rb();c.Ob(0),c.Qb(1,"div",29),c.Qb(2,"div",30),c.Xb("click",(function(){c.zc(e);const i=t.$implicit;return c.bc().select_category(i._id)})),c.Qb(3,"a"),c.Jc(4),c.Pb(),c.Pb(),c.Pb(),c.Nb()}if(2&e){const e=t.$implicit,i=c.bc();c.yb(2),c.Cb("active",i.selectedCategory==e._id),c.yb(2),c.Lc(" ",e.title,"\t")}}let ne=(()=>{class e{constructor(e,t,i,n,a){this.ps=e,this.router=t,this.ar=i,this.ss=n,this.loader=a,this.customOptions={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:3},940:{items:4},1100:{items:2}},nav:!0,autoWidth:!0},this.submitting=!1,this.duplicateAdId=null,this.unsub$=new s.a,this.selectedCategory=void 0}ngOnInit(){this.ps.newPage(1),this.getCategories().then(this.checkAction.bind(this)),this.ss.getUserSessionObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{e._id||(this.ps.newMessage("error","Login Needed","Please login to perform this action"),this.router.navigate(["/"]))}),this.ps.AdObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.ad=e,this.ad instanceof Object&&this.ad.categoryId&&(this.selectedCategory=this.ad.categoryId)})}checkAction(){this.ar.queryParams.pipe(Object(o.a)(this.unsub$)).subscribe(e=>{"edit"==e.action&&(e.adId?this.editAd(e.adId):alert("no ad choosen to edit"))})}getCategories(){return new Promise((e,t)=>{this.ps.getCategories().pipe(Object(o.a)(this.unsub$)).subscribe(i=>{if(i.status)return this.categories=i.data.categories,e(!0);this.ps.newMessage("error","Failed","couldn't fetch categories"),t(!1)},e=>{this.handle_error(e),t(!1)})})}select_category(e){if(this.selectedCategory=e,this.selected_category_is_foodbank(this.selectedCategory))return;let t=null,i=null;if(this.ad instanceof Object&&this.ad._id){if(this.selectedCategory==this.ad.categoryId)return this.nextPage();if(!confirm("category is already selected, do you want to change ad category?"))return this.selectedCategory=this.ad.categoryId,!1;t=this.ad._id,i="update-category"}this.load(),this.ps.selectCategory(this.selectedCategory,t).pipe(Object(o.a)(this.unsub$)).subscribe(e=>{if(this.stopload(),e.status)return"update-category"==i?(this.ad.categoryId=e.data.categoryId,this.ad.categoryName=e.data.categoryName,e.data.completedSteps instanceof Object&&(this.ad.completedSteps=e.data.completedSteps),this.ps.NewAdData(this.ad)):this.ps.NewAdData(e.data),this.nextPage();this.handle_selection_failure(e,t)},e=>{this.handle_error(e),t&&(this.selectedCategory=this.ad.categoryId)})}handle_selection_failure(e,t){if(e.code){if("duplicate-record"==e.code)return this.duplicateAdId=e.data.adId,this.handle_duplicate();"no-record"==e.code?this.ps.newMessage("info","Category Not Found",e.message+", this category might be deleted"):this.ps.newMessage("error","Error",e.message)}t&&(this.selectedCategory=this.ad.categoryId)}nextPage(){var e;if(!this.selectedCategory)return this.ps.newMessage("error","No Category Selected","Please select a category");if(this.selectedCategory==(null===(e=this.ad)||void 0===e?void 0:e.categoryId)){if(this.ps.newMessage("success","Category Saved","selected category was saved"),this.selected_category_is_foodbank(this.ad.categoryName))return;this.router.navigate(["/sponsor/post/select-location"])}else this.select_category(this.selectedCategory)}selected_category_is_foodbank(e){const t=this.categories.find(t=>t._id==e);return"foodbank"==(null==t?void 0:t.title.toLowerCase())&&(setTimeout(()=>{this.router.navigate(["/sponsor/foodbank/steps/select-location"])},0),!0)}editAd(e){this.load(),this.ps.get_ad(e).pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.stopload(),e.status?this.ps.NewAdData(e.data):alert(e.message)},this.handle_error.bind(this))}load(){this.submitting=!0,this.loader.start()}stopload(){this.submitting=!1,this.loader.stop()}handle_duplicate(){this.modalButton.nativeElement.click()}delete_previous(){this.load(),this.ps.delete_with_category(this.selectedCategory,this.duplicateAdId).pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.stopload(),this.modalButton.nativeElement.click(),e.status?(this.ps.newMessage("success","Previous Ad Deleted","Previous Ad was deleted"),this.select_category(this.selectedCategory)):this.ps.newMessage("error","Couldn't Delete Ad",e.message)},e=>{this.modalButton.nativeElement.click(),this.handle_error(e)})}handle_error(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Failed","couldn't connect to the url"):this.ps.newMessage("error","Failed",""+((null===(t=e.error)||void 0===t?void 0:t.message)||e.message)),this.stopload()}ngOnDestroy(){this.unsub$.next(!0),this.unsub$.complete()}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(r.a),c.Kb(a.f),c.Kb(a.a),c.Kb(l.a),c.Kb(d.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-select-category"]],viewQuery:function(e,t){var i;1&e&&c.Qc(W,!0),2&e&&c.vc(i=c.Yb())&&(t.modalButton=i.first)},decls:34,vars:5,consts:[["type","button","data-toggle","modal","data-target","#exampleModalCenter",1,"btn","btn-primary",2,"display","none"],["modalButton",""],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"d-header","cat-header",2,"padding","0px"],[1,"container-fluid",2,"padding","0px"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form","cat-form",2,"margin-top","0px"],[1,"col-lg-12"],[1,"cat-list"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide",""],[1,"item"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"img-white","category_img",3,"src","alt"],[1,"img-red","category_img",3,"src","alt"],[1,"col-lg-3","col-md-6"],[1,"tab-list",2,"height","55px",3,"click"]],template:function(e,t){1&e&&(c.Qb(0,"button",0,1),c.Jc(2," Launch demo modal "),c.Pb(),c.Qb(3,"div",2),c.Qb(4,"div",3),c.Qb(5,"div",4),c.Qb(6,"div",5),c.Qb(7,"h5",6),c.Jc(8,"Action"),c.Pb(),c.Qb(9,"button",7),c.Qb(10,"span",8),c.Jc(11,"\xd7"),c.Pb(),c.Pb(),c.Pb(),c.Qb(12,"div",9),c.Jc(13," An Ad with this category is already present, Do you want to delete it and continue with this ad? "),c.Pb(),c.Qb(14,"div",10),c.Qb(15,"button",11),c.Jc(16,"Close"),c.Pb(),c.Qb(17,"button",12),c.Xb("click",(function(){return t.delete_previous()})),c.Jc(18,"Delete"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(19,"section",13),c.Qb(20,"div",14),c.Qb(21,"div",15),c.Qb(22,"div",16),c.Qb(23,"div",17),c.Qb(24,"form"),c.Qb(25,"div",15),c.Qb(26,"div",18),c.Qb(27,"div",19),c.Qb(28,"ul",20),c.Qb(29,"owl-carousel-o",21),c.Hc(30,te,2,0,"ng-container",22),c.Pb(),c.Pb(),c.Pb(),c.Qb(31,"div",19),c.Qb(32,"div",15),c.Hc(33,ie,5,3,"ng-container",22),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.yb(19),c.Cb("submitting",t.submitting),c.yb(10),c.ic("options",t.customOptions),c.yb(1),c.ic("ngForOf",t.categories),c.yb(3),c.ic("ngForOf",t.categories))},directives:[b.A,b.o,b.p,Z.a,n.m,Z.c],pipes:[T.a],styles:['.categories[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.categories[_ngcontent-%COMP%], .category[_ngcontent-%COMP%]{display:flex;justify-content:center}.category[_ngcontent-%COMP%]{min-width:16.66%;max-width:30%;height:140px;position:relative;padding:2px;margin:2px;flex-direction:column;align-items:center;background:#f5f5f5;overflow:hidden}.category[_ngcontent-%COMP%]:hover{cursor:pointer}.category[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;left:0;bottom:0;height:2px;background-color:#962179;transition:.4s;width:0}.category[_ngcontent-%COMP%]:hover:after{width:100%}.category[_ngcontent-%COMP%]:hover   .category-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}.category-image[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;overflow:hidden;margin:0 auto}.category-image[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.category-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-size:20px;font-weight:bolder;padding:0;margin:0}.category.active[_ngcontent-%COMP%]:after{width:100%}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.cat-list[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bd4630!important}.cat-list[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{width:100%}a[_ngcontent-%COMP%]{cursor:pointer}.tab-list.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .tab-list[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#bd4630}.subtitle[_ngcontent-%COMP%]{font-weight:400;color:#6c757d}.subtitle[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{margin-bottom:.5rem}.title[_ngcontent-%COMP%]{font-size:1.5rem!important;font-weight:700!important}.category_img[_ngcontent-%COMP%]{height:100px!important;width:100px!important;border-radius:50%}@media screen and (max-width:700px){.category[_ngcontent-%COMP%]{flex:1;max-width:unset}}@media screen and (max-width:500px){.category[_ngcontent-%COMP%]{min-width:45%}}']}),e})();function ae(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",94),c.Qb(1,"div",95),c.Xb("click",(function(){c.zc(e);const i=t.$implicit,n=c.bc();return n.select_plan(n.adPlans[0]._id,n.adPlans[0].planName,i)})),c.Qb(2,"a",96),c.Jc(3),c.Qb(4,"span"),c.Jc(5),c.Pb(),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit,i=c.bc();c.yb(2),c.Cb("active",e._id==i.categoryId),c.yb(1),c.Lc(" ",e.inDays?e.days+" Day":e.hours+" Hour"," "),c.yb(2),c.Lc("$ ",e.price,"")}}function se(e,t){if(1&e){const e=c.Rb();c.Ob(0),c.Qb(1,"li",97),c.Xb("click",(function(){c.zc(e);const i=t.$implicit,n=c.bc();return n.select_plan(n.adPlans[1]._id,n.adPlans[1].planName,i)})),c.Qb(2,"a",98),c.Jc(3),c.Pb(),c.Pb(),c.Nb()}if(2&e){const e=t.$implicit,i=c.bc();c.yb(2),c.Cb("active",e._id==i.categoryId),c.yb(1),c.Lc(" ",e.inHours?e.hours+" Hour":e.days+" Days"," ")}}function oe(e,t){if(1&e){const e=c.Rb();c.Qb(0,"li"),c.Qb(1,"a",99),c.Xb("click",(function(){c.zc(e);const i=t.$implicit;return c.bc().select_bump(i)})),c.Jc(2),c.Qb(3,"span"),c.Jc(4),c.Pb(),c.Pb(),c.Pb()}if(2&e){const e=t.$implicit,i=c.bc();c.yb(1),c.Cb("active",e._id==i.selectedBump._id),c.yb(1),c.Lc(" ",e.count," bumps "),c.yb(2),c.Lc("$ ",e.price,"/each")}}function ce(e,t){if(1&e&&(c.Qb(0,"ul"),c.Qb(1,"li"),c.Qb(2,"h4"),c.Jc(3),c.Qb(4,"span"),c.Jc(5),c.Pb(),c.Pb(),c.Qb(6,"p"),c.Jc(7),c.Pb(),c.Pb(),c.Pb()),2&e){const e=c.bc();c.yb(3),c.Lc(" ",e.plan.planName," "),c.yb(2),c.Lc("$ ",e.plan.price,""),c.yb(2),c.Lc(" ",e.plan.inDays?e.plan.days+" Day":e.plan.hours+" Hour"," ")}}function re(e,t){if(1&e&&(c.Qb(0,"ul"),c.Qb(1,"li"),c.Qb(2,"h4"),c.Jc(3," Additional Bump Ups "),c.Qb(4,"span"),c.Jc(5),c.Pb(),c.Pb(),c.Qb(6,"p"),c.Jc(7),c.Pb(),c.Pb(),c.Pb()),2&e){const e=c.bc();c.yb(5),c.Lc(" $ ",e.selectedBump.price,""),c.yb(2),c.Lc(" ",e.selectedBump.count+" Bumps"," ")}}function de(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",100),c.Qb(1,"p",101),c.Jc(2),c.Pb(),c.Qb(3,"button",102),c.Xb("click",(function(){return c.zc(e),c.bc().close_modal()})),c.Jc(4,"Cancel"),c.Pb(),c.Qb(5,"button",103),c.Xb("click",(function(){return c.zc(e),c.bc().buyBumpWithBalance()})),c.Jc(6,"Pay"),c.Pb(),c.Pb()}if(2&e){const e=c.bc();c.yb(2),c.Mc("You will be charge $",e.selectedBump.price," for ",e.selectedBump.count," bumps from your balance.")}}let le=(()=>{class e{constructor(e,t,i,n,a,o){this.router=e,this.ps=t,this.ss=i,this.ds=n,this.ar=a,this.loader=o,this.unsub$=new s.a,this.submitting=!1,this.adPlans=[],this.showPlan=!1,this.bumps=[],this.selectedBump={},this.showBumps=!1,this.FlagPlanAdded=!1,this.FlagPlanChanged=!1,this.FlagPlanPaid=!1,this.showMainPageOptions=!1,this.showPage1Options=!1,this.showBumpsOptions=!1,this.transactionDetails={}}ngOnInit(){this.ps.newPage(6),this.check_and_handle_ad(),this.getAdPlan(),this.ss.getUserSessionObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.balance=e.balance})}ngAfterViewInit(){this.ps.checkSubmition().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{"save-next"==e?this.nextPage():"prev"==e?this.prevPage():this.nextNoSave()})}check_and_handle_ad(){this.ps.AdObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{if(this.ad=e,!this.ad._id)return this.checkParamForAdId()})}checkParamForAdId(){this.ar.queryParams.pipe(Object(o.a)(this.unsub$)).subscribe(e=>{if(e.adId)return this.getAdData(e.adId);this.ps.newMessage("info","Ad Not Initialized","Please initialize the ad first by selecting category"),this.router.navigate(["/sponsor/post-edit/select-category"])})}getAdData(e){this.ps.get_ad(e).pipe(Object(o.a)(this.unsub$)).subscribe(e=>{e.status?this.ps.NewAdData(e.data):this.ps.newMessage("error","No Data",e.message)},this.errorHandle.bind(this))}getAdPlan(){this.ps.get_ad_plans().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{e.status?(this.adPlans=e.data.adPlans,this.bumps=e.data.bumps,this.fillPrePurchasedPlan()):this.ps.newMessage("error","No Plan Found",e.message)},this.errorHandle.bind(this))}fillPrePurchasedPlan(){if(this.check_ad_plan_selected(),this.ad.bumpupPlanCheck){const e=this.bumps.find(e=>{var t;return e._id==(null===(t=this.ad.bumpupPlan)||void 0===t?void 0:t._id)});this.selectedBump=e,this.FlagPlanChanged=!1,this.FlagPlanAdded=!0,this.showBumpsOptions=!0}}check_ad_plan_selected(){var e,t,i;if(this.ad.advertisePlanCheck){const n=this.adPlans.find(e=>{var t,i,n;return(null===(t=e.planName)||void 0===t?void 0:t.toLowerCase())==(null===(n=null===(i=this.ad.advertisePlan)||void 0===i?void 0:i.adPlanName)||void 0===n?void 0:n.toLowerCase())});n||(this.FlagPlanChanged=!0,this.ds.newMessage("info","Plan Not Found","Plan you chose was not found or may have changed",!0));const a=null===(e=this.ad.advertisePlan)||void 0===e?void 0:e.adPlanCategory,s=n.categories.find(e=>a==e._id);s||(this.FlagPlanChanged=!0,this.ds.newMessage("info","Plan Not Found","Plan you chose was not found or may have changed",!0)),this.select_plan(n._id,n.planName,s,null===(t=this.ad.advertisePlan)||void 0===t?void 0:t.paid),this.FlagPlanChanged=!1,this.FlagPlanAdded=!0,n.planName==(null===(i=this.adPlans[0])||void 0===i?void 0:i.planName)?this.showMainPageOptions=!0:this.showPage1Options=!0,this.ad.advertisePlan.paid&&(this.FlagPlanPaid=!0)}}select_plan(e,t,i,n=!1){e==this.planId&&i._id==this.categoryId||(this.planId=e,this.categoryId=i._id,this.plan=Object.assign({planId:e,planName:t,paid:n},i),this.FlagPlanChanged=!0)}select_bump(e){this.selectedBump=e,this.FlagPlanChanged=!0}buyBumps(){this.ps.lock=!0;const e=this.selectedBump;this.router.navigate(["/sponsor/bumps/pay-with-card"],{queryParams:{bumpId:e._id,price:e.price,count:e.count,back:"/sponsor/post-edit/upgrades",adId:this.ad._id}})}nextNoSave(){"published"==this.ad.adState&&this.router.navigate(["/receiver/post-edit/finalize"])}nextPage(e="/sponsor/post-edit/finalize"){this.load(),this.save_plan().then(()=>{this.stopload(),this.router.navigate([e])}).catch(()=>{this.stopload()})}prevPage(){this.router.navigate(["/sponsor/post-edit/user-details"])}save_plan(){return new Promise((e,t)=>this.FlagPlanAdded&&!this.FlagPlanChanged?e(!0):this.FlagPlanAdded&&this.FlagPlanPaid&&!window.confirm("you have already purchased a plan, upgrading will cost you extra")?(this.planId=this.ad.advertisePlan.adPlanId,this.categoryId=this.ad.advertisePlan.adPlanCategory,t(!1)):(this.ps.newPlanTake(this.plan),void this.save_plans_to_server(e,t)))}save_plans_to_server(e,t){var i;const n={adId:this.ad._id,adPlan:{planId:this.planId,categoryId:this.categoryId},bumps:{bumpId:null===(i=this.selectedBump)||void 0===i?void 0:i._id}};this.ps.save_plan(n).subscribe(i=>{i.status?(this.ad.completedSteps instanceof Object&&(this.ad.completedSteps[6]=!0),this.ps.NewAdData(Object.assign(Object.assign({},this.ad),i.data)),e(!0)):(this.ds.newMessage("error","Couldn't Save Plan",i.message),t(!1))},e=>{this.errorHandle(e),t(!1)})}upgrade(){this.showPlan=!0}cancelPlan(){this.showPlan=!1,this.plan=null,this.ps.newPlanTake({})}errorHandle(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","sorry some error occured"):this.ps.newMessage("error","Error Occured",(null===(t=e.error)||void 0===t?void 0:t.message)||e.error)}load(){this.submitting=!0,this.loader.start()}stopload(){this.submitting=!1,this.loader.stop()}ngOnDestroy(){this.unsub$.next(!0),this.unsub$.complete()}buyBumpWithBalance(){}close_page1_selection(){this.showPage1Options=!1,this.plan.planName==this.adPlans[1].planName&&(this.plan={},this.planId=null,this.categoryId=null)}close_main_page_selection(){this.showMainPageOptions=!1,this.plan.planName==this.adPlans[0].planName&&(this.plan={},this.planId=null,this.categoryId=null)}close_bumps_selection(){this.showBumpsOptions=!1,this.selectedBump={}}close_modal(){this.showConfirm=!1,this.selectedBump=null}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(a.f),c.Kb(r.a),c.Kb(l.a),c.Kb(A.a),c.Kb(a.a),c.Kb(d.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-upgrades"]],decls:265,vars:36,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"panl-list-sec","upgrade-list"],["alt","home-pic",3,"src"],[1,"cancer-des"],[1,"delivery-form"],[1,"col-lg-9"],[1,"upgrade-sec"],[1,"top-tip"],[1,"col-md-2"],["href","javascript:void(0);",1,"tip-links"],[1,"col-md-10"],[1,"up-common-header","upgrade-purple-header"],["src","assets/images/upgrade-1.png","alt","Icons"],[1,"common-page-des","upgrade-des"],[1,"btn","btn-featured",3,"click"],[1,"fa","fa-angle-right"],[1,"upgrade-hide-sec","common-hide-sec"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3",3,"click"],[1,"hide-sec-des","upgrade-close"],["href","javascript:void(0);"],[1,"fa","fa-close"],[1,"upgrade-sec","page-up-sec"],[1,"up-common-header","upgrade-black-header"],["src","assets/images/upgrade-2.png","alt","Icons"],[1,"common-page-des","page-sec-des"],[1,"btn","btn-page",3,"click"],[1,"page-hide-sec","common-hide-sec"],[1,"up-page-head"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[4,"ngFor","ngForOf"],[1,"upgrade-close",3,"click"],["id","myTabContent",1,"tab-content"],["id","home","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[1,"page-tab-des"],["id","hour_bumps"],["id","pg_one"],[1,"upgrade-sec","bump-up-sec"],[1,"up-common-header","upgrade-blue-header"],["src","assets/images/bump-icon-1.png","alt","Icons"],[1,"badge"],[1,"common-page-des","bump-page-des"],[1,"btn","btn-bumps-des",3,"click"],[1,"bumps-hide-sec","common-hide-sec"],[1,"bump-tab-list"],[1,"top-tip","yellow-tip"],[1,"fa","fa-info-circle"],[1,"understand-sec"],[1,"agree-head"],["href","javascript:void(0);",1,"contact-link"],[1,"col-lg-3"],["id","upgrades_invoice",1,"upgrades-invoice"],["id","calc_credit"],["type","hidden","id","credit","name","credit","value",""],[4,"ngIf"],["id","main_page_add"],["id","page11"],["id","additional_bumps"],[1,"grand-total"],["id","grand_total"],["type","hidden","id","grand_tl"],["type","hidden","id","user_main_balance","name","user_main_balance","value",""],[1,"d-footer","c-footer",2,"display","none"],["type","button",1,"btn","btn-prev",3,"click"],[1,"fa","fa-angle-left"],[1,"btn","btn-next",3,"click"],["name","submit",1,"btn","btn-next",3,"click"],["href","javascript:void(0)","data-toggle","modal","data-target","#reportModal",1,"btn","btn-report",2,"visibility","hidden"],["paymentOption",""],["id","reportModal","role","dialog","aria-labelledby","reportModal","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","cancer-patient"],[1,"cancer-head","pl-3"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["optionClose",""],["aria-hidden","true"],[1,"modal-body"],[1,"login-form"],[1,"col-md-12"],[1,"btn","btn-success","w-100","text-center","py-2","my-1","font-xl",3,"click"],[1,"pi","pi-dollar"],[1,"btn","btn-primary","w-100","text-center","py-2","my-1","font-xl",3,"click"],[1,"pi","pi-payment"],["class","form-group mt-2",4,"ngIf"],["href","javascript:void(0)","data-toggle","modal","data-target","#paymentStatus",1,"btn","btn-report",2,"visibility","hidden"],["paymentStatus",""],["id","paymentStatus","role","dialog","aria-labelledby","reportModal","aria-hidden","true",1,"modal","fade"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],[1,"text-center","text-dark"],[1,"table","my-2"],[1,"color"],[1,"col-md-3"],[1,"hide-sec-des",3,"click"],["href","javascript:void(0);","id","main_page"],[1,"nav-item",3,"click"],["id","home-tab",1,"nav-link"],["id","add_bumps",3,"click"],[1,"form-group","mt-2"],[1,"text-danger"],[1,"btn","btn-danger","px-3","mr-1",3,"click"],[1,"btn","btn-warning","text-center","px-3",3,"click"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"form"),c.Qb(4,"div",3),c.Qb(5,"ul"),c.Qb(6,"li"),c.Lb(7,"img",4),c.cc(8,"server"),c.Pb(),c.Qb(9,"li"),c.Qb(10,"div",5),c.Jc(11),c.Qb(12,"p"),c.Jc(13),c.cc(14,"date"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(15,"div",6),c.Qb(16,"div",1),c.Qb(17,"div",7),c.Qb(18,"div",8),c.Qb(19,"div",9),c.Qb(20,"div",1),c.Qb(21,"div",10),c.Qb(22,"a",11),c.Jc(23," TIP "),c.Pb(),c.Pb(),c.Qb(24,"div",12),c.Qb(25,"p"),c.Qb(26,"strong"),c.Jc(27,"Paid for features:"),c.Pb(),c.Jc(28," money for ads will be deducted from your account at a later point in time if you choose to use these features. "),c.Pb(),c.Qb(29,"p"),c.Jc(30," By using this features it will help increase your chances of more people viewing your profile issues. "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(31,"div",13),c.Lb(32,"img",14),c.Jc(33," Main Page Ad "),c.Pb(),c.Qb(34,"div",15),c.Qb(35,"p"),c.Qb(36,"strong"),c.Jc(37,"Do you want maximum for your ad ?"),c.Pb(),c.Jc(38,"Your ad will be displayed in our highest visiblit Featured Ad format in the panhandlers category of Greater Toronto Area. "),c.Pb(),c.Qb(39,"a",16),c.Xb("click",(function(){return t.showMainPageOptions=!0})),c.Jc(40," Upgrade to Main Page Ad "),c.Lb(41,"i",17),c.Pb(),c.Pb(),c.Qb(42,"div",18),c.Qb(43,"div",1),c.Hc(44,ae,6,4,"div",19),c.Qb(45,"div",20),c.Xb("click",(function(){return t.close_main_page_selection()})),c.Qb(46,"div",21),c.Qb(47,"a",22),c.Lb(48,"i",23),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(49,"div",24),c.Qb(50,"div",25),c.Qb(51,"ul"),c.Qb(52,"li"),c.Lb(53,"img",26),c.Jc(54," Page 1 "),c.Pb(),c.Qb(55,"li"),c.Jc(56," From "),c.Qb(57,"span"),c.Jc(58,"$ 2"),c.Pb(),c.Jc(59," / Bump "),c.Pb(),c.Pb(),c.Pb(),c.Qb(60,"div",27),c.Qb(61,"p"),c.Qb(62,"strong"),c.Jc(63,"Put your Ad on Autopilot."),c.Pb(),c.Jc(64,"MyIssues will monitor your ad so that it always stays on page 1. No more babysitting your ad. The most effective and hands off approach. "),c.Pb(),c.Qb(65,"a",28),c.Xb("click",(function(){return t.showPage1Options=!0})),c.Jc(66," Get page 1 "),c.Lb(67,"i",17),c.Pb(),c.Pb(),c.Qb(68,"div",29),c.Qb(69,"div",1),c.Qb(70,"div",2),c.Qb(71,"div",30),c.Qb(72,"h3"),c.Jc(73," How many Hours do you want to keep your ad on main page? "),c.Pb(),c.Pb(),c.Qb(74,"ul",31),c.Hc(75,se,4,3,"ng-container",32),c.Qb(76,"li"),c.Qb(77,"div",33),c.Xb("click",(function(){return t.close_page1_selection()})),c.Qb(78,"a",22),c.Lb(79,"i",23),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(80,"div",34),c.Qb(81,"div",35),c.Qb(82,"div",30),c.Qb(83,"h3"),c.Jc(84," How many days do you want to keep your ad on main page? "),c.Pb(),c.Pb(),c.Qb(85,"div",36),c.Qb(86,"ul"),c.Lb(87,"span",37),c.Pb(),c.Qb(88,"ul"),c.Lb(89,"span",38),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(90,"div",39),c.Qb(91,"div",40),c.Qb(92,"ul"),c.Qb(93,"li"),c.Lb(94,"img",41),c.Jc(95," Bumps "),c.Qb(96,"label",42),c.Jc(97,"New 2 bumps package"),c.Pb(),c.Pb(),c.Qb(98,"li"),c.Jc(99," From "),c.Qb(100,"span"),c.Jc(101,"$ 2"),c.Pb(),c.Jc(102," / Bump "),c.Pb(),c.Pb(),c.Pb(),c.Qb(103,"div",43),c.Qb(104,"p"),c.Qb(105,"strong"),c.Jc(106,"Do you want to be able to Bump your ad to the top with one click any time you like?"),c.Pb(),c.Jc(107," When you click Bump, your ad will instantly be posted to the top. "),c.Pb(),c.Qb(108,"a",44),c.Xb("click",(function(){return t.showBumpsOptions=!0})),c.Jc(109," Let me bumps "),c.Lb(110,"i",17),c.Pb(),c.Pb(),c.Qb(111,"div",45),c.Qb(112,"div",1),c.Qb(113,"div",2),c.Qb(114,"div",30),c.Qb(115,"h3"),c.Jc(116," How many Bumps do you want? "),c.Qb(117,"span"),c.Jc(118,"(select one)"),c.Pb(),c.Pb(),c.Pb(),c.Qb(119,"ul",46),c.Hc(120,oe,5,4,"li",32),c.Qb(121,"li"),c.Qb(122,"div",33),c.Xb("click",(function(){return t.close_bumps_selection()})),c.Qb(123,"a",22),c.Lb(124,"i",23),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(125,"div",47),c.Qb(126,"p"),c.Lb(127,"i",48),c.Jc(128," 2 Bump Package, limited time offer "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(129,"div",49),c.Qb(130,"div",50),c.Qb(131,"h5"),c.Jc(132," Price listed are in CAD $ "),c.Pb(),c.Qb(133,"p"),c.Jc(134," MyIssues charges will Services on your Acc. Need help with payments? "),c.Qb(135,"a",51),c.Jc(136,"Contact Us"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(137,"div",52),c.Qb(138,"div",53),c.Qb(139,"ul"),c.Qb(140,"li"),c.Qb(141,"h4"),c.Jc(142," Advertisement "),c.Qb(143,"span"),c.Jc(144," $ Free"),c.Pb(),c.Pb(),c.Qb(145,"p"),c.Jc(146," Panhandlers / Greater toronto $ "),c.Lb(147,"span",54),c.Lb(148,"input",55),c.Pb(),c.Pb(),c.Pb(),c.Hc(149,ce,8,3,"ul",56),c.Hc(150,re,8,2,"ul",56),c.Lb(151,"span",57),c.Lb(152,"span",58),c.Lb(153,"span",59),c.Qb(154,"ul"),c.Qb(155,"li"),c.Qb(156,"h4"),c.Jc(157," Transaction fee "),c.Qb(158,"span"),c.Jc(159," $1.00"),c.Pb(),c.Pb(),c.Qb(160,"p"),c.Jc(161," You pay in if the total is less than $ 50.00 "),c.Pb(),c.Pb(),c.Pb(),c.Qb(162,"ul"),c.Qb(163,"li"),c.Qb(164,"h4"),c.Jc(165," Gift card "),c.Qb(166,"span"),c.Jc(167," - $1.00"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(168,"ul",60),c.Qb(169,"li"),c.Qb(170,"h4"),c.Jc(171," Grand Total "),c.Qb(172,"span",61),c.Jc(173),c.Pb(),c.Lb(174,"input",62),c.Lb(175,"input",63),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(176,"div",64),c.Qb(177,"ul"),c.Qb(178,"li"),c.Qb(179,"button",65),c.Xb("click",(function(){return t.prevPage()})),c.Lb(180,"i",66),c.Jc(181," Previous step "),c.Pb(),c.Pb(),c.Qb(182,"li"),c.Qb(183,"button",67),c.Xb("click",(function(){return t.nextPage("/sponsor/")})),c.Jc(184," Save & Exit "),c.Pb(),c.Pb(),c.Qb(185,"li"),c.Qb(186,"button",68),c.Xb("click",(function(){return t.nextPage()})),c.Jc(187," Next step "),c.Lb(188,"i",17),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Lb(189,"a",69,70),c.Qb(191,"div",71),c.Qb(192,"div",72),c.Qb(193,"div",73),c.Qb(194,"div",74),c.Qb(195,"h3",75),c.Jc(196,"Payment Options"),c.Pb(),c.Qb(197,"button",76,77),c.Xb("click",(function(){return t.close_modal()})),c.Qb(199,"span",78),c.Jc(200,"\xd7"),c.Pb(),c.Pb(),c.Pb(),c.Qb(201,"div",79),c.Qb(202,"div",80),c.Qb(203,"div",1),c.Qb(204,"div",81),c.Qb(205,"form"),c.Qb(206,"h3"),c.Qb(207,"small"),c.Jc(208,"Pay using card or account balance."),c.Pb(),c.Pb(),c.Qb(209,"button",82),c.Xb("click",(function(){return t.showConfirm=!0})),c.Qb(210,"h4"),c.Lb(211,"i",83),c.Qb(212,"small"),c.Jc(213),c.Pb(),c.Pb(),c.Pb(),c.Qb(214,"button",84),c.Xb("click",(function(){return t.buyBumps()})),c.Qb(215,"h4"),c.Lb(216,"i",85),c.Qb(217,"small"),c.Jc(218,"Pay With Card"),c.Pb(),c.Pb(),c.Pb(),c.Hc(219,de,7,2,"div",86),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Lb(220,"a",87,88),c.Qb(222,"div",89),c.Qb(223,"div",72),c.Qb(224,"div",73),c.Qb(225,"div",74),c.Qb(226,"h3",75),c.Jc(227,"Payment Status"),c.Pb(),c.Qb(228,"button",90,77),c.Qb(230,"span",78),c.Jc(231,"\xd7"),c.Pb(),c.Pb(),c.Pb(),c.Qb(232,"div",79),c.Qb(233,"div",80),c.Qb(234,"div",1),c.Qb(235,"div",81),c.Qb(236,"form"),c.Qb(237,"h2",91),c.Qb(238,"small"),c.Jc(239,"Bumps Purchased"),c.Pb(),c.Pb(),c.Qb(240,"table",92),c.Qb(241,"tr"),c.Qb(242,"td",93),c.Jc(243,"Transaction Id"),c.Pb(),c.Qb(244,"td"),c.Jc(245),c.Pb(),c.Pb(),c.Qb(246,"tr"),c.Qb(247,"td",93),c.Jc(248,"Bumps Count"),c.Pb(),c.Qb(249,"td"),c.Jc(250),c.Pb(),c.Pb(),c.Qb(251,"tr"),c.Qb(252,"td",93),c.Jc(253,"Bump Price"),c.Pb(),c.Qb(254,"td"),c.Jc(255),c.Pb(),c.Pb(),c.Qb(256,"tr"),c.Qb(257,"td",93),c.Jc(258,"Date"),c.Pb(),c.Qb(259,"td"),c.Jc(260),c.cc(261,"date"),c.Pb(),c.Pb(),c.Qb(262,"tr"),c.Lb(263,"td"),c.Lb(264,"td"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e&&(c.yb(7),c.jc("src",(null==t.ad||null==t.ad.identityImages?null:t.ad.identityImages.length)>0?c.dc(8,28,t.ad.identityImages[0]):"assets/images/home-pic.jpg",c.Cc),c.yb(4),c.Lc(" Hello ",t.ad.adTitle," "),c.yb(2),c.Mc(" Start date ",c.ec(14,30,t.ad.createdOn,"medium")," - ",t.ad.categoryName+"-"+t.ad.city," "),c.yb(21),c.Gc("display",t.showMainPageOptions?"none":"block"),c.yb(8),c.Gc("display",t.showMainPageOptions?"block":"none"),c.yb(2),c.ic("ngForOf",null==t.adPlans[0]?null:t.adPlans[0].categories),c.yb(16),c.Gc("display",t.showPage1Options?"none":"block"),c.yb(8),c.Gc("display",t.showPage1Options?"block":"none"),c.yb(7),c.ic("ngForOf",null==t.adPlans[1]?null:t.adPlans[1].categories),c.yb(28),c.Gc("display",t.showBumpsOptions?"none":"block"),c.yb(8),c.Gc("display",t.showBumpsOptions?"block":"none"),c.yb(9),c.ic("ngForOf",t.bumps),c.yb(29),c.ic("ngIf",(null==t.plan?null:t.plan.planName)&&0==(null==t.plan?null:t.plan.paid)),c.yb(1),c.ic("ngIf",null==t.selectedBump?null:t.selectedBump.count),c.yb(23),c.Lc(" $ ",((null==t.plan?null:t.plan.price)||0)+((null==t.selectedBump?null:t.selectedBump.price)||0)+1," "),c.yb(40),c.Lc("Current Balance: $",t.balance.toFixed(2),""),c.yb(6),c.ic("ngIf",t.showConfirm),c.yb(26),c.Kc(t.transactionDetails.transactionId),c.yb(5),c.Kc(t.transactionDetails.count),c.yb(5),c.Kc(t.transactionDetails.price),c.yb(5),c.Kc(c.ec(261,33,t.transactionDetails.date,"medium")))},directives:[b.A,b.o,b.p,n.m,n.n],pipes:[T.a,n.d],styles:['.container[_ngcontent-%COMP%]{margin-right:0;margin-left:0;padding-left:0;padding-right:0;max-width:100%!important}.center[_ngcontent-%COMP%]{display:block;margin:0 auto;width:auto}.btn-purple[_ngcontent-%COMP%]{background:#b367c9;font-size:20px;font-weight:900;color:#fff;padding:10px 30px}.deck[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#737574;font-size:20px;font-weight:700;border:1px solid #e3e3e3;border-top:5px solid #e3e3e3;padding:40px 10px;border-radius:5px;min-height:140px;width:auto}.deck[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#615f5f}.deck-link[_ngcontent-%COMP%]{text-decoration:none;outline:none}.active[_ngcontent-%COMP%], .deck[_ngcontent-%COMP%]:hover{border-top-width:1px;border-color:#58a788;border-bottom:5px solid #58a788;color:#58a788}.card-body.hide[_ngcontent-%COMP%]{display:none}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}@media screen and (max-width:600px){.upgrade-card[_ngcontent-%COMP%]{width:95%!important}}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}.upgrades-invoice-sticky[_ngcontent-%COMP%]{width:16.4%}.delivery-form[_ngcontent-%COMP%]{position:relative}.upgrade-close[_ngcontent-%COMP%], .upgrades-invoice-sticky[_ngcontent-%COMP%]   .upgrades-invoice[_ngcontent-%COMP%]{margin-left:-29px}.upgrade-close[_ngcontent-%COMP%], .upgrades-invoice[_ngcontent-%COMP%]{margin-left:-10px}#remove3[_ngcontent-%COMP%], #removed[_ngcontent-%COMP%], #removed2[_ngcontent-%COMP%]{position:absolute;left:-18px;height:40px;width:40px;background:#fff;color:#424242;border-radius:50%;text-align:center;padding-top:8px;font-size:20px;border:none;box-shadow:-1px 0 0 0 rgba(0,0,0,.2)}#removed[_ngcontent-%COMP%], #removed2[_ngcontent-%COMP%], .upgrades-invoice-sticky[_ngcontent-%COMP%]   #remove3[_ngcontent-%COMP%]{left:-22px}.upgrade-close[_ngcontent-%COMP%], .upgrades-invoice-sticky[_ngcontent-%COMP%]   #removed[_ngcontent-%COMP%]{left:-21px}.btn-page[_ngcontent-%COMP%], .upgrade-black-header[_ngcontent-%COMP%]{background-color:#4d493c}.btn-bumps-des[_ngcontent-%COMP%], .upgrade-blue-header[_ngcontent-%COMP%]{background-color:#59a8ea}']}),e})(),be=(()=>{class e{constructor(e,t,i){this.adService=e,this.ds=t,this.router=i}canActivate(e,t){var i,n;const a=null===(i=this.adService._currentAd)||void 0===i?void 0:i._id;return(null===(n=e.data)||void 0===n?void 0:n.isStartStep)?!(a&&(!e.queryParams.adId||a==e.queryParams.adId))&&this.getAdData(e,this.moveToRedirectionRoute.bind(this)):a?this.validateRoute.apply(this,[e]):(setTimeout(()=>{this.router.navigate(["/sponsor"])},5),!1)}getAdData(e,t){return new Promise((i,n)=>{this.adService.get_ad(e.queryParams.adId).subscribe(e=>{e.status?(this.adService.NewAdData(e.data),t()?i(!0):i(!1)):(this.ds.newMessage("error","Error Occured",e.message),i(!1))},e=>{var t;this.ds.newMessage("error","Error Occured",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message),i(!1)})})}moveToRedirectionRoute(){if("published"==this.adService._currentAd.adState)return setTimeout(()=>{this.router.navigate(["/sponsor/post-edit/ad-content"])},5),!1;let e=this.lastCompletedStep();e=Number(e.toFixed(0));const t="/sponsor/post-edit/"+["select-category","select-location","ad-content","upload-images","user-details","upgrades","finalize"][e];return setTimeout(()=>{this.router.navigate([t])},5),!1}validateRoute(e){const t=this.lastCompletedStep(),i=e.data.moveToStep;return 1==i&&1==t?(setTimeout(()=>{this.router.navigate(["/sponsor/post-edit/select-location"])},5),!1):5==i&&t>=4.3||(6==i&&t>=5?"draft"==this.adService._currentAd.adState||(setTimeout(()=>{this.router.navigate(["/sponsor/post-edit/edited"])},5),!1):t>=i-1)}lastCompletedStep(){var e;const t=null===(e=this.adService._currentAd)||void 0===e?void 0:e.completedSteps;console.log(t);const i={1:1,2:2,3:3,5:5,6:6,"4Images":4.1,"4Video":4.2,"4BRP":4.3};let n=0;for(let a in t)t[a]&&i[a]>n&&(n=i[a]);return n>4&&n<5&&(t["4Images"]&&t["4Video"]&&t["4BRP"]||(n=3)),n}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(r.a),c.Ub(A.a),c.Ub(a.f))},e.\u0275prov=c.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ue=i("Gxio"),pe=i("Nf9I"),he=i("mASP");const ge=function(){return{exact:!0}};function me(e,t){1&e&&(c.Qb(0,"li",11),c.Qb(1,"a",22),c.Jc(2," Region "),c.Lb(3,"span",13),c.Pb(),c.Pb()),2&e&&(c.yb(1),c.ic("routerLinkActiveOptions",c.mc(1,ge)))}function Pe(e,t){1&e&&(c.Qb(0,"li",11),c.Qb(1,"a",23),c.Jc(2," Upgrades "),c.Pb(),c.Pb()),2&e&&(c.yb(1),c.ic("routerLinkActiveOptions",c.mc(1,ge)))}function ve(e,t){1&e&&(c.Qb(0,"li",11),c.Qb(1,"a",24),c.Jc(2," Finalize "),c.Pb(),c.Pb()),2&e&&(c.yb(1),c.ic("routerLinkActiveOptions",c.mc(1,ge)))}function fe(e,t){if(1&e){const e=c.Rb();c.Qb(0,"ul"),c.Qb(1,"li"),c.Qb(2,"button",25),c.Xb("click",(function(){return c.zc(e),c.bc().prev()})),c.Lb(3,"i",26),c.Jc(4," Prev "),c.Pb(),c.Pb(),c.Qb(5,"li"),c.Qb(6,"a",27),c.Xb("click",(function(){return c.zc(e),c.bc().saveAndNext()})),c.Jc(7," Next "),c.Pb(),c.Pb(),c.Pb()}}function ye(e,t){if(1&e){const e=c.Rb();c.Qb(0,"ul",28),c.Qb(1,"li"),c.Qb(2,"button",29),c.Lb(3,"i",26),c.Jc(4," Cancel "),c.Pb(),c.Pb(),c.Qb(5,"li"),c.Qb(6,"a",27),c.Xb("click",(function(){return c.zc(e),c.bc().next()})),c.Jc(7," Next "),c.Pb(),c.Pb(),c.Qb(8,"li"),c.Qb(9,"a",27),c.Xb("click",(function(){return c.zc(e),c.bc().saveAndNext()})),c.Jc(10," Save And Next "),c.Pb(),c.Pb(),c.Pb()}}const Qe=function(){return{width:"65vw"}};let _e=(()=>{class e{constructor(e,t,i,n){this.ads=e,this.router=t,this.ms=i,this.cnfrm=n,this.adImage="assets/images/home-pic.jpg",this.unsub$=new s.a,this.ad={}}ngOnInit(){this.ads.lock=!1,this.ads.AdObservable().subscribe(e=>{this.ad=e,this.completedSteps=this.ad.completedSteps,this.adState=this.ad.adState,console.log(this.adState)}),this.observeMessageToast()}observeMessageToast(){this.ads.messageObserver().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.ms.add(e)})}new_ad(e){this.ad=e}seePreview(){this.ads.lock=!0,this.ads.AdObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{if(e._id)return this.router.navigate(["/ads/full"],{queryParams:{mode:"preview"}});this.ads.newMessage("info","Ad Not Initialized","Please initialize the ad first by selecting a category")})}ngOnDestroy(){this.ads.NewAdData(null),this.unsub$.next(),this.unsub$.complete()}next(){this.ads.clickedEditSubmition("next")}saveAndNext(){this.checkPublished()&&this.ads.clickedEditSubmition("save-next")}checkPublished(){return!!(this.notified||"published"!=this.ad.adState&&2!=this.ad.approved)||this.confirm()}confirm(){this.cnfrm.confirm({message:"Saving changes to published Ad will republish it for approval by admin. Continue?",header:"Confirmation",acceptButtonStyleClass:"p-button-success",icon:"pi pi-info-circle",accept:()=>(this.notified=!0,!1),reject:()=>!1})}prev(){this.ads.clickedEditSubmition("prev")}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(r.a),c.Kb(a.f),c.Kb(p.h),c.Kb(p.b))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-receiver-post-edit"]],features:[c.xb([p.h,p.b])],decls:43,vars:21,consts:[[1,"d-header","cat-header"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"panl-list-sec","upgrade-list"],["alt","home-pic",3,"src"],[1,"cancer-des"],[1,"delivery-form","description-form"],[1,"description-tab"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["id","des","disabled","true","routerLink","ad-content","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"badge"],["id","photo","routerLink","upload-images","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["id","detail","routerLink","user-details","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["href","javascript:void(0)",1,"nav-link",3,"click"],[1,"fa","fa-eye"],[1,"d-footer","des-footer"],[4,"ngIf"],["class","buttons",4,"ngIf"],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],["routerLink","select-location","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","upgrades","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","finalize","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"btn","btn-prev",3,"click"],[1,"fa","fa-angle-left"],["href","javascript:void(0)",1,"btn","btn-next",3,"click"],[1,"buttons"],[1,"btn","btn-prev"]],template:function(e,t){1&e&&(c.Lb(0,"p-toast"),c.Qb(1,"section",0),c.Qb(2,"div",1),c.Qb(3,"div",2),c.Qb(4,"div",3),c.Qb(5,"form"),c.Qb(6,"div",4),c.Qb(7,"ul"),c.Qb(8,"li"),c.Lb(9,"img",5),c.cc(10,"thumbnail"),c.Pb(),c.Qb(11,"li"),c.Qb(12,"div",6),c.Jc(13),c.Qb(14,"p"),c.Jc(15),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(16,"div",7),c.Qb(17,"div",2),c.Qb(18,"div",3),c.Qb(19,"div",8),c.Qb(20,"ul",9),c.Hc(21,me,4,2,"li",10),c.Qb(22,"li",11),c.Qb(23,"a",12),c.Jc(24," Description "),c.Lb(25,"span",13),c.Pb(),c.Pb(),c.Qb(26,"li",11),c.Qb(27,"a",14),c.Jc(28," Photo/Video "),c.Pb(),c.Pb(),c.Qb(29,"li",11),c.Qb(30,"a",15),c.Jc(31," Details "),c.Pb(),c.Pb(),c.Hc(32,Pe,3,2,"li",10),c.Hc(33,ve,3,2,"li",10),c.Qb(34,"li",11),c.Qb(35,"a",16),c.Xb("click",(function(){return t.seePreview()})),c.Lb(36,"i",17),c.Jc(37," Preview Ad "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Lb(38,"router-outlet"),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(39,"div",18),c.Hc(40,fe,8,0,"ul",19),c.Hc(41,ye,11,0,"ul",20),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Lb(42,"p-confirmDialog",21)),2&e&&(c.yb(9),c.jc("src",c.dc(10,15,t.ad),c.Cc),c.yb(4),c.Lc(" ",t.ad.adTitle||"No Title"," "),c.yb(2),c.Mc(" ",t.ad.categoryName||"No category"," - ",t.ad.city||"No city"," "),c.yb(6),c.ic("ngIf","draft"==t.adState),c.yb(2),c.ic("routerLinkActiveOptions",c.mc(17,ge)),c.yb(4),c.ic("routerLinkActiveOptions",c.mc(18,ge)),c.yb(3),c.ic("routerLinkActiveOptions",c.mc(19,ge)),c.yb(2),c.ic("ngIf","published"!=t.adState),c.yb(1),c.ic("ngIf","published"!=t.adState),c.yb(7),c.ic("ngIf","draft"==t.adState),c.yb(1),c.ic("ngIf","published"==t.adState),c.yb(1),c.Fc(c.mc(20,Qe)),c.ic("baseZIndex",1e4))},directives:[ue.a,b.A,b.o,b.p,n.n,a.i,a.h,a.k,pe.a],pipes:[he.a],styles:[".buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),e})();var Ce=i("arFO"),Me=i("CwEU");const we=["next"],xe=["prev"];function Oe(e,t){1&e&&c.Jc(0," Any information provided below is used by myissues Inc. ")}function ke(e,t){1&e&&c.Jc(0," This will be use for verification for cash and food delivery items. The information must be correct in order to collect any donations make to on this website. ")}function Je(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid business name"),c.Pb(),c.Pb())}function Ie(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid Promoters Name"),c.Pb(),c.Pb())}function Ae(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid first name"),c.Pb(),c.Pb())}function ze(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid last name"),c.Pb(),c.Pb())}function Le(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please select a valid country"),c.Pb(),c.Pb())}function Ne(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please select a valid state"),c.Pb(),c.Pb())}function Se(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please select a valid city"),c.Pb(),c.Pb())}function Be(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid address"),c.Pb(),c.Pb())}function $e(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid zip code"),c.Pb(),c.Pb())}function je(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid emergency number"),c.Pb(),c.Pb())}function Fe(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid contact number"),c.Pb(),c.Pb())}function Te(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid reference name(Only alphabets and numerics)"),c.Pb(),c.Pb())}function Ee(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid contact number"),c.Pb(),c.Pb())}function Re(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid reference extension"),c.Pb(),c.Pb())}function Xe(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid Reference Occupation(Only alphabets and spaces)"),c.Pb(),c.Pb())}function De(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid Organization Name(Only alphabets and spaces)"),c.Pb(),c.Pb())}function He(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid reference name (Only Alphabets and spaces)"),c.Pb(),c.Pb())}function Ke(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid reference extension"),c.Pb(),c.Pb())}function Ue(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid reference occupation(Only alphabets and spaces)"),c.Pb(),c.Pb())}function Ve(e,t){1&e&&(c.Qb(0,"div",95),c.Qb(1,"span",96),c.Jc(2,"Please enter a valid Organization Name(Only alphanumeric and spaces)"),c.Pb(),c.Pb())}function qe(e,t){if(1&e){const e=c.Rb();c.Qb(0,"div",14),c.Qb(1,"div",15),c.Qb(2,"label",16),c.Jc(3,"Business Name"),c.Pb(),c.Qb(4,"input",17,18),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.businessName=t})),c.Pb(),c.Hc(6,Je,3,0,"div",19),c.Pb(),c.Qb(7,"div",15),c.Qb(8,"label",20),c.Jc(9,"Promoters Name"),c.Pb(),c.Qb(10,"input",21,22),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.sponsorTitle=t})),c.Pb(),c.Hc(12,Ie,3,0,"div",19),c.Pb(),c.Pb(),c.Qb(13,"div",14),c.Qb(14,"div",23),c.Qb(15,"label",24),c.Jc(16,"Email"),c.Pb(),c.Qb(17,"input",25),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.email=t})),c.Pb(),c.Pb(),c.Pb(),c.Qb(18,"div",14),c.Qb(19,"div",15),c.Qb(20,"label",26),c.Jc(21,"First Name*"),c.Pb(),c.Qb(22,"input",27,28),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.firstName=t})),c.Pb(),c.Hc(24,Ae,3,0,"div",19),c.Pb(),c.Qb(25,"div",29),c.Qb(26,"label",30),c.Jc(27,"Last Name*"),c.Pb(),c.Qb(28,"input",31,32),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.lastName=t})),c.Pb(),c.Hc(30,ze,3,0,"div",19),c.Pb(),c.Pb(),c.Qb(31,"div",14),c.Qb(32,"div",23),c.Qb(33,"label",33),c.Jc(34,"Province"),c.Pb(),c.Qb(35,"div",34),c.Qb(36,"p-dropdown",35),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.country=t}))("onChange",(function(t){return c.zc(e),c.bc().change_country(t)})),c.Pb(),c.Pb(),c.Hc(37,Le,3,0,"div",19),c.Pb(),c.Qb(38,"div",23),c.Qb(39,"label",36),c.Jc(40,"State"),c.Pb(),c.Qb(41,"div",37),c.Qb(42,"p-dropdown",38),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.state=t}))("onChange",(function(t){return c.zc(e),c.bc().change_state(t)})),c.Pb(),c.Hc(43,Ne,3,0,"div",19),c.Pb(),c.Pb(),c.Qb(44,"div",23),c.Qb(45,"label",39),c.Jc(46,"City"),c.Pb(),c.Qb(47,"div",40),c.Qb(48,"p-dropdown",41),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.city=t}))("onChange",(function(t){return c.zc(e),c.bc().change_city(t)})),c.Pb(),c.Hc(49,Se,3,0,"div",19),c.Pb(),c.Pb(),c.Pb(),c.Qb(50,"div",14),c.Qb(51,"div",15),c.Qb(52,"label",42),c.Jc(53,"Address"),c.Pb(),c.Qb(54,"input",43,44),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.address=t})),c.Pb(),c.Hc(56,Be,3,0,"div",19),c.Pb(),c.Qb(57,"div",15),c.Qb(58,"label",45),c.Jc(59,"Zip Code"),c.Pb(),c.Qb(60,"input",46,47),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.zipCode=t})),c.Pb(),c.Hc(62,$e,3,0,"div",19),c.Pb(),c.Pb(),c.Qb(63,"div",14),c.Qb(64,"div",23),c.Qb(65,"label",48),c.Jc(66,"Emergency Number"),c.Pb(),c.Qb(67,"p-inputMask",49),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.emergencyContact=t})),c.Pb(),c.Hc(68,je,3,0,"div",19),c.Pb(),c.Qb(69,"div",15),c.Qb(70,"label",50),c.Jc(71,"Contact Number"),c.Pb(),c.Qb(72,"p-inputMask",51),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.contact=t})),c.Pb(),c.Hc(73,Fe,3,0,"div",19),c.Pb(),c.Pb(),c.Qb(74,"p"),c.Qb(75,"strong"),c.Jc(76,"Note: "),c.Pb(),c.Jc(77," Provide Us with someone in the community that can verify that you're in crisis and need help. This person must work in the community in any capacity. "),c.Pb(),c.Qb(78,"h4"),c.Qb(79,"small"),c.Qb(80,"strong"),c.Jc(81,"Reference 1"),c.Pb(),c.Pb(),c.Pb(),c.Qb(82,"div",52),c.Qb(83,"div",53),c.Qb(84,"label",54),c.Jc(85,"Name*"),c.Pb(),c.Qb(86,"input",55,56),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours1.name=t})),c.Pb(),c.Hc(88,Te,3,0,"div",19),c.Pb(),c.Qb(89,"div",57),c.Qb(90,"label",58),c.Jc(91,"Contact Number*"),c.Pb(),c.Qb(92,"p-inputMask",59,60),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours1.contact=t})),c.Pb(),c.Hc(94,Ee,3,0,"div",19),c.Pb(),c.Qb(95,"div",61),c.Qb(96,"label",62),c.Jc(97,"Ext.*"),c.Pb(),c.Qb(98,"input",63,64),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours1.extension=t})),c.Pb(),c.Hc(100,Re,3,0,"div",19),c.Pb(),c.Pb(),c.Qb(101,"div",14),c.Qb(102,"div",15),c.Qb(103,"label",65),c.Jc(104,"Occupation*"),c.Pb(),c.Qb(105,"input",66,67),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours1.occupation=t})),c.Pb(),c.Hc(107,Xe,3,0,"div",19),c.Pb(),c.Qb(108,"div",29),c.Qb(109,"label",68),c.Jc(110,"Organization Name*"),c.Pb(),c.Qb(111,"input",69,70),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours1.organization=t})),c.Pb(),c.Hc(113,De,3,0,"div",19),c.Pb(),c.Pb(),c.Qb(114,"h4"),c.Qb(115,"small"),c.Qb(116,"strong"),c.Jc(117,"Reference 2"),c.Pb(),c.Pb(),c.Pb(),c.Qb(118,"div",52),c.Qb(119,"div",53),c.Qb(120,"label",71),c.Jc(121,"Name"),c.Pb(),c.Qb(122,"input",72,73),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours2.name=t})),c.Pb(),c.Hc(124,He,3,0,"div",19),c.Pb(),c.Qb(125,"div",57),c.Qb(126,"label",74),c.Jc(127,"Contact Number"),c.Pb(),c.Qb(128,"p-inputMask",75),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours2.contact=t})),c.Pb(),c.Pb(),c.Qb(129,"div",61),c.Qb(130,"label",76),c.Jc(131,"Ext."),c.Pb(),c.Qb(132,"input",77,78),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours2.extension=t})),c.Pb(),c.Hc(134,Ke,3,0,"div",19),c.Pb(),c.Pb(),c.Qb(135,"div",14),c.Qb(136,"div",15),c.Qb(137,"label",79),c.Jc(138,"Occupation"),c.Pb(),c.Qb(139,"input",80,81),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours2.occupation=t})),c.Pb(),c.Hc(141,Ue,3,0,"div",19),c.Pb(),c.Qb(142,"div",29),c.Qb(143,"label",82),c.Jc(144,"Organization Name"),c.Pb(),c.Qb(145,"input",83,78),c.Xb("ngModelChange",(function(t){return c.zc(e),c.bc().contact.neighbours2.organization=t})),c.Pb(),c.Hc(147,Ve,3,0,"div",19),c.Pb(),c.Pb(),c.Qb(148,"div",84),c.Qb(149,"div",85),c.Lb(150,"input",86),c.Qb(151,"div",87),c.Lb(152,"div",88),c.Qb(153,"div",89),c.Qb(154,"div",90),c.Qb(155,"output",91),c.Jc(156," 50 "),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(157,"div",14),c.Qb(158,"div",23),c.Qb(159,"p",92),c.Lb(160,"i",93),c.Jc(161," For your privacy, please only provide your approximate location. "),c.Pb(),c.Lb(162,"iframe",94),c.Pb(),c.Pb()}if(2&e){const e=c.wc(5),t=c.wc(23),i=c.wc(29),n=c.wc(55),a=c.wc(61),s=c.wc(87),o=c.wc(99),r=c.wc(106),d=c.wc(112),l=c.wc(123),b=c.wc(133),u=c.wc(140),p=c.bc(),h=c.wc(1);c.yb(4),c.ic("ngModel",p.contact.businessName),c.yb(2),c.ic("ngIf",h.submitted&&e.invalid),c.yb(4),c.ic("ngModel",p.contact.sponsorTitle),c.yb(2),c.ic("ngIf",h.submitted&&e.invalid),c.yb(5),c.ic("ngModel",p.contact.email),c.yb(5),c.ic("ngModel",p.contact.firstName),c.yb(2),c.ic("ngIf",h.submitted&&t.invalid),c.yb(4),c.ic("ngModel",p.contact.lastName),c.yb(2),c.ic("ngIf",h.submitted&&i.invalid),c.yb(6),c.ic("options",p.countries)("filter",!0)("ngModel",p.contact.country)("dataKey",p._id)("showClear",!1),c.yb(1),c.ic("ngIf",h.submitted&&!p.contact.country),c.yb(5),c.ic("options",p.states)("filter",!0)("ngModel",p.contact.state),c.yb(1),c.ic("ngIf",h.submitted&&!p.contact.state),c.yb(5),c.ic("options",p.cities)("filter",!0)("ngModel",p.contact.city),c.yb(1),c.ic("ngIf",h.submitted&&!p.contact.city),c.yb(5),c.ic("ngModel",p.contact.address),c.yb(2),c.ic("ngIf",h.submitted&&n.invalid),c.yb(4),c.ic("ngModel",p.contact.zipCode),c.yb(2),c.ic("ngIf",h.submitted&&a.invalid),c.yb(5),c.ic("styleClass","form-control")("ngModel",p.contact.emergencyContact),c.yb(1),c.ic("ngIf",h.submitted&&!p.contact.emergencyContact),c.yb(4),c.ic("styleClass","form-control")("ngModel",p.contact.contact),c.yb(1),c.ic("ngIf",h.submitted&&!p.contact.contact),c.yb(13),c.ic("ngModel",p.contact.neighbours1.name),c.yb(2),c.ic("ngIf",h.submitted&&s.invalid),c.yb(4),c.ic("styleClass","form-control")("ngModel",p.contact.neighbours1.contact),c.yb(2),c.ic("ngIf",h.submitted&&!p.contact.neighbours1.contact),c.yb(4),c.ic("ngModel",p.contact.neighbours1.extension),c.yb(2),c.ic("ngIf",h.submitted&&o.invalid),c.yb(5),c.ic("ngModel",p.contact.neighbours1.occupation),c.yb(2),c.ic("ngIf",h.submitted&&r.invalid),c.yb(4),c.ic("ngModel",p.contact.neighbours1.organization),c.yb(2),c.ic("ngIf",h.submitted&&d.invalid),c.yb(9),c.ic("ngModel",p.contact.neighbours2.name),c.yb(2),c.ic("ngIf",h.submitted&&l.invalid),c.yb(4),c.ic("styleClass","form-control")("ngModel",p.contact.neighbours2.contact),c.yb(4),c.ic("ngModel",p.contact.neighbours2.extension),c.yb(2),c.ic("ngIf",h.submitted&&b.invalid),c.yb(5),c.ic("ngModel",p.contact.neighbours2.occupation),c.yb(2),c.ic("ngIf",h.submitted&&u.invalid),c.yb(4),c.ic("ngModel",p.contact.neighbours2.organization),c.yb(2),c.ic("ngIf",h.submitted&&b.invalid)}}const Ye=[{path:"",component:_e,children:[{path:"",redirectTo:"select-category",pathMatch:"full"},{path:"select-category",canActivate:[be],data:{moveToStep:1,isStartStep:!0},component:ne},{path:"select-location",canActivate:[be],data:{moveToStep:2},component:B},{path:"ad-content",canActivate:[be],data:{moveToStep:3},component:x},{path:"upload-images",canActivate:[be],data:{moveToStep:4},component:Y},{path:"user-details",canActivate:[be],data:{moveToStep:5},component:(()=>{class e{constructor(e,t,i,n,a){this.ps=e,this.ds=t,this.router=i,this.ss=n,this.loader=a,this.submitting=!1,this.saved=!1,this.unsub$=new s.a,this.countries=[],this.states=[],this.cities=[],this.initialize_contact_details()}ngOnInit(){this.ps.newPage(5),this.check_session(),this.ps.AdObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.ad=e,this.isAdInitialized(e),console.log(this.ad),this.contact=Object.assign(Object.assign({},this.contact),e),this.contact.email=this.session.email,this.contact.sponsorTitle=this.session.sponsorTitle})}isAdInitialized(e){e._id||(this.ps.newMessage("error","Ad Not Initialized","Please initialize the ad first"),this.router.navigate(["/sponsor/post/select-location"]))}check_session(){this.ss.getUserSessionObservable().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{this.session=e})}ngAfterViewInit(){this.get_country().then(()=>{setTimeout(()=>this.preset_selectors(),100)}),this.ps.checkSubmition().pipe(Object(o.a)(this.unsub$)).subscribe(e=>{var t,i,n,a;"save-next"==e?null===(i=null===(t=this.nextButton)||void 0===t?void 0:t.nativeElement)||void 0===i||i.click():"prev"==e?null===(a=null===(n=this.prevButton)||void 0===n?void 0:n.nativeElement)||void 0===a||a.click():this.nextNoSave()})}save_contact(){return new Promise((e,t)=>{this.ps.save_contact(this.contact).pipe(Object(o.a)(this.unsub$)).subscribe(i=>this.handle_response(i,e,t),e=>(this.handle_error(e),t(!1)))})}handle_response(e,t,i){return e.status?(this.ps.newMessage("success","Details Saved","Contact details are successfully saved"),this.ps.NewAdData(e.data),t(!0)):(this.ps.newMessage("error","Couldn't Save Details",e.message),i(!1))}get_country(){return new Promise((e,t)=>{this.ds.get_countries().pipe(Object(o.a)(this.unsub$)).subscribe(i=>i.status?(this.countries=i.data,e(!0)):(this.ps.newMessage("error","Country Fetch Failed",i.message),t(!1)),e=>(this.handle_error(e),t(!1)))})}change_country(e){const t=this.countries.find(e=>e._id==this.contact.country);this.states=t.states,this.contact.state=t.countryName}change_state(e){return new Promise((e,t)=>{this.ds.get_cities(this.contact.country,this.contact.state).pipe(Object(o.a)(this.unsub$)).subscribe(i=>i.status?(this.cities=i.data[0].cities,e(!0)):(this.ps.newMessage("error","Cities Fetch Failed",i.message),t(!1)),e=>(this.handle_error(e),t(!1)))})}change_city(e){}preset_selectors(){if(this.ad.country){const e=this.countries.find(e=>this.ad.country==e.countryName);this.contact.country=e?e._id:"",this.states=e?e.states:[],this.ad.state&&(this.contact.state=this.ad.state,this.preset_city_selector())}}preset_city_selector(){this.change_state({}).then(()=>{this.ad.city&&(this.contact.city=this.ad.city,this.saved=!0)})}nextNoSave(){"published"==this.ad.adState&&this.router.navigate(["/sponsor/post-edit/upgrades"])}nextPage(e,t="/sponsor/post-edit/upgrades"){if("INVALID"==e.status)return this.ps.newMessage("error","Invalid Input","Please fill the form with valid inputs");this.load(),this.save_contact().then(()=>{this.stopload(),this.router.navigate([t])}).catch(()=>this.stopload())}prevPage(){this.router.navigate(["/sponsor/post-edit/upload-images"])}load(){this.submitting=!0,this.loader.start()}stopload(){this.submitting=!1,this.loader.stop()}handle_error(e){e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","Sorry some error occured"):this.ps.newMessage("error","Error Occured",e.error.message)}ngOnDestroy(){this.unsub$.next(),this.unsub$.complete()}initialize_contact_details(){this.contact={sponsorTitle:"",promotedBy:"",firstName:"",lastName:"",age:null,dob:"",country:"",state:"",city:"",zipCode:"",contact:"",emergencyContact:"",email:"",neighbours1:{name:"",contact:"",extension:"",occupation:"",organization:""},neighbours2:{name:"",contact:"",extension:"",occupation:"",organization:""}}}}return e.\u0275fac=function(t){return new(t||e)(c.Kb(r.a),c.Kb(A.a),c.Kb(a.f),c.Kb(l.a),c.Kb(d.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-user-details"]],viewQuery:function(e,t){var i;1&e&&(c.Qc(we,!0),c.Qc(xe,!0)),2&e&&(c.vc(i=c.Yb())&&(t.nextButton=i.first),c.vc(i=c.Yb())&&(t.prevButton=i.first))},decls:22,vars:2,consts:[["action","",1,"input-container",3,"ngSubmit"],["detailsForm","ngForm"],[1,"stepsdemo-content"],["pTemplate","title"],["pTemplate","subtitle"],["pTemplate","content"],[1,"d-footer","c-footer",2,"display","none"],["type","button",1,"btn","btn-prev",3,"click"],["prev",""],[1,"fa","fa-angle-left"],[1,"btn","btn-next",3,"click"],["type","submit",1,"btn","btn-next"],["next",""],[1,"fa","fa-angle-right"],[1,"group"],["id","name-input",1,"form-group"],["for","businessName"],["type","text","autocapitalize","on","name","businessName","placeholder","Enter Business Name","pattern","[a-zA-Z ]+","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["businessName",""],["class","errors",4,"ngIf"],["for","sponsorTitle"],["type","text","autocapitalize","on","name","sponsorTitle","placeholder","Enter Promoters Name","pattern","[a-zA-Z ]+","ngModel","","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["sponsorTitle",""],[1,"form-group"],["for","email"],["type","email","disabled","true","pattern","^([a-z0-9_\\.\\+-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$","name","email","placeholder","abcd@abcd.abc",1,"form-control",3,"ngModel","ngModelChange"],["for","name"],["type","text","autocapitalize","words","name","firstName","placeholder","Only your first name","pattern","[a-zA-Z]+ *","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["firstName","ngModel"],["id","gender-input",1,"form-group"],["for","gender"],["type","text","name","lastName","autocapitalize","words","placeholder","Only your last name","pattern","[a-zA-Z]+","pattern","[a-zA-Z]+ *","ngModel","","required","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["lastName","ngModel"],["for","selectCountry"],[1,"select","select-country","form-group"],["placeholder","Select a Country","optionLabel","countryName","optionValue","_id","name","selectCountry",3,"options","filter","ngModel","dataKey","showClear","ngModelChange","onChange"],["for","state"],[1,"select","select-state"],["placeholder","Select a state","optionLabel","stateName","optionValue","stateName","name","selectState",3,"options","filter","ngModel","ngModelChange","onChange"],["for","city"],[1,"select","select-city"],["placeholder","Select a city","optionLabel","cityName","optionValue","cityName","name","selectCity",3,"options","filter","ngModel","ngModelChange","onChange"],["for","address"],["type","text","autocapitalize","words","name","address","placeholder","your address","ngModel","","required","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["address","ngModel"],["for","zipCode"],["type","text","name","zipCode","placeholder","","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["zipCode","ngModel"],["for","emergencyNumber"],["mask","(999) 999-9999","placeholder","(999) 999-9999","name","emergencyNumber",3,"styleClass","ngModel","ngModelChange"],["for","contactNumber"],["mask","(999) 999-9999","placeholder","(999) 999-9999","name","contactNumber",3,"styleClass","ngModel","ngModelChange"],[1,"group","reference"],[1,"form-group","name-input"],["for","name1"],["type","text","autocapitalize","words","name","name1","placeholder","full name","pattern","[a-zA-Z ]+","ngModel","","required","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["name1","ngModel"],[1,"form-group","contact-input"],["for","contactNumber1"],["mask","(999) 999-9999","placeholder","(999) 999-9999","name","refContact1","ngModel","","required","",3,"styleClass","ngModel","ngModelChange"],["refContact1","ngModel"],[1,"form-group","ext-input"],["for","ext1"],["type","text","name","ext1","placeholder","","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ext1","ngModel"],["for","occupation1"],["type","text","autocapitalize","words","name","occupation1","placeholder","","pattern","[a-zA-Z ]+","ngModel","","required","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["occupation1","ngModel"],["for","orgName"],["type","text","autocapitalize","words","name","orgName","placeholder","","pattern","[a-zA-Z ]+","ngModel","","required","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["orgName","ngModel"],["for","name2"],["type","text","autocapitalize","words","name","name2","placeholder","full name","pattern","[a-zA-Z ]*","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["name2","ngModel"],["for","contactNumber2"],["mask","(999) 999-9999","placeholder","(999) 999-9999","name","refContact2",3,"styleClass","ngModel","ngModelChange"],["for","ext2"],["type","text","name","ext2","placeholder","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["ext2","ngModel"],["for","occupation2"],["type","text","autocapitalize","words","name","occupation2","placeholder","","pattern","[a-zA-Z ]*","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["occupation2","ngModel"],["for","orgName2"],["type","text","autocapitalize","words","name","orgName2","placeholder","","pattern","[a-zA-Z ]*","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],[1,"col-lg-12"],[1,"range"],["name","range","type","range","min","0","max","100000",2,"position","absolute","width","1px","height","1px","overflow","hidden","opacity","0"],["id","js-rangeslider-0",1,"rangeslider","rangeslider-horizontal"],[1,"rangeslider-fill-lower",2,"width","143px"],[1,"rangeslider-thumb",2,"left","133.5px"],[1,"range-output"],["name","output","for","range",1,"output"],[1,"cat-des-p"],[1,"fa","fa-info-circle"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d32616.372608782793!2d-79.76631770197883!3d43.7332529531104!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b15eaa5d05abf%3A0x352d31667cc38677!2sBrampton%2C%20ON%2C%20Canada!5e0!3m2!1sen!2sin!4v1592690766209!5m2!1sen!2sin","width","100%","height","700","frameborder","0","allowfullscreen","","aria-hidden","false","tabindex","0",2,"border","0"],[1,"errors"],[1,"error"]],template:function(e,t){if(1&e){const e=c.Rb();c.Qb(0,"form",0,1),c.Xb("ngSubmit",(function(){c.zc(e);const i=c.wc(1);return t.nextPage(i)})),c.Qb(2,"section",2),c.Qb(3,"p-card"),c.Hc(4,Oe,1,0,"ng-template",3),c.Hc(5,ke,1,0,"ng-template",4),c.Hc(6,qe,163,54,"ng-template",5),c.Pb(),c.Pb(),c.Qb(7,"div",6),c.Qb(8,"ul"),c.Qb(9,"li"),c.Qb(10,"button",7,8),c.Xb("click",(function(){return t.prevPage()})),c.Lb(12,"i",9),c.Jc(13,"Previous step"),c.Pb(),c.Pb(),c.Qb(14,"li"),c.Qb(15,"button",10),c.Xb("click",(function(){c.zc(e);const i=c.wc(1);return t.nextPage(i,"/agency")})),c.Jc(16," Save & Exit "),c.Pb(),c.Pb(),c.Qb(17,"li"),c.Qb(18,"button",11,12),c.Jc(20," Next step "),c.Lb(21,"i",13),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()}2&e&&(c.yb(2),c.Cb("submitting",t.submitting))},directives:[b.A,b.o,b.p,u.a,p.j,b.c,b.t,b.n,b.q,n.n,b.w,Ce.a,Me.a],styles:['.page-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}form[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%;margin:0;padding:0}[_nghost-%COMP%]     .p-dropdown{width:100%;height:100%;margin:0;font-size:16px}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}[_nghost-%COMP%]     .p-inputtext{margin:0;height:49px;padding:10px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b9bb2;font-weight:700;font-size:24px}form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1;padding:0 2px}.reference[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:first-child{flex:3!important}.reference[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-child(2){flex:2!important}.reference[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-child(3){flex:1!important}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}.form-control[_ngcontent-%COMP%]:not(textarea){height:50px!important}.ref-head[_ngcontent-%COMP%], .var-head[_ngcontent-%COMP%]{font-weight:700;font-size:30px}@media screen and (max-width:550px){.group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:100%;padding:0}}']}),e})()},{path:"upgrades",canActivate:[be],data:{moveToStep:6},component:le},{path:"finalize",canActivate:[be],data:{moveToStep:7},component:I},{path:"pay-via-card",loadChildren:()=>i.e(84).then(i.bind(null,"DKMy")).then(e=>e.CardPaymentModule)}]},{path:"complete/:adId",component:G},{path:"edited",component:O}];let Ge=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[a.j.forChild(Ye)],a.j]}),e})();var Ze=i("FMpt"),We=i("jIHw"),et=i("7kUa"),tt=i("dPl2"),it=i("eO1q"),nt=i("qxW0");let at=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(t){return new(t||e)},imports:[[n.b,Ge,a.j,ue.b,Ze.a,u.b,We.c,Ce.b,b.j,et.b,h.b,tt.c,Me.b,it.b,nt.a,Z.b,pe.b]]}),e})()},mASP:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("AytR"),a=i("fXoL");let s=(()=>{class e{transform(e,...t){var i,a;let s=null;return e?(e instanceof Array?e.length>0&&"string"==typeof e[0]&&(s=e[0]):e instanceof Object?(null===(i=e.identityImages)||void 0===i?void 0:i.length)>0?s=e.identityImages[0]:(null===(a=e.adImages)||void 0===a?void 0:a.length)>0&&(s=e.adImages[0]):"string"==typeof e&&(s=e),n.a.server+"/"+s||"assets/images/home-pic.jpg"):s}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Jb({name:"thumbnail",type:e,pure:!0}),e})()}}]);
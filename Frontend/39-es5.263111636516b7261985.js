!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,r=o(e);if(t){var a=o(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return n(this,i)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"1G5W":function(n,o,r){"use strict";r.d(o,"a",(function(){return b}));var s=r("zx2A");function b(e){return function(t){return t.lift(new l(e))}}var l=function(){function e(t){i(this,e),this.notifier=t}return a(e,[{key:"call",value:function(e,t){var n=new c(e),o=Object(s.c)(this.notifier,new s.a(n));return o&&!n.seenValue?(n.add(o),t.subscribe(n)):n}}]),e}(),c=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(r,n);var o=t(r);function r(e){var t;return i(this,r),(t=o.call(this,e)).seenValue=!1,t}return a(r,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),r}(s.b)},FpPG:function(e,t,n){"use strict";n.r(t),n.d(t,"FoodbankContactDetailsModule",(function(){return N}));var o,r=n("ofXK"),s=n("tyNb"),b=n("7zfz"),l=n("XNiG"),c=n("1G5W"),d=n("fXoL"),u=n("E+NS"),p=n("Gxio"),m=((o=function(){function e(t,n){i(this,e),this.ms=t,this.ps=n,this.unsub$=new l.a}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.messageObserver().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.ms.add(t)}))}},{key:"ngOnDestroy",value:function(){this.unsub$.next(),this.unsub$.complete()}}]),e}()).\u0275fac=function(e){return new(e||o)(d.Kb(b.h),d.Kb(u.a))},o.\u0275cmp=d.Eb({type:o,selectors:[["app-foodbank-contact-details"]],features:[d.xb([b.h])],decls:2,vars:0,template:function(e,t){1&e&&(d.Lb(0,"p-toast"),d.Lb(1,"router-outlet"))},directives:[p.a,s.k],styles:[""]}),o),h=n("3Pt+"),f=n("ndxW"),v=n("5dVO");function P(e,t){if(1&e){var n=d.Rb();d.Ob(0),d.Qb(1,"div",32),d.Qb(2,"label",33),d.Jc(3),d.Qb(4,"input",34),d.Xb("ngModelChange",(function(e){return d.zc(n),t.$implicit.checked=e})),d.Pb(),d.Lb(5,"span",35),d.Pb(),d.Pb(),d.Nb()}if(2&e){var o=t.$implicit;d.yb(3),d.Lc(" ",o.name," "),d.yb(1),d.kc("name","source_",o.name,""),d.ic("ngModel",o.checked)}}var y=function(){return{standalone:!0}};function g(e,t){if(1&e){var n=d.Rb();d.Ob(0),d.Qb(1,"div",31),d.Qb(2,"label",32),d.Jc(3),d.Qb(4,"input",33),d.Xb("ngModelChange",(function(e){return d.zc(n),t.$implicit.checked=e})),d.Pb(),d.Lb(5,"span",34),d.Pb(),d.Pb(),d.Nb()}if(2&e){var o=t.$implicit;d.yb(3),d.Lc(" ",o.name," "),d.yb(1),d.jc("name",o.name),d.ic("ngModel",o.checked)("ngModelOptions",d.mc(4,y))}}var Q,J,k,M,I,C,_=[{path:"",component:m,children:[{path:"step1",component:(M=function(){function e(t,n,o,r,a,s){i(this,e),this.ps=t,this.ss=n,this.router=o,this.fb=r,this.ar=a,this.loader=s,this.step1Form=this.fb.group({eligibilityCriteria:["",h.y.compose([h.y.required,h.y.pattern(/^(Yes|No)$/i)])],firstVisitToFoodbank:[""],firstName:["",h.y.compose([h.y.required,h.y.pattern(/^[a-zA-Z]+ *$/)])],lastName:["",h.y.compose([h.y.required,h.y.pattern(/^[a-zA-Z]+ *$/)])],dob:[null,h.y.required],gender:["male",h.y.required],maritalStatus:["single",h.y.required],contactInfo:this.fb.group({address:["",h.y.required],city:["",h.y.required],postalCode:["",h.y.compose([h.y.required,h.y.pattern(/^[a-zA-Z0-9 ]{6,8}$/)])],housingType:["Own home",h.y.required],phone:["",h.y.compose([h.y.required,h.y.pattern(/^\+?[0-9]{10,13}$/)])],email:["",h.y.compose([h.y.required,h.y.email])],specialInstruction:["",h.y.maxLength(50)],languageSpoken:["",h.y.compose([h.y.required,h.y.pattern(/^[a-zA-Z, ]+$/)])],deliveryPreference:["Deliver to My Home (between 10:00 AM to 7:00 PM)",h.y.required]})}),this.isModified=!1,this.submitting=!1,this.unsub$=new l.a}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){if(!t._id)return e.ps.newMessage("error","Ad Not Initialized","The Ad is not initialized, please select a location"),e.router.navigate(["../select-location"],{relativeTo:e.ar}),!1;e.ad=t,e.preset_input_values()})),this.ss.getUserSessionObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.session=t}))}},{key:"preset_input_values",value:function(){var e=this.ad,t={eligibilityCriteria:e.eligibilityCriteria,firstVisitToFoodbank:e.firstVisitToFoodbank,firstName:e.firstName,lastName:e.lastName,dob:e.dob,gender:e.gender,maritalStatus:e.maritalStatus,contactInfo:e.contactInfo},n=t.contactInfo.languageSpoken;n instanceof Array&&(t.contactInfo.languageSpoken=null==n?void 0:n.join(", "));var o=JSON.parse(JSON.stringify(t));this.step1Form.patchValue(o),this.contactInfoGroup.city.value||(this.contactInfoGroup.city.value=this.ad.city)}},{key:"save",value:function(e){var t=this;this.load();var n=this.step1Form.value;n.contactInfo.languageSpoken=this.step1Form.value.contactInfo.languageSpoken.split(/, */),this.ps.save_contact_details_step1(this.ad._id,n).subscribe((function(n){t.stopload(),n.status?(t.ps.newMessage("success","Ad was updated",n.message),t.ps.NewAdData(n.data),t.router.navigate([e],{relativeTo:t.ar})):t.ps.newMessage("error","Ad not updated",n.message)}),this.handle_error.bind(this))}},{key:"prevPage",value:function(){this.router.navigate(["../../steps/ad-details"],{relativeTo:this.ar})}},{key:"nextPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"../step2";if("INVALID"==this.step1Form.status)return this.ps.newMessage("error","Invalid Form Data","Please fill the form correctly");this.save(e)}},{key:"handle_error",value:function(e){this.stopload(),e.error instanceof ErrorEvent?this.ps.newMessage("error","Error occured","sorry couldn't connect to the URL"):this.ps.newMessage("error","Error occured",e.error.message)}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}},{key:"firstNameInput",get:function(){return this.step1Form.controls.firstName}},{key:"lastNameInput",get:function(){return this.step1Form.controls.lastName}},{key:"eligibilityCriteriaInput",get:function(){return this.step1Form.controls.eligibilityCriteria}},{key:"dobInput",get:function(){return this.step1Form.controls.dob}},{key:"maritalStatusInput",get:function(){return this.step1Form.controls.maritalStatus}},{key:"genderInput",get:function(){return this.step1Form.controls.gender}},{key:"firstVisitToFoodbankInput",get:function(){return this.step1Form.controls.firstVisitToFoodbank}},{key:"contactInfoGroup",get:function(){return this.step1Form.controls.contactInfo.controls}}]),e}(),M.\u0275fac=function(e){return new(e||M)(d.Kb(u.a),d.Kb(f.a),d.Kb(s.f),d.Kb(h.d),d.Kb(s.a),d.Kb(v.a))},M.\u0275cmp=d.Eb({type:M,selectors:[["app-step1"]],features:[d.xb([h.d])],decls:353,vars:37,consts:[[1,"d-header"],[1,"container-fluid"],[1,"row"],[3,"formGroup","ngSubmit"],["step1FormRef","ngForm"],[1,"col-sm-12"],[1,"delivery-step-list"],[1,"active"],[1,"btn","btn-preview"],[1,"fa","fa-eye"],[1,"delivery-form"],[1,"col-lg-6","offset-lg-3"],[1,"text-center","var-sub-head"],[1,"form-head"],[1,"form-input"],[1,"del-label"],[1,"form-group"],["name","eligibilityCriteria","type","text","formControlName","eligibilityCriteria","placeholder","Yes/No",1,"form-control","capitalize"],[1,"errors",3,"hidden"],[1,"error",3,"hidden"],["name","firstVisitToFoodbank","type","text","formControlName","firstVisitToFoodbank",1,"form-control"],[1,"errors"],["name","lastName","type","text","formControlName","lastName",1,"form-control"],["name","firstName","type","text","formControlName","firstName",1,"form-control"],["name","dob","type","date","formControlName","dob",1,"form-control"],[1,"col-lg-4"],[1,"city-checkbx-list"],[1,"city-radio"],["name","gender","type","radio","value","female","checked","checked","formControlName","gender"],[1,"checkmark"],["name","gender","type","radio","value","male","formControlName","gender"],["name","gender","type","radio","value","transgender","formControlName","gender"],["name","gender","type","radio","value","other","formControlName","gender"],["name","gender","type","radio","value","undisclosed","formControlName","gender"],["name","maritalStatus","type","radio","value","single","checked","checked","formControlName","maritalStatus"],["name","maritalStatus","type","radio","value","married","formControlName","maritalStatus"],["name","maritalStatus","type","radio","value","common-law","formControlName","maritalStatus"],["name","maritalStatus","type","radio","value","divorced","formControlName","maritalStatus"],["name","maritalStatus","type","radio","value","separated","formControlName","maritalStatus"],["name","maritalStatus","type","radio","value","widowed","formControlName","maritalStatus"],["name","maritalStatus","type","radio","value","undisclosed","formControlName","maritalStatus"],["formGroupName","contactInfo",1,"form-contact"],[1,"form-subnote"],["name","address","type","text","formControlName","address",1,"form-control"],["name","city","type","text","formControlName","city",1,"form-control"],["name","postalCode","type","text","formControlName","postalCode",1,"form-control"],[1,"col-lg-6"],["name","housingType","type","radio","value","Own home","checked","checked","formControlName","housingType"],["name","housingType","type","radio","value","Private rental","formControlName","housingType"],["name","housingType","type","radio","value","Emergency shelter","formControlName","housingType"],["name","housingType","type","radio","value","Band owned (reserve lands)","formControlName","housingType"],["name","housingType","type","radio","formControlName","housingType"],["name","housingType","type","radio","value","Group home/youth shelter","formControlName","housingType"],["name","housingType","type","radio","value","Staying with family/friends","formControlName","housingType"],["name","housingType","type","radio","value","On the street","formControlName","housingType"],["name","housingType","type","radio","value","Social rental housing (subsidized housing provided through Peel Living)","formControlName","housingType"],["name","housingType","type","radio","value","other","formControlName","housingType"],["name","phone","type","text","formControlName","phone",1,"form-control"],["name","email","type","email","formControlName","email",1,"form-control"],["name","specialInstruction","type","text","formControlName","specialInstruction",1,"form-control"],["name","languageSpoken","type","text","formControlName","languageSpoken",1,"form-control"],["name","deliveryPreference","type","radio","value","Deliver to My Home (between 10:00 AM to 7:00 PM)","checked","checked","formControlName","deliveryPreference"],["name","deliveryPreference","type","radio","value","Nearest Pick up Location to me (between 9:30 AM to 4:30 PM)","formControlName","deliveryPreference"],[1,"d-footer"],["type","button","routerLink","../../steps/ad-details",1,"btn","btn-prev"],[1,"fa","fa-angle-left"],[1,"btn","btn-next"],[1,"fa","fa-angle-right"]],template:function(e,t){if(1&e&&(d.Qb(0,"section",0),d.Qb(1,"div",1),d.Qb(2,"div",2),d.Qb(3,"form",3,4),d.Xb("ngSubmit",(function(){return t.nextPage()})),d.Qb(5,"div",5),d.Qb(6,"div",6),d.Qb(7,"ul"),d.Qb(8,"li",7),d.Qb(9,"span"),d.Jc(10," 1 "),d.Pb(),d.Jc(11," Contact details "),d.Pb(),d.Qb(12,"li"),d.Qb(13,"span"),d.Jc(14," 2 "),d.Pb(),d.Jc(15," Household members & Educations "),d.Pb(),d.Qb(16,"li"),d.Qb(17,"span"),d.Jc(18," 3 "),d.Pb(),d.Jc(19," Monthly income "),d.Pb(),d.Qb(20,"li"),d.Qb(21,"span"),d.Jc(22," 4 "),d.Pb(),d.Jc(23," Dietary considerations "),d.Pb(),d.Qb(24,"li"),d.Qb(25,"button",8),d.Lb(26,"i",9),d.Jc(27," Preview Ad "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(28,"div",10),d.Qb(29,"div",2),d.Qb(30,"div",11),d.Qb(31,"h4",12),d.Jc(32," Any information provided below is used by myissues to serve your best needs. "),d.Pb(),d.Qb(33,"h3",13),d.Jc(34," Food Bank Client Application "),d.Pb(),d.Qb(35,"div",14),d.Qb(36,"label",15),d.Jc(37," Please let us know your reason for applying to this program, you may refer to the "),d.Pb(),d.Qb(38,"div",16),d.Qb(39,"label",15),d.Jc(40," eligibility criteria listed above "),d.Qb(41,"span"),d.Jc(42,"*"),d.Pb(),d.Pb(),d.Lb(43,"input",17),d.Qb(44,"div",18),d.Qb(45,"div",19),d.Jc(46,"Field can't be empty"),d.Pb(),d.Qb(47,"div",19),d.Jc(48,"Please enter either Yes or No"),d.Pb(),d.Pb(),d.Pb(),d.Qb(49,"div",16),d.Qb(50,"label",15),d.Jc(51," If applicable, please give us an estimation of when you first visited a food bank "),d.Pb(),d.Lb(52,"input",20),d.Qb(53,"p"),d.Jc(54,"This applies to any food bank in any city or country"),d.Pb(),d.Qb(55,"div",21),d.Qb(56,"div",19),d.Jc(57,"Field can't be empty"),d.Pb(),d.Pb(),d.Pb(),d.Qb(58,"div",16),d.Qb(59,"label",15),d.Jc(60," Last name "),d.Qb(61,"span"),d.Jc(62,"*"),d.Pb(),d.Pb(),d.Lb(63,"input",22),d.Qb(64,"div",18),d.Qb(65,"div",19),d.Jc(66,"Field can't be empty"),d.Pb(),d.Qb(67,"div",19),d.Jc(68,"Please enter valid value(only alphabets)"),d.Pb(),d.Pb(),d.Pb(),d.Qb(69,"div",16),d.Qb(70,"label",15),d.Jc(71," First name "),d.Qb(72,"span"),d.Jc(73,"*"),d.Pb(),d.Pb(),d.Lb(74,"input",23),d.Qb(75,"div",18),d.Qb(76,"div",19),d.Jc(77,"Field can't be empty"),d.Pb(),d.Qb(78,"div",19),d.Jc(79,"Please enter valid value(only alphabets)"),d.Pb(),d.Pb(),d.Pb(),d.Qb(80,"div",16),d.Qb(81,"label",15),d.Jc(82," Date of birth "),d.Qb(83,"span"),d.Jc(84,"*"),d.Pb(),d.Pb(),d.Lb(85,"input",24),d.Qb(86,"div",21),d.Qb(87,"div",19),d.Jc(88,"Field can't be empty"),d.Pb(),d.Pb(),d.Pb(),d.Qb(89,"div",16),d.Qb(90,"label",15),d.Jc(91," Gender "),d.Qb(92,"span"),d.Jc(93,"*"),d.Pb(),d.Pb(),d.Qb(94,"div",2),d.Qb(95,"div",25),d.Qb(96,"div",26),d.Qb(97,"label",27),d.Jc(98," Female "),d.Lb(99,"input",28),d.Lb(100,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(101,"div",25),d.Qb(102,"div",26),d.Qb(103,"label",27),d.Jc(104," Male "),d.Lb(105,"input",30),d.Lb(106,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(107,"div",25),d.Qb(108,"div",26),d.Qb(109,"label",27),d.Jc(110," Transgender "),d.Lb(111,"input",31),d.Lb(112,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(113,"div",25),d.Qb(114,"div",26),d.Qb(115,"label",27),d.Jc(116," Other "),d.Lb(117,"input",32),d.Lb(118,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(119,"div",25),d.Qb(120,"div",26),d.Qb(121,"label",27),d.Jc(122," Undisclosed "),d.Lb(123,"input",33),d.Lb(124,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(125,"div",21),d.Qb(126,"div",19),d.Jc(127,"Please select one of the option"),d.Pb(),d.Pb(),d.Pb(),d.Qb(128,"div",16),d.Qb(129,"label",15),d.Jc(130," Marital State "),d.Qb(131,"span"),d.Jc(132,"*"),d.Pb(),d.Pb(),d.Qb(133,"div",2),d.Qb(134,"div",25),d.Qb(135,"div",26),d.Qb(136,"label",27),d.Jc(137," Single "),d.Lb(138,"input",34),d.Lb(139,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(140,"div",25),d.Qb(141,"div",26),d.Qb(142,"label",27),d.Jc(143," Married "),d.Lb(144,"input",35),d.Lb(145,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(146,"div",25),d.Qb(147,"div",26),d.Qb(148,"label",27),d.Jc(149," Common-law "),d.Lb(150,"input",36),d.Lb(151,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(152,"div",25),d.Qb(153,"div",26),d.Qb(154,"label",27),d.Jc(155," Divorced "),d.Lb(156,"input",37),d.Lb(157,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(158,"div",25),d.Qb(159,"div",26),d.Qb(160,"label",27),d.Jc(161," Separated "),d.Lb(162,"input",38),d.Lb(163,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(164,"div",25),d.Qb(165,"div",26),d.Qb(166,"label",27),d.Jc(167," Widowed "),d.Lb(168,"input",39),d.Lb(169,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(170,"div",25),d.Qb(171,"div",26),d.Qb(172,"label",27),d.Jc(173," Undisclosed "),d.Lb(174,"input",40),d.Lb(175,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(176,"div",21),d.Qb(177,"div",19),d.Jc(178,"Please select one of the options"),d.Pb(),d.Pb(),d.Pb(),d.Qb(179,"fieldset",41),d.Qb(180,"legend"),d.Jc(181,"Contact information"),d.Pb(),d.Qb(182,"p",42),d.Jc(183,"You must reside in Mississauga to access this program."),d.Pb(),d.Qb(184,"div",16),d.Qb(185,"label",15),d.Jc(186," Address "),d.Qb(187,"span"),d.Jc(188,"*"),d.Pb(),d.Pb(),d.Lb(189,"input",43),d.Qb(190,"div",21),d.Qb(191,"div",19),d.Jc(192,"Field can't be empty"),d.Pb(),d.Pb(),d.Pb(),d.Qb(193,"div",16),d.Qb(194,"label",15),d.Jc(195," City "),d.Qb(196,"span"),d.Jc(197,"*"),d.Pb(),d.Pb(),d.Lb(198,"input",44),d.Qb(199,"div",18),d.Qb(200,"div",19),d.Jc(201,"Field can't be empty"),d.Pb(),d.Qb(202,"div",19),d.Jc(203,"Please enter valid value(only alphabets)"),d.Pb(),d.Pb(),d.Pb(),d.Qb(204,"div",16),d.Qb(205,"label",15),d.Jc(206," Postal Code "),d.Qb(207,"span"),d.Jc(208,"*"),d.Pb(),d.Pb(),d.Lb(209,"input",45),d.Qb(210,"div",18),d.Qb(211,"div",19),d.Jc(212,"Field can't be empty"),d.Pb(),d.Qb(213,"div",19),d.Jc(214,"Please enter valid value(only alphanumeric values 6 characters long)"),d.Pb(),d.Pb(),d.Pb(),d.Qb(215,"div",16),d.Qb(216,"label",15),d.Jc(217," Housing type "),d.Pb(),d.Qb(218,"div",2),d.Qb(219,"div",46),d.Qb(220,"div",26),d.Qb(221,"label",27),d.Jc(222," Own home "),d.Lb(223,"input",47),d.Lb(224,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(225,"div",46),d.Qb(226,"div",26),d.Qb(227,"label",27),d.Jc(228," Private rental "),d.Lb(229,"input",48),d.Lb(230,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(231,"div",46),d.Qb(232,"div",26),d.Qb(233,"label",27),d.Jc(234," Emergency shelter "),d.Lb(235,"input",49),d.Lb(236,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(237,"div",46),d.Qb(238,"div",26),d.Qb(239,"label",27),d.Jc(240," Band owned (reserve lands) "),d.Lb(241,"input",50),d.Lb(242,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(243,"div",46),d.Qb(244,"div",26),d.Qb(245,"label",27),d.Jc(246," Rooming house (multi-tenant house) "),d.Lb(247,"input",51),d.Lb(248,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(249,"div",46),d.Qb(250,"div",26),d.Qb(251,"label",27),d.Jc(252," Group home/youth shelter "),d.Lb(253,"input",52),d.Lb(254,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(255,"div",46),d.Qb(256,"div",26),d.Qb(257,"label",27),d.Jc(258," Staying with family/friends "),d.Lb(259,"input",53),d.Lb(260,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(261,"div",46),d.Qb(262,"div",26),d.Qb(263,"label",27),d.Jc(264," On the street "),d.Lb(265,"input",54),d.Lb(266,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(267,"div",46),d.Qb(268,"div",26),d.Qb(269,"label",27),d.Jc(270," Social rental housing (subsidized housing provided through Peel Living) "),d.Lb(271,"input",55),d.Lb(272,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(273,"div",46),d.Qb(274,"div",26),d.Qb(275,"label",27),d.Jc(276," Other "),d.Lb(277,"input",56),d.Lb(278,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(279,"div",21),d.Qb(280,"div",19),d.Jc(281,"Please select one of the options"),d.Pb(),d.Pb(),d.Pb(),d.Qb(282,"div",16),d.Qb(283,"label",15),d.Jc(284," Phone number "),d.Qb(285,"span"),d.Jc(286,"*"),d.Pb(),d.Pb(),d.Lb(287,"input",57),d.Qb(288,"div",18),d.Qb(289,"div",19),d.Jc(290,"Field can't be empty"),d.Pb(),d.Qb(291,"div",19),d.Jc(292,"Please enter valid value"),d.Pb(),d.Pb(),d.Pb(),d.Qb(293,"div",16),d.Qb(294,"label",15),d.Jc(295," Email address "),d.Pb(),d.Lb(296,"input",58),d.Qb(297,"div",18),d.Qb(298,"div",19),d.Jc(299,"Field can't be empty"),d.Pb(),d.Qb(300,"div",19),d.Jc(301,"Please enter valid value"),d.Pb(),d.Pb(),d.Pb(),d.Qb(302,"div",16),d.Qb(303,"label",15),d.Jc(304," Please provide any special instructions to reach your home, such as your buzzer number or parking instructions. "),d.Pb(),d.Lb(305,"input",59),d.Qb(306,"div",18),d.Qb(307,"div",19),d.Jc(308,"Field can't be empty"),d.Pb(),d.Qb(309,"div",19),d.Jc(310,"Please enter valid value"),d.Pb(),d.Pb(),d.Pb(),d.Qb(311,"div",16),d.Qb(312,"label",15),d.Jc(313," Language(s) spoken "),d.Qb(314,"span"),d.Jc(315,"*"),d.Pb(),d.Pb(),d.Lb(316,"input",60),d.Qb(317,"p"),d.Jc(318,"Please list all language(s) that you speak proficiently (use comma(,) seperated words) "),d.Pb(),d.Qb(319,"div",18),d.Qb(320,"div",19),d.Jc(321,"Field can't be empty"),d.Pb(),d.Qb(322,"div",19),d.Jc(323,"Please enter valid value"),d.Pb(),d.Pb(),d.Pb(),d.Qb(324,"div",16),d.Qb(325,"label",15),d.Jc(326," How would you prefer to receive a weekly delivery from us? "),d.Pb(),d.Qb(327,"div",2),d.Qb(328,"div",46),d.Qb(329,"div",26),d.Qb(330,"label",27),d.Jc(331," Deliver to My Home (between 10:00 AM to 7:00 PM) "),d.Lb(332,"input",61),d.Lb(333,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Qb(334,"div",46),d.Qb(335,"div",26),d.Qb(336,"label",27),d.Jc(337," Nearest Pick up Location to me (between 9:30 AM to 4:30 PM) "),d.Lb(338,"input",62),d.Lb(339,"span",29),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(340,"div",21),d.Qb(341,"div",19),d.Jc(342,"Please select one of the options"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(343,"div",63),d.Qb(344,"ul"),d.Qb(345,"li"),d.Qb(346,"button",64),d.Lb(347,"i",65),d.Jc(348," Previous step "),d.Pb(),d.Pb(),d.Qb(349,"li"),d.Qb(350,"button",66),d.Jc(351," Next step "),d.Lb(352,"i",67),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e){var n=d.wc(4);d.yb(3),d.ic("formGroup",t.step1Form),d.yb(25),d.Cb("submitting",t.submitting),d.yb(16),d.ic("hidden",!(n.submitted&&t.eligibilityCriteriaInput.errors)),d.yb(1),d.ic("hidden",!(null!=t.eligibilityCriteriaInput.errors&&t.eligibilityCriteriaInput.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.eligibilityCriteriaInput.errors&&t.eligibilityCriteriaInput.errors.pattern)),d.yb(9),d.ic("hidden",!(n.submitted&&null!=t.firstVisitToFoodbankInput.errors&&t.firstVisitToFoodbankInput.errors.required)),d.yb(8),d.ic("hidden",!(n.submitted&&t.lastNameInput.errors)),d.yb(1),d.ic("hidden",!(null!=t.lastNameInput.errors&&t.lastNameInput.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.lastNameInput.errors&&t.lastNameInput.errors.pattern)),d.yb(8),d.ic("hidden",!(n.submitted&&t.firstNameInput.errors)),d.yb(1),d.ic("hidden",!(null!=t.firstNameInput.errors&&t.firstNameInput.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.firstNameInput.errors&&t.firstNameInput.errors.pattern)),d.yb(9),d.ic("hidden",!(n.submitted&&null!=t.dobInput.errors&&t.dobInput.errors.required)),d.yb(39),d.ic("hidden",!(n.submitted&&null!=t.genderInput.errors&&t.genderInput.errors.required)),d.yb(51),d.ic("hidden",!(n.submitted&&null!=t.maritalStatusInput.errors&&t.maritalStatusInput.errors.required)),d.yb(14),d.ic("hidden",!(n.submitted&&null!=t.contactInfoGroup.address.errors&&t.contactInfoGroup.address.errors.required)),d.yb(8),d.ic("hidden",!(n.submitted&&t.contactInfoGroup.city.errors)),d.yb(1),d.ic("hidden",!(null!=t.contactInfoGroup.city.errors&&t.contactInfoGroup.city.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.contactInfoGroup.city.errors&&t.contactInfoGroup.city.errors.pattern)),d.yb(8),d.ic("hidden",!(n.submitted&&t.contactInfoGroup.postalCode.errors)),d.yb(1),d.ic("hidden",!(null!=t.contactInfoGroup.postalCode.errors&&t.contactInfoGroup.postalCode.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.contactInfoGroup.postalCode.errors&&t.contactInfoGroup.postalCode.errors.pattern)),d.yb(67),d.ic("hidden",!(n.submitted&&null!=t.contactInfoGroup.housingType.errors&&t.contactInfoGroup.housingType.errors.required)),d.yb(8),d.ic("hidden",!(n.submitted&&t.contactInfoGroup.phone.errors)),d.yb(1),d.ic("hidden",!(null!=t.contactInfoGroup.phone.errors&&t.contactInfoGroup.phone.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.contactInfoGroup.phone.errors&&t.contactInfoGroup.phone.errors.pattern)),d.yb(6),d.ic("hidden",!(n.submitted&&t.contactInfoGroup.email.errors)),d.yb(1),d.ic("hidden",!(null!=t.contactInfoGroup.email.errors&&t.contactInfoGroup.email.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.contactInfoGroup.email.errors&&t.contactInfoGroup.email.errors.email)),d.yb(6),d.ic("hidden",!(n.submitted&&t.contactInfoGroup.specialInstruction.errors)),d.yb(1),d.ic("hidden",!(null!=t.contactInfoGroup.specialInstruction.errors&&t.contactInfoGroup.specialInstruction.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.contactInfoGroup.specialInstruction.errors&&t.contactInfoGroup.specialInstruction.errors.pattern)),d.yb(10),d.ic("hidden",!(n.submitted&&t.contactInfoGroup.languageSpoken.errors)),d.yb(1),d.ic("hidden",!(null!=t.contactInfoGroup.languageSpoken.errors&&t.contactInfoGroup.languageSpoken.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.contactInfoGroup.languageSpoken.errors&&t.contactInfoGroup.languageSpoken.errors.pattern)),d.yb(19),d.ic("hidden",!(n.submitted&&null!=t.contactInfoGroup.deliveryPreference.errors&&t.contactInfoGroup.deliveryPreference.errors.required))}},directives:[h.A,h.o,h.h,h.c,h.n,h.f,h.u,h.i,s.g],styles:[""]}),M)},{path:"step2",component:(k=function(){function e(t,n,o,r,a){i(this,e),this.ps=t,this.ss=n,this.router=o,this.ar=r,this.loader=a,this.submitting=!1,this.unsub$=new l.a,this.init_form_data()}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){if(!t._id)return e.ps.newMessage("error","Ad Not Initialized","The Ad is not initialized, please select a location"),e.router.navigate(["../select-location"],{relativeTo:e.ar}),!1;e.ad=t,e.preset_input_values()})),this.ss.getUserSessionObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.session=t}))}},{key:"preset_input_values",value:function(){this.householdMembers=Object.assign(Object.assign({},this.householdMembers),this.ad.householdMembers),this.education=Object.assign(Object.assign({},this.education),this.ad.education),this.fill_empty_options_and_selectors()}},{key:"fill_empty_options_and_selectors",value:function(){for(var e in this.householdMembers)this.householdMembers[e]=this.householdMembers[e]||"";this.education.level=this.education.level||"grade 0-8"}},{key:"save",value:function(){var e=this;this.load(),this.ps.save_contact_details_step2(this.ad._id,{householdMembers:this.householdMembers,education:this.education}).subscribe((function(t){e.stopload(),t.status?(e.ps.newMessage("success","Details were saved",t.message),e.ps.NewAdData(t.data),e.router.navigate(["../step3"],{relativeTo:e.ar})):e.ps.newMessage("error","Details not saved",t.message)}),this.handle_error.bind(this))}},{key:"nextPage",value:function(e){if("INVALID"==e.form.status)return this.ps.newMessage("error","Invalid Form Details","Please fill correct details");this.save()}},{key:"handle_error",value:function(e){this.stopload(),e.error instanceof ErrorEvent?this.ps.newMessage("error","Error occured","sorry couldn't connect to the URL"):this.ps.newMessage("error","Error occured",e.error.message)}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}},{key:"init_form_data",value:function(){this.householdMembers={numChildren:null,numAdults:null,numSeniors:null},this.education={level:"grade 0-8",country:null}}}]),e}(),k.\u0275fac=function(e){return new(e||k)(d.Kb(u.a),d.Kb(f.a),d.Kb(s.f),d.Kb(s.a),d.Kb(v.a))},k.\u0275cmp=d.Eb({type:k,selectors:[["app-step2"]],decls:173,vars:19,consts:[[1,"d-header"],[1,"container-fluid"],[1,"row"],[3,"ngSubmit"],["step2Form","ngForm"],[1,"col-sm-12"],[1,"delivery-step-list"],[1,"completed"],["src","assets/images/check.png","alt","Check"],[1,"active"],[1,"btn","btn-preview"],[1,"fa","fa-eye"],[1,"delivery-form"],[1,"col-lg-6","offset-lg-3"],[1,"form-input"],[1,"form-contact"],[1,"form-subnote"],[1,"form-group"],[1,"del-label"],[1,"select-wrap"],["name","numChildren","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","0"],["value","1"],["value","2"],["value","3"],["name","numAdults","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["name","numSeniors","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["valueu","3"],[1,"col-lg-6"],[1,"city-checkbx-list"],[1,"city-radio"],["type","radio","name","level","value","grade 0-8","required","","ngModel","",3,"ngModel","ngModelChange"],[1,"checkmark"],["type","radio","name","level","value","grade 9-11","required","","ngModel","",3,"ngModel","ngModelChange"],["type","radio","name","level","value","grade 12","required","","ngModel","",3,"ngModel","ngModelChange"],["type","radio","name","level","value","post secondary (some)","required","","ngModel","",3,"ngModel","ngModelChange"],["type","radio","name","level","value","trade certificate/professional accreditation","required","","ngModel","",3,"ngModel","ngModelChange"],["type","radio","name","level","value","college diploma","required","","ngModel","",3,"ngModel","ngModelChange"],["type","radio","name","level","value","university degree","required","","ngModel","",3,"ngModel","ngModelChange"],["type","radio","name","level","value","Phd","required","","ngModel","",3,"ngModel","ngModelChange"],["type","radio","name","level","value","Undisclosed","required","","ngModel","",3,"ngModel","ngModelChange"],[1,"errors"],[1,"error",3,"hidden"],["type","text","name","country","pattern","^[a-zA-Z]+ *$","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["countryInput","ngModel"],[1,"errors",3,"hidden"],[1,"d-footer"],["type","button","routerLink","../step1",1,"btn","btn-prev"],[1,"fa","fa-angle-left"],["type","submit",1,"btn","btn-next"],[1,"fa","fa-angle-right"]],template:function(e,t){if(1&e){var n=d.Rb();d.Qb(0,"section",0),d.Qb(1,"div",1),d.Qb(2,"div",2),d.Qb(3,"form",3,4),d.Xb("ngSubmit",(function(){d.zc(n);var e=d.wc(4);return t.nextPage(e)})),d.Qb(5,"div",5),d.Qb(6,"div",6),d.Qb(7,"ul"),d.Qb(8,"li",7),d.Qb(9,"span"),d.Lb(10,"img",8),d.Pb(),d.Jc(11," Contact details "),d.Pb(),d.Qb(12,"li",9),d.Qb(13,"span"),d.Jc(14," 2 "),d.Pb(),d.Jc(15," Household members & Educations "),d.Pb(),d.Qb(16,"li"),d.Qb(17,"span"),d.Jc(18," 3 "),d.Pb(),d.Jc(19," Monthly income "),d.Pb(),d.Qb(20,"li"),d.Qb(21,"span"),d.Jc(22," 4 "),d.Pb(),d.Jc(23," Dietary considerations "),d.Pb(),d.Qb(24,"li"),d.Qb(25,"button",10),d.Lb(26,"i",11),d.Jc(27," Preview Ad "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(28,"div",12),d.Qb(29,"div",2),d.Qb(30,"div",13),d.Qb(31,"div",14),d.Qb(32,"fieldset",15),d.Qb(33,"legend"),d.Jc(34,"Household members"),d.Pb(),d.Qb(35,"p",16),d.Jc(36,"Please list the number of household member(s), if any, reside in your household."),d.Pb(),d.Qb(37,"div",17),d.Qb(38,"label",18),d.Jc(39," Number of children or youth (0-17 years) "),d.Pb(),d.Qb(40,"div",19),d.Qb(41,"select",20),d.Xb("ngModelChange",(function(e){return t.householdMembers.numChildren=e})),d.Qb(42,"option",21),d.Jc(43,"Select Option..."),d.Pb(),d.Qb(44,"option",22),d.Jc(45,"0"),d.Pb(),d.Qb(46,"option",23),d.Jc(47,"1"),d.Pb(),d.Qb(48,"option",24),d.Jc(49,"2"),d.Pb(),d.Qb(50,"option",25),d.Jc(51,"3"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(52,"div",17),d.Qb(53,"label",18),d.Jc(54," Number of adults (18-64 years) "),d.Pb(),d.Qb(55,"div",19),d.Qb(56,"select",26),d.Xb("ngModelChange",(function(e){return t.householdMembers.numAdults=e})),d.Qb(57,"option",21),d.Jc(58,"Select Option..."),d.Pb(),d.Qb(59,"option",22),d.Jc(60,"0"),d.Pb(),d.Qb(61,"option",23),d.Jc(62,"1"),d.Pb(),d.Qb(63,"option",24),d.Jc(64,"2"),d.Pb(),d.Qb(65,"option",25),d.Jc(66,"3"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(67,"div",17),d.Qb(68,"label",18),d.Jc(69," Number of seniors (65+ years) "),d.Pb(),d.Qb(70,"div",19),d.Qb(71,"select",27),d.Xb("ngModelChange",(function(e){return t.householdMembers.numSeniors=e})),d.Qb(72,"option",21),d.Jc(73,"Select Option..."),d.Pb(),d.Qb(74,"option",22),d.Jc(75,"0"),d.Pb(),d.Qb(76,"option",23),d.Jc(77,"1"),d.Pb(),d.Qb(78,"option",24),d.Jc(79,"2"),d.Pb(),d.Qb(80,"option",28),d.Jc(81,"3"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(82,"fieldset",15),d.Qb(83,"legend"),d.Jc(84,"Education"),d.Pb(),d.Qb(85,"p",16),d.Jc(86," We collect this data for programming and reporting purposes. For both these purposes, the information is used in an anonymous and aggregate manner to protect your privacy. "),d.Pb(),d.Qb(87,"div",17),d.Qb(88,"label",18),d.Jc(89," What is the highest level of education that you have completed? "),d.Qb(90,"span"),d.Jc(91,"*"),d.Pb(),d.Pb(),d.Qb(92,"div",2),d.Qb(93,"div",29),d.Qb(94,"div",30),d.Qb(95,"label",31),d.Jc(96," Grade 0-8 "),d.Qb(97,"input",32),d.Xb("ngModelChange",(function(e){return t.education.level=e})),d.Pb(),d.Lb(98,"span",33),d.Pb(),d.Pb(),d.Pb(),d.Qb(99,"div",29),d.Qb(100,"div",30),d.Qb(101,"label",31),d.Jc(102," Grade 9-11 "),d.Qb(103,"input",34),d.Xb("ngModelChange",(function(e){return t.education.level=e})),d.Pb(),d.Lb(104,"span",33),d.Pb(),d.Pb(),d.Pb(),d.Qb(105,"div",29),d.Qb(106,"div",30),d.Qb(107,"label",31),d.Jc(108," Grade 12 "),d.Qb(109,"input",35),d.Xb("ngModelChange",(function(e){return t.education.level=e})),d.Pb(),d.Lb(110,"span",33),d.Pb(),d.Pb(),d.Pb(),d.Qb(111,"div",29),d.Qb(112,"div",30),d.Qb(113,"label",31),d.Jc(114," Post secondary (some) "),d.Qb(115,"input",36),d.Xb("ngModelChange",(function(e){return t.education.level=e})),d.Pb(),d.Lb(116,"span",33),d.Pb(),d.Pb(),d.Pb(),d.Qb(117,"div",29),d.Qb(118,"div",30),d.Qb(119,"label",31),d.Jc(120," Trade certificate/professional accreditation "),d.Qb(121,"input",37),d.Xb("ngModelChange",(function(e){return t.education.level=e})),d.Pb(),d.Lb(122,"span",33),d.Pb(),d.Pb(),d.Pb(),d.Qb(123,"div",29),d.Qb(124,"div",30),d.Qb(125,"label",31),d.Jc(126," College diploma "),d.Qb(127,"input",38),d.Xb("ngModelChange",(function(e){return t.education.level=e})),d.Pb(),d.Lb(128,"span",33),d.Pb(),d.Pb(),d.Pb(),d.Qb(129,"div",29),d.Qb(130,"div",30),d.Qb(131,"label",31),d.Jc(132," University degree "),d.Qb(133,"input",39),d.Xb("ngModelChange",(function(e){return t.education.level=e})),d.Pb(),d.Lb(134,"span",33),d.Pb(),d.Pb(),d.Pb(),d.Qb(135,"div",29),d.Qb(136,"div",30),d.Qb(137,"label",31),d.Jc(138," PhD "),d.Qb(139,"input",40),d.Xb("ngModelChange",(function(e){return t.education.level=e})),d.Pb(),d.Lb(140,"span",33),d.Pb(),d.Pb(),d.Pb(),d.Qb(141,"div",29),d.Qb(142,"div",30),d.Qb(143,"label",31),d.Jc(144," Undisclosed "),d.Qb(145,"input",41),d.Xb("ngModelChange",(function(e){return t.education.level=e})),d.Pb(),d.Lb(146,"span",33),d.Pb(),d.Pb(),d.Pb(),d.Qb(147,"div",42),d.Qb(148,"span",43),d.Jc(149,"Please select one of the options"),d.Pb(),d.Pb(),d.Qb(150,"div",5),d.Qb(151,"div",17),d.Qb(152,"label",18),d.Jc(153," Please tell us which country you completed your highest level of education in? "),d.Qb(154,"span"),d.Jc(155,"*"),d.Pb(),d.Pb(),d.Qb(156,"input",44,45),d.Xb("ngModelChange",(function(e){return t.education.country=e})),d.Pb(),d.Qb(158,"div",46),d.Qb(159,"span",43),d.Jc(160,"Field can't be empty"),d.Pb(),d.Qb(161,"span",43),d.Jc(162,"Invalid field value (only alphabets)"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(163,"div",47),d.Qb(164,"ul"),d.Qb(165,"li"),d.Qb(166,"button",48),d.Lb(167,"i",49),d.Jc(168," Previous step "),d.Pb(),d.Pb(),d.Qb(169,"li"),d.Qb(170,"button",50),d.Jc(171," Next step "),d.Lb(172,"i",51),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()}if(2&e){var o=d.wc(4),i=d.wc(157);d.yb(28),d.Cb("submitting",t.submitting),d.yb(13),d.ic("ngModel",t.householdMembers.numChildren),d.yb(15),d.ic("ngModel",t.householdMembers.numAdults),d.yb(15),d.ic("ngModel",t.householdMembers.numSeniors),d.yb(26),d.ic("ngModel",t.education.level),d.yb(6),d.ic("ngModel",t.education.level),d.yb(6),d.ic("ngModel",t.education.level),d.yb(6),d.ic("ngModel",t.education.level),d.yb(6),d.ic("ngModel",t.education.level),d.yb(6),d.ic("ngModel",t.education.level),d.yb(6),d.ic("ngModel",t.education.level),d.yb(6),d.ic("ngModel",t.education.level),d.yb(6),d.ic("ngModel",t.education.level),d.yb(3),d.ic("hidden",!(o.submitted&&!t.education.level)),d.yb(8),d.ic("ngModel",t.education.country),d.yb(2),d.ic("hidden",!o.submitted),d.yb(1),d.ic("hidden",!(null!=i.errors&&i.errors.required)),d.yb(2),d.ic("hidden",!(null!=i.errors&&i.errors.pattern))}},directives:[h.A,h.o,h.p,h.x,h.n,h.q,h.r,h.z,h.u,h.c,h.w,h.t,s.g],styles:[""]}),k)},{path:"step3",component:(J=function(){function e(t,n,o,r,a){i(this,e),this.ps=t,this.ss=n,this.router=o,this.ar=r,this.loader=a,this.submitting=!1,this.unsub$=new l.a,this.init_form_data()}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){if(!t._id)return e.ps.newMessage("error","Ad Not Initialized","The Ad is not initialized, please select a location"),e.router.navigate(["../select-location"],{relativeTo:e.ar}),!1;e.ad=t,e.preset_input_data()})),this.ss.getUserSessionObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.session=t}))}},{key:"preset_input_data",value:function(){var e=this;this.componentForm=Object.assign(Object.assign({},this.componentForm),this.ad.monthlyIncome),this.componentForm.sources instanceof Array||(this.componentForm.sources=[]),this.componentForm.sources.length>0&&(this.sources[0].checked=!1),this.componentForm.sources.map((function(t){var n=e.sources.find((function(e){return e.name==t.name}));n&&(n.checked=!0)}))}},{key:"save",value:function(){var e=this;this.load();var t=this.prepare_form_data();this.ps.save_contact_details_step3(this.ad._id,t).subscribe((function(t){e.stopload(),t.status?(e.ps.newMessage("success","Details were saved",t.message),e.ps.NewAdData(t.data),e.router.navigate(["../step4"],{relativeTo:e.ar})):e.ps.newMessage("error","Details not saved",t.message)}),this.handle_error.bind(this))}},{key:"prepare_form_data",value:function(){var e=this.sources.filter((function(e){return e.checked}));return Object.assign(Object.assign({},this.componentForm),{sources:e})}},{key:"nextPage",value:function(e){if("INVALID"==e.form.status)return this.ps.newMessage("error","Invalid Form Details","Please fill correct details");this.wrong_source_combination()||this.save()}},{key:"wrong_source_combination",value:function(){var e=!1;this.sources[0].checked&&(e=!0);var t=this.sources.find((function(e){return"no income"!=e.name.toLowerCase()&&e.checked}));return e||t?!(!e||!t||(this.ps.newMessage("error","Invalid Form Details","Wrong Source Combination"),0)):(this.ps.newMessage("error","Invalid Form Details","Please select one or more income source"),!0)}},{key:"handle_error",value:function(e){this.stopload(),e.error instanceof ErrorEvent?this.ps.newMessage("error","Error occured","sorry couldn't connect to the URL"):this.ps.newMessage("error","Error occured",e.error.message)}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"init_form_data",value:function(){this.componentForm={sources:[],estimatedMonthlyIncome:null,monthlyHouseholdExpenses:null},this.sources=[{_id:null,name:"No income",checked:!0},{_id:null,name:"Ontario Disability Support Program (ODSP)",checked:!1},{_id:null,name:"Ontario Works (OW)",checked:!1},{_id:null,name:"Old Age Security (OAS)",checked:!1},{_id:null,name:"Canada Pension Plan (CCP)",checked:!1},{_id:null,name:"Pensions",checked:!1},{_id:null,name:"Employment Insurance (EI)",checked:!1},{_id:null,name:"Workplace Safety & Insurance Board (WSIB)",checked:!1},{_id:null,name:"Spouse/Family support",checked:!1},{_id:null,name:"Employed: Full time",checked:!1},{_id:null,name:"Employed: Part-time",checked:!1},{_id:null,name:"Child support",checked:!1},{_id:null,name:"Child tax benefit",checked:!1},{_id:null,name:"Scholarship",checked:!1},{_id:null,name:"Student loans",checked:!1},{_id:null,name:"Universal Child Benefit",checked:!1},{_id:null,name:"Other",checked:!1}]}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}}]),e}(),J.\u0275fac=function(e){return new(e||J)(d.Kb(u.a),d.Kb(f.a),d.Kb(s.f),d.Kb(s.a),d.Kb(v.a))},J.\u0275cmp=d.Eb({type:J,selectors:[["app-step3"]],decls:81,vars:9,consts:[[1,"d-header"],[1,"container-fluid"],[1,"row"],[1,"col-12",3,"ngSubmit"],["step3Form","ngForm"],[1,"col-sm-12"],[1,"delivery-step-list"],[1,"completed"],["src","assets/images/check.png","alt","Check"],[1,"active"],[1,"btn","btn-preview"],[1,"fa","fa-eye"],[1,"delivery-form"],[1,"col-lg-6","offset-lg-3"],[1,"form-input"],[1,"form-contact"],[1,"form-subnote"],[1,"form-group"],[1,"del-label"],[1,"col-lg-12"],[4,"ngFor","ngForOf"],["type","text","name","estimatedMonthlyIncome","pattern","^[0-9]+$","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["estimatedMonthlyIncome","ngModel"],[1,"errors",3,"hidden"],[1,"error",3,"hidden"],["type","text","name","monthlyHouseholdExpenses","pattern","^[0-9]+$","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["monthlyHouseholdExpenses","ngModel"],[1,"d-footer"],["type","button","routerLink","../step2",1,"btn","btn-prev"],[1,"fa","fa-angle-left"],[1,"btn","btn-next"],[1,"fa","fa-angle-right"],[1,"city-checkbx-list"],[1,"city-checkbox"],["type","checkbox","ngModel","",3,"name","ngModel","ngModelChange"],[1,"checkmark"]],template:function(e,t){if(1&e){var n=d.Rb();d.Qb(0,"section",0),d.Qb(1,"div",1),d.Qb(2,"div",2),d.Qb(3,"form",3,4),d.Xb("ngSubmit",(function(){d.zc(n);var e=d.wc(4);return t.nextPage(e)})),d.Qb(5,"div",5),d.Qb(6,"div",6),d.Qb(7,"ul"),d.Qb(8,"li",7),d.Qb(9,"span"),d.Lb(10,"img",8),d.Pb(),d.Jc(11," Contact details "),d.Pb(),d.Qb(12,"li",7),d.Qb(13,"span"),d.Lb(14,"img",8),d.Pb(),d.Jc(15," Household members & Educations "),d.Pb(),d.Qb(16,"li",9),d.Qb(17,"span"),d.Jc(18," 3 "),d.Pb(),d.Jc(19," Monthly income "),d.Pb(),d.Qb(20,"li"),d.Qb(21,"span"),d.Jc(22," 4 "),d.Pb(),d.Jc(23," Dietary considerations "),d.Pb(),d.Qb(24,"li"),d.Qb(25,"button",10),d.Lb(26,"i",11),d.Jc(27," Preview Ad "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(28,"div",12),d.Qb(29,"div",2),d.Qb(30,"div",13),d.Qb(31,"div",14),d.Qb(32,"fieldset",15),d.Qb(33,"legend"),d.Jc(34,"Monthly income"),d.Pb(),d.Qb(35,"p",16),d.Jc(36," We collect this data for programming and reporting purposes. For both these purposes, the information is used in an anonymous and aggregate manner to protect your privacy. "),d.Pb(),d.Qb(37,"div",17),d.Qb(38,"label",18),d.Jc(39," Please select all sources of your monthly income "),d.Qb(40,"span"),d.Jc(41,"*"),d.Pb(),d.Pb(),d.Qb(42,"div",2),d.Qb(43,"div",19),d.Hc(44,P,6,3,"ng-container",20),d.Qb(45,"div",17),d.Qb(46,"label",18),d.Jc(47," Please provide an estimate of your total monthly income "),d.Qb(48,"span"),d.Jc(49,"*"),d.Pb(),d.Pb(),d.Qb(50,"input",21,22),d.Xb("ngModelChange",(function(e){return t.componentForm.estimatedMonthlyIncome=e})),d.Pb(),d.Qb(52,"div",23),d.Qb(53,"span",24),d.Jc(54,"Field can't be empty"),d.Pb(),d.Qb(55,"span",24),d.Jc(56,"Please enter valid input(only numbers)"),d.Pb(),d.Pb(),d.Pb(),d.Qb(57,"div",17),d.Qb(58,"label",18),d.Jc(59," Please provide an estimate of your total monthly household expenses "),d.Qb(60,"span"),d.Jc(61,"*"),d.Pb(),d.Pb(),d.Qb(62,"input",25,26),d.Xb("ngModelChange",(function(e){return t.componentForm.monthlyHouseholdExpenses=e})),d.Pb(),d.Qb(64,"p"),d.Jc(65," Such as rent/mortgage, utilities, phone, internet, vehicle, insurance, childcare, child support, debt payments, food, medical, personal, or transit expenses "),d.Pb(),d.Qb(66,"div",23),d.Qb(67,"span",24),d.Jc(68,"Field can't be empty"),d.Pb(),d.Qb(69,"span",24),d.Jc(70,"Please enter valid input(only numbers)"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(71,"div",27),d.Qb(72,"ul"),d.Qb(73,"li"),d.Qb(74,"button",28),d.Lb(75,"i",29),d.Jc(76," Previous step "),d.Pb(),d.Pb(),d.Qb(77,"li"),d.Qb(78,"button",30),d.Jc(79," Next step "),d.Lb(80,"i",31),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()}if(2&e){var o=d.wc(4),i=d.wc(51),r=d.wc(63);d.yb(44),d.ic("ngForOf",t.sources),d.yb(6),d.ic("ngModel",t.componentForm.estimatedMonthlyIncome),d.yb(2),d.ic("hidden",!o.submitted),d.yb(1),d.ic("hidden",!(null!=i.errors&&i.errors.required)),d.yb(2),d.ic("hidden",!(null!=i.errors&&i.errors.pattern)),d.yb(7),d.ic("ngModel",t.componentForm.monthlyHouseholdExpenses),d.yb(4),d.ic("hidden",!o.submitted),d.yb(1),d.ic("hidden",!(null!=r.errors&&r.errors.required)),d.yb(2),d.ic("hidden",!(null!=r.errors&&r.errors.pattern))}},directives:[h.A,h.o,h.p,r.m,h.c,h.t,h.w,h.n,h.q,s.g,h.a],styles:[""]}),J)},{path:"step4",component:(Q=function(){function e(t,n,o,r,a,s){i(this,e),this.ps=t,this.ss=n,this.fb=o,this.router=r,this.ar=a,this.loader=s,this.componentForm=this.fb.group({additionalDietaryInfo:["",h.y.required],fullname:["",h.y.compose([h.y.required,h.y.pattern(/^[a-z ]+$/i)])],phone:["",h.y.compose([h.y.required,h.y.pattern(/^\+?[0-9]{10,13}$/)])]}),this.submitting=!1,this.unsub$=new l.a,this.init_form_data()}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){if(!t._id)return e.ps.newMessage("error","Ad Not Initialized","The Ad is not initialized, please select a location"),e.router.navigate(["../select-location"],{relativeTo:e.ar}),!1;e.ad=t,e.preset_input_data()})),this.ss.getUserSessionObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.session=t}))}},{key:"preset_input_data",value:function(){var e,t=this,n=this.ad.dietaryConsideration,o=null;n instanceof Object&&(o=Object.assign({},n)),this.componentForm.patchValue(o||{});var i=null===(e=this.ad.dietaryConsideration)||void 0===e?void 0:e.needs;i instanceof Array||(i=[]),i.length>0&&(this.needs[0].checked=!1),i.map((function(e){var n=t.needs.find((function(t){return t.name==e.name}));n&&(n.checked=!0)}))}},{key:"save",value:function(){var e=this;this.load();var t=this.prepare_form_data();this.ps.save_contact_details_step4(this.ad._id,t).subscribe((function(t){e.stopload(),t.status?(e.ps.newMessage("success","Details were saved",t.message),e.ps.NewAdData(t.data),e.router.navigate(["../../steps/photos"],{relativeTo:e.ar})):e.ps.newMessage("error","Details not saved",t.message)}),this.handle_error.bind(this))}},{key:"prepare_form_data",value:function(){var e=this.needs.filter((function(e){return e.checked})),t=this.componentForm.value;return{fullname:t.fullname,additionalDietaryInfo:t.additionalDietaryInfo,phone:t.phone,needs:e}}},{key:"nextPage",value:function(){if(console.log(this.componentForm),"INVALID"==this.componentForm.status)return this.ps.newMessage("error","Invalid Form Details","Please fill correct details");this.wrong_need_combination()||this.save()}},{key:"wrong_need_combination",value:function(){return!this.needs.find((function(e){return e.checked}))&&(this.ps.newMessage("error","Invalid Form Details","Please select one or more income need"),!0)}},{key:"handle_error",value:function(e){this.stopload(),e.error instanceof ErrorEvent?this.ps.newMessage("error","Error occured","sorry couldn't connect to the URL"):this.ps.newMessage("error","Error occured",e.error.message)}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"init_form_data",value:function(){this.needs=[{_id:null,name:"Diabetic",checked:!0},{_id:null,name:"Fish only",checked:!1},{_id:null,name:"Halal",checked:!1},{_id:null,name:"Kosher",checked:!1},{_id:null,name:"Milk allergy",checked:!1},{_id:null,name:"No pork",checked:!1},{_id:null,name:"Peanut allergy",checked:!1},{_id:null,name:"Egg allergy",checked:!1},{_id:null,name:"Pregnant",checked:!1},{_id:null,name:"Sesame allergy",checked:!1},{_id:null,name:"Vegan",checked:!1},{_id:null,name:"Vegetarian",checked:!1},{_id:null,name:"Wheat allergy",checked:!1},{_id:null,name:"Other",checked:!1}]}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}}]),e}(),Q.\u0275fac=function(e){return new(e||Q)(d.Kb(u.a),d.Kb(f.a),d.Kb(h.d),d.Kb(s.f),d.Kb(s.a),d.Kb(v.a))},Q.\u0275cmp=d.Eb({type:Q,selectors:[["app-step4"]],features:[d.xb([h.d])],decls:86,vars:9,consts:[[1,"d-header"],[1,"container-fluid"],[1,"row"],[1,"col-12",3,"formGroup","ngSubmit"],["step4FormRef","ngForm"],[1,"col-sm-12"],[1,"delivery-step-list"],[1,"completed"],["src","assets/images/check.png","alt","Check"],[1,"active"],[1,"btn","btn-preview"],[1,"fa","fa-eye"],[1,"delivery-form"],[1,"col-lg-6","offset-lg-3"],[1,"form-input"],[1,"form-contact"],[1,"form-group"],[1,"del-label"],[1,"col-lg-12"],[4,"ngFor","ngForOf"],["type","text","name","additionalDietaryInfo","formControlName","additionalDietaryInfo",1,"form-control"],[1,"errors"],[1,"error",3,"hidden"],["type","text","name","fullname","placeholder","firstname lastname","formControlName","fullname",1,"form-control"],[1,"errors",3,"hidden"],["type","text","name","phone","placeholder","9999999999","formControlName","phone",1,"form-control"],[1,"d-footer"],["type","button","routerLink","../step3",1,"btn","btn-prev"],[1,"fa","fa-angle-left"],["type","submit",1,"btn","btn-next"],[1,"fa","fa-angle-right"],[1,"city-checkbx-list"],[1,"city-checkbox"],["type","checkbox",3,"name","ngModel","ngModelOptions","ngModelChange"],[1,"checkmark"]],template:function(e,t){if(1&e&&(d.Qb(0,"section",0),d.Qb(1,"div",1),d.Qb(2,"div",2),d.Qb(3,"form",3,4),d.Xb("ngSubmit",(function(){return t.nextPage()})),d.Qb(5,"div",5),d.Qb(6,"div",6),d.Qb(7,"ul"),d.Qb(8,"li",7),d.Qb(9,"span"),d.Lb(10,"img",8),d.Pb(),d.Jc(11," Contact details "),d.Pb(),d.Qb(12,"li",7),d.Qb(13,"span"),d.Lb(14,"img",8),d.Pb(),d.Jc(15," Household members & Educations "),d.Pb(),d.Qb(16,"li",7),d.Qb(17,"span"),d.Lb(18,"img",8),d.Pb(),d.Jc(19," Monthly income "),d.Pb(),d.Qb(20,"li",9),d.Qb(21,"span"),d.Jc(22," 4 "),d.Pb(),d.Jc(23," Dietary considerations "),d.Pb(),d.Qb(24,"li"),d.Qb(25,"button",10),d.Lb(26,"i",11),d.Jc(27," Preview Ad "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(28,"div",12),d.Qb(29,"div",2),d.Qb(30,"div",13),d.Qb(31,"div",14),d.Qb(32,"fieldset",15),d.Qb(33,"legend"),d.Jc(34,"Dietary considerations"),d.Pb(),d.Qb(35,"div",16),d.Qb(36,"label",17),d.Jc(37," What, if any, dietary needs do you have? "),d.Pb(),d.Qb(38,"div",2),d.Qb(39,"div",18),d.Hc(40,g,6,5,"ng-container",19),d.Qb(41,"div",16),d.Qb(42,"label",17),d.Jc(43," Please provide any additional dietary information "),d.Qb(44,"span"),d.Jc(45,"*"),d.Pb(),d.Pb(),d.Lb(46,"input",20),d.Qb(47,"div",21),d.Qb(48,"span",22),d.Jc(49," Field can't be left empty. "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(50,"fieldset",15),d.Qb(51,"legend"),d.Jc(52,"Dietary considerations"),d.Pb(),d.Qb(53,"div",16),d.Qb(54,"label",17),d.Jc(55," What, if any, dietary needs do you have? "),d.Pb(),d.Qb(56,"div",2),d.Qb(57,"div",18),d.Qb(58,"div",16),d.Qb(59,"label",17),d.Jc(60," Full name "),d.Pb(),d.Lb(61,"input",23),d.Qb(62,"div",24),d.Qb(63,"span",22),d.Jc(64," Field can't be left empty "),d.Pb(),d.Qb(65,"span",22),d.Jc(66," Invalid field value (only alphabets) "),d.Pb(),d.Pb(),d.Pb(),d.Qb(67,"div",16),d.Qb(68,"label",17),d.Jc(69," Phone number "),d.Pb(),d.Lb(70,"input",25),d.Qb(71,"div",24),d.Qb(72,"span",22),d.Jc(73," Field can't be left empty "),d.Pb(),d.Qb(74,"span",22),d.Jc(75," Invalid field value (only numbers) "),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Qb(76,"div",26),d.Qb(77,"ul"),d.Qb(78,"li"),d.Qb(79,"button",27),d.Lb(80,"i",28),d.Jc(81," Previous step "),d.Pb(),d.Pb(),d.Qb(82,"li"),d.Qb(83,"button",29),d.Jc(84," Next Step "),d.Lb(85,"i",30),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()),2&e){var n=d.wc(4);d.yb(3),d.ic("formGroup",t.componentForm),d.yb(37),d.ic("ngForOf",t.needs),d.yb(8),d.ic("hidden",!(n.submitted&&null!=t.componentForm.controls.additionalDietaryInfo.errors&&t.componentForm.controls.additionalDietaryInfo.errors.required)),d.yb(14),d.ic("hidden",!n.submitted),d.yb(1),d.ic("hidden",!(null!=t.componentForm.controls.fullname.errors&&t.componentForm.controls.fullname.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.componentForm.controls.fullname.errors&&t.componentForm.controls.fullname.errors.pattern)),d.yb(6),d.ic("hidden",!n.submitted),d.yb(1),d.ic("hidden",!(null!=t.componentForm.controls.phone.errors&&t.componentForm.controls.phone.errors.required)),d.yb(2),d.ic("hidden",!(null!=t.componentForm.controls.phone.errors&&t.componentForm.controls.phone.errors.pattern))}},directives:[h.A,h.o,h.h,r.m,h.c,h.n,h.f,s.g,h.a,h.q],styles:[""]}),Q)}]}],w=((I=function e(){i(this,e)}).\u0275mod=d.Ib({type:I}),I.\u0275inj=d.Hb({factory:function(e){return new(e||I)},imports:[[s.j.forChild(_)],s.j]}),I),L=n("qxW0"),F=n("FMpt"),N=((C=function e(){i(this,e)}).\u0275mod=d.Ib({type:C}),C.\u0275inj=d.Hb({factory:function(e){return new(e||C)},imports:[[r.b,w,h.j,h.v,L.a,p.b,F.a]]}),C)},qxW0:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n("ofXK"),r=n("fXoL"),a=function(){var e=function e(){i(this,e)};return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[o.b]]}),e}()}}])}();
(window.webpackJsonp=window.webpackJsonp||[]).push([[15,26,83],{BcHf:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var s=i("XNiG"),n=i("2Vo4"),a=i("AytR"),r=i("fXoL"),o=i("tk/3"),c=i("ndxW");let d=(()=>{class e{constructor(e,t){this.http=e,this.ss=t,this.url=a.a.server,this.lock=!1,this.message$=new s.a,this.page$=new s.a,this.ad$=new n.a({}),this.newPlanTaken$=new n.a({}),this.editSubmitionButtonClick$=new s.a,this.routeName="INVALID",this.ss.getUserSessionObservable().subscribe(e=>{this.session=e,this.routeName="agency"==this.session.type?"agency":"sponsor"==this.session.type?"sponsors":"receivers"})}newPage(e){this.page$.next(e)}AdObservable(){return this.ad$.asObservable()}NewAdData(e){null!=e||1!=this.lock?(this._currentAd=e,this.ad$.next(this._currentAd)):console.log(this.lock)}messageObserver(){return this.message$.asObservable()}newMessage(e,t,i){this.message$.next({severity:e,summary:t,detail:i})}adPlanTakenObservable(){return this.newPlanTaken$.asObservable()}newPlanTake(e){e instanceof Object&&this.newPlanTaken$.next(this.create_new_upgrades(e))}checkSubmition(){return this.editSubmitionButtonClick$.asObservable()}clickedEditSubmition(e){return this.editSubmitionButtonClick$.next(e)}create_new_upgrades(e){const t={upgradesSelected:!0,adId:e.adId},{plan:i,selectedBump:s}=e;return i instanceof Object&&i.planId&&0==i.paid&&(t.advertisePlanCheck=!0,t.advertisePlan=this.convert_to_advertisePlan(i)),s instanceof Object&&s._id&&(t.bumpupPlanCheck=!0,t.bumpupPlan=s),t}convert_to_advertisePlan(e){return{adPlanId:e.planId,adPlanCategory:e._id,adPlanName:e.planName,inDays:e.inDays,days:e.days,inHours:e.inHours,hours:e.hours,advertisePrice:e.price,paid:e.paid,advertiseAutoRenewal:!1,purchasedOn:null,purchaseToken:null,refunded:!1,endTime:null}}getCategories(){return this.http.get(this.url+"/layout/categories",{withCredentials:!0})}selectCategory(e,t){return"string"==typeof t?this.http.put(`${this.url}/users/receivers/ads/${t}/update-category`,{categoryId:e},{withCredentials:!0}):this.http.post(this.url+"/users/receivers/start-new-ad",{categoryId:e},{withCredentials:!0})}selectLocation(e,t,i,s){return this.http.put(this.url+"/users/receivers/ad-location",{countryId:e,country:t,state:i,city:s,adId:this._currentAd._id},{withCredentials:!0})}save_ad_content(e){return this.http.put(`${this.url}/users/receivers/ad/${this._currentAd._id}/ad-details`,e,{withCredentials:!0})}save_ad_images(e){var t;const i=new FormData;return e.forEach(e=>{i.append("adImages",e)}),i.append("adId",null===(t=this._currentAd)||void 0===t?void 0:t._id),this.http.put(this.url+"/users/receivers/ad-media/adImages",i,{withCredentials:!0,observe:"events",reportProgress:!0})}deleteAdImage(e){var t;const i={adImage:e,adId:null===(t=this._currentAd)||void 0===t?void 0:t._id};return this.http.put(this.url+"/users/receivers/ad-media/adImages/delete",i,{withCredentials:!0})}save_identity_images(e){var t;const i=new FormData;return e.forEach(e=>{i.append("identityImages",e)}),i.append("adId",null===(t=this._currentAd)||void 0===t?void 0:t._id),this.http.put(this.url+"/users/receivers/ad-media/identityImages",i,{withCredentials:!0,observe:"events",reportProgress:!0})}save_ad_video(e){var t;const i=new FormData;return i.append("adVideo",e),i.append("adId",null===(t=this._currentAd)||void 0===t?void 0:t._id),this.http.put(this.url+"/users/receivers/ad-media/adVideo",i,{withCredentials:!0,observe:"events",reportProgress:!0})}save_ad_video_link(e){var t;const i={adId:null===(t=this._currentAd)||void 0===t?void 0:t._id,videoLink:e};return this.http.put(this.url+"/users/receivers/ad-media/adVideoLink",i,{withCredentials:!0,observe:"events",reportProgress:!0})}save_contact(e){return e.adId=this._currentAd._id,this.http.put(this.url+"/users/receivers/ad-user-details",e,{withCredentials:!0})}get_ad_plans(){return this.http.get(this.url+"/users/ad-plans",{withCredentials:!0})}save_plan(e){return"agency"==this.session.type?this.http.put(this.url+"/users/agency/ad-plans/subscribe",{withCredentials:!0}):"sponsor"==this.session.type?this.http.put(this.url+"/users/sponsors/ad-plans/subscribe",{withCredentials:!0}):this.http.put(this.url+"/users/receivers/ad-plans/subscribe",e,{withCredentials:!0})}select_ad_plan(e,t){return this.http.put(this.url+"/users/receivers/ad-plans/subscribe",{adId:this._currentAd._id,planId:e,categoryId:t},{withCredentials:!0})}get_upgrade_payment_intent(e){return this.http.get(`${this.url}/users/receivers/upgrades/payment-intent/${e}`,{withCredentials:!0})}get_ad(e){return this.http.get(`${this.url}/users/${this.routeName}/ads/${e}`,{withCredentials:!0})}delete(e){return this.http.delete(`${this.url}/users/${this.routeName}/ads/${e}`,{withCredentials:!0})}delete_with_category(e,t){return this.http.delete(`${this.url}/users/receivers/ads/ad-with-category/${t}/${e}`,{withCredentials:!0})}upgrade_plan(e){return this.http.put(`${this.url}/users/receivers/ads/${e.adId}/upgrade-card`,e,{withCredentials:!0})}publish_ad_with_plan(e){return this.http.put(`${this.url}/users/receivers/ads/${e.adId}/publish-with-plan`,e,{withCredentials:!0})}publish_normal(e){return this.http.put(`${this.url}/users/receivers/ads/${e}/publish`,{},{withCredentials:!0})}copy_ad(e,t){return this.http.get(`${this.url}/users/${this.routeName}/copy-ad/${e}`,{withCredentials:!0})}ad_status(e,t,i){return this.http.get(`${this.url}/users/${this.routeName}/ad-status/${e}/${t}`,{withCredentials:!0})}}return e.\u0275fac=function(t){return new(t||e)(r.Ub(o.b),r.Ub(c.a))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},H116:function(e,t,i){"use strict";i.r(t),i.d(t,"AdlistRoutingModule",(function(){return S}));var s=i("tyNb"),n=i("XNiG"),a=i("1G5W"),r=i("AytR"),o=i("fXoL"),c=i("BcHf"),d=i("ndxW"),b=i("DPk/"),l=i("5dVO"),u=i("ofXK");let p=(()=>{class e{transform(e,...t){return e>=0&&e<=50?"ad-profile ad-green-des":e>50&&e<=100?"ad-profile ad-orange-des":!e||e>100?"ad-profile ad-red-des":void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Jb({name:"adPositionColor",type:e,pure:!0}),e})();var h=i("mASP"),g=i("yi5r"),m=i("V9fG");const v=["formFoodbank"];function f(e,t){1&e&&(o.Qb(0,"li"),o.Qb(1,"a",5),o.Lb(2,"img",18),o.Jc(3," Community Directory "),o.Pb(),o.Pb())}const P=function(){return["/receiver/find-volunteer"]};function y(e,t){1&e&&(o.Qb(0,"li"),o.Qb(1,"a",19),o.Lb(2,"img",20),o.Jc(3," My Volunteer "),o.Pb(),o.Pb()),2&e&&(o.yb(1),o.ic("routerLink",o.mc(1,P)))}function Q(e,t){1&e&&(o.Qb(0,"a",7),o.Jc(1,"Get verified now!"),o.Pb())}function w(e,t){1&e&&(o.Qb(0,"a",7),o.Jc(1,"Verification is in process"),o.Pb())}function _(e,t){if(1&e&&(o.Qb(0,"section",21),o.Qb(1,"div",1),o.Qb(2,"div",2),o.Qb(3,"div",3),o.Qb(4,"div",22),o.Qb(5,"p"),o.Lb(6,"img",23),o.Jc(7," Verify your account to get more donations. "),o.Hc(8,Q,2,0,"a",24),o.Hc(9,w,2,0,"a",24),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&e){const e=o.bc();o.yb(8),o.ic("ngIf",0==e.session.verificationStatus),o.yb(1),o.ic("ngIf",1==e.session.verificationStatus)}}function k(e,t){1&e&&o.Lb(0,"img",78)}function C(e,t){1&e&&o.Lb(0,"img",79)}function I(e,t){1&e&&o.Lb(0,"img",80)}function L(e,t){1&e&&(o.Qb(0,"span",50),o.Qb(1,"span",51),o.Qb(2,"p"),o.Jc(3,"You will have 1 bumps left"),o.Pb(),o.Lb(4,"br"),o.Qb(5,"a",81),o.Lb(6,"img",58),o.Jc(7," Bump it! "),o.Pb(),o.Qb(8,"a",82),o.Lb(9,"i",54),o.Pb(),o.Pb(),o.Pb())}function $(e,t){if(1&e){const e=o.Rb();o.Qb(0,"span",52),o.Xb("click",(function(){o.zc(e);const t=o.bc().$implicit;return o.bc().upgrade_plan(t._id,t.approved)})),o.Jc(1," Buy & manage your upgrades "),o.Pb()}}function J(e,t){if(1&e){const e=o.Rb();o.Qb(0,"span",52),o.Xb("click",(function(){o.zc(e);const t=o.bc().$implicit;return o.bc().choose_grocery(t._id,t.categoryName,t.approved)})),o.Jc(1," Buy & manage your groceries "),o.Pb()}}function A(e,t){1&e&&(o.Qb(0,"span"),o.Jc(1,"Not purchased"),o.Pb())}function H(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){const e=o.bc(2).$implicit;o.yb(1),o.Lc(" ",e.advertisePlan.days," days ")}}function N(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){const e=o.bc(2).$implicit;o.yb(1),o.Lc(" ",e.advertisePlan.hours," hours ")}}function O(e,t){if(1&e&&(o.Qb(0,"span"),o.Hc(1,H,2,1,"span",9),o.Hc(2,N,2,1,"span",9),o.Pb()),2&e){const e=o.bc().$implicit;o.yb(1),o.ic("ngIf",null==e.advertisePlan?null:e.advertisePlan.inDays),o.yb(1),o.ic("ngIf",null==e.advertisePlan?null:e.advertisePlan.inHours)}}function M(e,t){1&e&&(o.Qb(0,"span"),o.Jc(1,"Not purchased"),o.Pb())}function D(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){const e=o.bc(2).$implicit;o.yb(1),o.Lc(" ",e.advertisePlan.days," days ")}}function j(e,t){if(1&e&&(o.Qb(0,"span"),o.Jc(1),o.Pb()),2&e){const e=o.bc(2).$implicit;o.yb(1),o.Lc(" ",e.advertisePlan.hours," hours ")}}function x(e,t){if(1&e&&(o.Qb(0,"span"),o.Hc(1,D,2,1,"span",9),o.Hc(2,j,2,1,"span",9),o.Pb()),2&e){const e=o.bc().$implicit;o.yb(1),o.ic("ngIf",null==e.advertisePlan?null:e.advertisePlan.inDays),o.yb(1),o.ic("ngIf",null==e.advertisePlan?null:e.advertisePlan.inHours)}}const F=function(e){return["stats/viewsInMonth/",e]};function T(e,t){if(1&e){const e=o.Rb();o.Ob(0),o.Qb(1,"section",25),o.Qb(2,"div",1),o.Qb(3,"div",26),o.Qb(4,"div",2),o.Qb(5,"div",27),o.Qb(6,"div"),o.cc(7,"adPositionColor"),o.Qb(8,"div",28),o.Lb(9,"img",29),o.cc(10,"thumbnail"),o.Pb(),o.Qb(11,"div",30),o.Qb(12,"p"),o.Jc(13," Ad Position "),o.Pb(),o.Qb(14,"p"),o.Qb(15,"a",5),o.Hc(16,k,1,0,"img",31),o.Hc(17,C,1,0,"img",32),o.Hc(18,I,1,0,"img",33),o.Jc(19),o.Pb(),o.Qb(20,"a",5),o.Lb(21,"img",34),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(22,"div",35),o.Qb(23,"div",36),o.Qb(24,"div",37),o.Qb(25,"a",38),o.Lb(26,"img",39),o.Jc(27," Status "),o.Pb(),o.Qb(28,"a",40),o.Xb("click",(function(){o.zc(e);const i=t.$implicit,s=t.index;return o.bc().ad_status(i._id,!i.status,s)})),o.Lb(29,"i",41),o.Jc(30),o.Pb(),o.Pb(),o.Qb(31,"h1"),o.Jc(32),o.cc(33,"substring"),o.Pb(),o.Qb(34,"p"),o.Jc(35),o.cc(36,"date"),o.cc(37,"expiresInPipe"),o.Pb(),o.Qb(38,"div",42),o.Qb(39,"div",2),o.Qb(40,"div",43),o.Qb(41,"div",44),o.Qb(42,"div",2),o.Qb(43,"div",3),o.Qb(44,"ul"),o.Qb(45,"li"),o.Qb(46,"a",45),o.Xb("click",(function(){o.zc(e);const i=t.$implicit;return o.bc().view_ad(i._id)})),o.Lb(47,"i",41),o.Jc(48," View "),o.Pb(),o.Pb(),o.Qb(49,"li"),o.Qb(50,"a",45),o.Xb("click",(function(){o.zc(e);const i=t.$implicit;return o.bc().edit_ad(i._id,i.categoryName)})),o.Lb(51,"i",46),o.Jc(52," Edit "),o.Pb(),o.Pb(),o.Qb(53,"li"),o.Qb(54,"span",47),o.Qb(55,"span",48),o.Xb("click",(function(t){return o.zc(e),o.bc().show_dialog(t)})),o.Lb(56,"i",49),o.Jc(57," Delete "),o.Pb(),o.Qb(58,"span",50),o.Qb(59,"span",51),o.Jc(60," Are you sure you want to delete this ad?"),o.Lb(61,"br"),o.Qb(62,"a",52),o.Xb("click",(function(){o.zc(e);const i=t.$implicit,s=t.index;return o.bc().delete_ad(i._id,s)})),o.Jc(63,"Yes, Delete it"),o.Pb(),o.Qb(64,"button",53),o.Xb("click",(function(t){return o.zc(e),o.bc().close_dialog(t)})),o.Lb(65,"i",54),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(66,"li"),o.Qb(67,"a",45),o.Xb("click",(function(){o.zc(e);const i=t.$implicit;return o.bc().copy_ad(i._id)})),o.Lb(68,"i",55),o.Jc(69," Copy "),o.Pb(),o.Pb(),o.Qb(70,"li"),o.Qb(71,"span",56),o.Xb("click",(function(){o.zc(e);const i=t.$implicit;return o.bc().bumpAd(i._id)})),o.Qb(72,"span",57),o.Lb(73,"img",58),o.Jc(74," Bump "),o.Pb(),o.Hc(75,L,10,0,"span",59),o.Pb(),o.Pb(),o.Qb(76,"li"),o.Qb(77,"a",60),o.Hc(78,$,2,0,"span",61),o.cc(79,"lowercase"),o.Hc(80,J,2,0,"span",61),o.cc(81,"lowercase"),o.Lb(82,"img",62),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(83,"div",3),o.Qb(84,"div",63),o.Lb(85,"i",64),o.Jc(86," Your ad is now visible "),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(87,"section",65),o.Qb(88,"div",1),o.Qb(89,"div",66),o.Qb(90,"div",2),o.Qb(91,"div",67),o.Qb(92,"div",68),o.Qb(93,"div",2),o.Qb(94,"div",69),o.Qb(95,"div",70),o.Qb(96,"ul"),o.Qb(97,"li"),o.Lb(98,"img",71),o.Pb(),o.Qb(99,"li"),o.Jc(100," Page1 "),o.Hc(101,A,2,0,"span",9),o.Hc(102,O,3,2,"span",9),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(103,"div",69),o.Qb(104,"div",72),o.Qb(105,"ul"),o.Qb(106,"li"),o.Lb(107,"img",73),o.Pb(),o.Qb(108,"li"),o.Jc(109," Auto repost "),o.Qb(110,"span"),o.Jc(111,"Not purchased"),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(112,"div",69),o.Qb(113,"div",74),o.Qb(114,"ul"),o.Qb(115,"li"),o.Lb(116,"img",75),o.Pb(),o.Qb(117,"li"),o.Jc(118," Main page "),o.Hc(119,M,2,0,"span",9),o.Hc(120,x,3,2,"span",9),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(121,"div",69),o.Qb(122,"div",76),o.Qb(123,"ul"),o.Qb(124,"li"),o.Lb(125,"img",77),o.Pb(),o.Qb(126,"li",52),o.Xb("click",(function(){return o.zc(e),o.bc().buyBumps()})),o.Jc(127," Bump Ad "),o.Qb(128,"span"),o.Jc(129),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Nb()}if(2&e){const e=t.$implicit,i=o.bc();o.yb(6),o.Bb(o.dc(7,22,e.position)),o.yb(3),o.ic("src",o.dc(10,24,e),o.Cc),o.yb(7),o.ic("ngIf",e.position>=0&&e.position<50),o.yb(1),o.ic("ngIf",e.position>50&&e.position<100),o.yb(1),o.ic("ngIf",!e.position||e.position>100),o.yb(1),o.Lc(" ",e.position||"unavailable"," "),o.yb(6),o.ic("routerLink",o.nc(39,F,e._id)),o.yb(5),o.Lc(" ",e.status?"hide":"show"," "),o.yb(2),o.Mc(" ",o.fc(33,26,e.adTitle,0,50)," ","#"+e._id," "),o.yb(3),o.Nc(" ",e.approvedOn?o.ec(36,30,e.approvedOn,"mediumDate")+" - Expires in "+o.dc(37,33,e.approvedOn)+" D - ":""," ",e.categoryName?e.categoryName:"No Category Chosen"," - City of ",e.city?e.city:"No City Chosen"," "),o.yb(40),o.ic("ngIf",!1),o.yb(3),o.ic("ngIf",o.dc(79,35,e.categoryName)!=i.foodbankName),o.yb(2),o.ic("ngIf",o.dc(81,37,e.categoryName)==i.foodbankName),o.yb(21),o.ic("ngIf",!e.advertisePlanCheck||"Page 1"!=(null==e.advertisePlan?null:e.advertisePlan.adPlanName)),o.yb(1),o.ic("ngIf",e.advertisePlanCheck&&"Page 1"==(null==e.advertisePlan?null:e.advertisePlan.adPlanName)),o.yb(17),o.ic("ngIf",!e.advertisePlanCheck||"Main Page"!=(null==e.advertisePlan?null:e.advertisePlan.adPlanName)),o.yb(1),o.ic("ngIf",e.advertisePlanCheck&&"Main Page"==(null==e.advertisePlan?null:e.advertisePlan.adPlanName)),o.yb(9),o.Lc("",i.session.bumps," bumps left")}}function X(e,t){1&e&&o.Lb(0,"div",83)}const B=[{path:"",component:(()=>{class e{constructor(e,t,i,s,a,o,c){var d;this.ps=e,this.ss=t,this.router=i,this.ds=s,this.ren=a,this.ar=o,this.loader=c,this.submitting=!1,this.query={skip:0,adType:"published"},this.unsubscribe$=new n.a,this.foodbankName=null===(d=r.a.foodbankCategoryName)||void 0===d?void 0:d.toLowerCase()}ngOnInit(){this.ss.getUserSessionObservable().pipe(Object(a.a)(this.unsubscribe$)).subscribe(e=>{this.session=e,this.get_ads(),"agency"==this.session.type?this.home="/agency":"sponsor"==this.session.type?this.home="/sponsor":"receiver"==this.session.type?this.home="/receiver":"volunteer"==this.session.type?this.home="/volunteer":"doner"==this.session.type&&(this.home="/donor")})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}get_ads(){this.load(),this.query.owner=this.session.type,this.ds.get_user_ads(this.query).pipe(Object(a.a)(this.unsubscribe$)).subscribe(e=>{this.stopload(),e.status?this.ads=this.validatePlan(e.data):alert(e.message)},this.ErrorHandle.bind(this))}view_ad(e){this.router.navigate(["/ads/full"],{queryParams:{ad:e,mode:"edit"}})}edit_ad(e,t){let i;i="foodbank"==(null==t?void 0:t.toLowerCase())?"foodbank/edit/steps":"post-edit/select-category",this.router.navigate([i],{queryParams:{action:"edit",adId:e},relativeTo:this.ar})}show_dialog(e){this.ren.addClass(this.ren.nextSibling(e.target),"show-dialog")}close_dialog(e){const t=this.ren.parentNode(e.currentTarget),i=this.ren.parentNode(t);this.ren.removeClass(i,"show-dialog")}delete_ad(e,t){this.load(),this.ps.delete(e).pipe(Object(a.a)(this.unsubscribe$)).subscribe(i=>{this.stopload(),i.status?(this.deleteFromComponent(e,t),this.router.navigate(["deleted"],{relativeTo:this.ar})):this.ds.newMessage("error","Couldn't Delete Ad",i.message)},this.ErrorHandle.bind(this))}deleteFromComponent(e,t){this.ads[t]._id==e?this.ads.splice(t,1):this.ads=this.ads.filter(t=>t._id!=e)}copy_ad(e){const t=this.session.type;this.load(),this.ps.copy_ad(e,t).pipe(Object(a.a)(this.unsubscribe$)).subscribe(e=>{this.stopload(),e.status?(this.ds.newMessage("success","Ad Copied As Draft",e.message,!0),this.ads.unshift(e.data)):this.ds.newMessage("error","Couldn't Copy Ad",e.message)},this.ErrorHandle.bind(this))}bumpAd(e){this.load(),this.ds.bumpAd(e).pipe(Object(a.a)(this.unsubscribe$)).subscribe(e=>{this.stopload(),e.status?(this.ds.newMessage("success","Ad Bumped",e.message),this.ss.bumpsAdd(e.data.bumpsLeft)):this.ds.newMessage("error","Couldn't Bump Ad",e.message)},this.ErrorHandle.bind(this))}upgrade_plan(e,t){if(2!=t)return this.ds.newMessage("info","Ad Not Approved","This ad is not approved yet.");this.router.navigate([this.home+"/bumps/purchase-bumps/"+e])}choose_grocery(e,t,i){return"foodbank"!=(null==t?void 0:t.toLowerCase())?this.ds.newMessage("info","Invalid Category","Please choose a foodbank ad"):2!=i?this.ds.newMessage("info","Ad not approved","This ad is not approved yet"):void this.router.navigate([this.home+"/manage-groceries/"+e])}buyBumps(){this.router.navigate([this.home+"/bumps/purchase-bumps"])}ad_status(e,t,i){const s=this.session.type;if(null!=this.ads[i].hiddenCause)return this.ds.newMessage("error","Cannot Show","The ad is hidden by admin",!0);this.load(),this.ps.ad_status(e,t,s).pipe(Object(a.a)(this.unsubscribe$)).subscribe(s=>{this.stopload(),s.status?this.changeStatusInComponent(e,t,i):alert(s.message)},this.ErrorHandle.bind(this))}changeStatusInComponent(e,t,i){this.ads[i]._id==e?this.ads[i].status=t:this.ads=this.ads.map(i=>{i._id==e&&(i.status=t)})}account(){"doner"!=this.session.type&&this.router.navigate([this.home+"/withdraw"])}ErrorHandle(e){var t;e.error instanceof ErrorEvent?this.ds.newMessage("error","Error Occured","sorry some unknow error occured"):this.ds.newMessage("error","Error",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message),this.stopload()}load(){this.submitting=!0,this.loader.start()}stopload(){this.submitting=!1,this.loader.stop()}showHiddenCause(e){this.ds.newMessage("info","Hidden",this.ads[e].hiddenCause)}showRejectionCause(e){this.ds.newMessage("info","Rejected",this.ads[e].rejectedCause)}validatePlan(e){const t=Date.now();return e.map(e=>{if(2==e.approved&&e.advertisePlanCheck){const i=new Date(e.endTime).getTime();i<=t?(e.advertisePlanCheck=!1,delete e.advertisePlan):e.advertisePlan=this.check_remaining_time(e.advertisePlan,i,t)}return console.log(e),e})}check_remaining_time(e,t,i){return e.inDays?e.days=((t-i)/864e5).toFixed(0):e.inHours&&(e.hours=((t-i)/36e5).toFixed(0)),e}gotoFoodbank(){var e={email:this.session.email,firstname:this.session.firstname,lastname:this.session.lastname,type:this.session.type,id:this.session._id};this.progress().show(),this.ds.foodbankLogin(e).subscribe(e=>{console.log(e),e?(this.openToken=e.result.open_token,this.apiUrl="http://3.97.194.144/foodbank/user/signin",setTimeout(()=>{this.formFoodbank.nativeElement.submit(),this.progress().hide()},3e3)):window.alert("Login failed! Please try again.")},e=>{alert(e)})}progress(){return{show:()=>{this.submitting=!0},hide:()=>{this.submitting=!1}}}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(c.a),o.Kb(d.a),o.Kb(s.f),o.Kb(b.a),o.Kb(o.D),o.Kb(s.a),o.Kb(l.a))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-adlist"]],viewQuery:function(e,t){var i;1&e&&o.Qc(v,!0),2&e&&o.vc(i=o.Yb())&&(t.formFoodbank=i.first)},decls:29,vars:7,consts:[[1,"d-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"graph-step-list","delivery-step-list"],["href","javascript:void(0);"],["src","assets/images/manage-icon.png","alt","manage-icon"],["routerLink","verification"],["src","assets/images/verified-icon.png","alt","verified-icon"],[4,"ngIf"],[1,"active"],["href","javascript:void(0);",3,"click"],["class","verify-account",4,"ngIf"],[4,"ngFor","ngForOf"],["id","formFoodbank","method","POST","target","_blank",2,"display","none",3,"action"],["formFoodbank",""],["id","op","name","op","type","hidden",3,"value"],["class","loader-spinner",4,"ngIf"],["src","assets/images/communitydirectory.png","alt","directory-icon"],["href","javascript:void(0);",3,"routerLink"],["src","assets/images/directory-icon.png","alt","directory-icon"],[1,"verify-account"],[1,"verify-des"],["src","assets/images/verify-icon.png","alt","verify-icon"],["routerLink","verification",4,"ngIf"],[1,"ad-detail"],[1,"ad-bg","ad1"],[1,"col-lg-3"],[1,"ad-pro-img","unhide-post","hide-post"],["alt","Pic",1,"pic-img",3,"src"],[1,"ad-profile-des"],["src","assets/images/position-info-green.png","alt","position-info",4,"ngIf"],["src","assets/images/position-info-orange.png","alt","position-info",4,"ngIf"],["src","assets/images/position-info.png","alt","position-info",4,"ngIf"],["src","assets/images/grey-info.png","alt","grey-info"],[1,"col-lg-9"],[1,"ad-detail-des"],[1,"ad-hide-btn"],[3,"routerLink"],["src","assets/images/status-icon-white.png","alt","status-icon-white"],[1,"btn","btn-hide","btn-edit","btn-unhide",3,"click"],[1,"fa","fa-eye"],[1,"buy-manage"],[1,"col-lg-12"],[1,"buy-manage-list"],[1,"btn","btn-edit",3,"click"],[1,"fa","fa-pencil"],[1,"btn","btn-del","btn-edit","tooltipclassic","tooltipclassic-effect-1",2,"padding","6px"],[1,"tooltipclassic-item",3,"click"],[1,"fa","fa-times"],[1,"tooltipclassic-content","clearfix"],[1,"tooltipclassic-text"],[3,"click"],[1,"btn","btn-close",3,"click"],[1,"fa","fa-close"],[1,"fa","fa-files-o"],[1,"btn","btn-bump","tooltipclassic","tooltipclassic-effect-1",3,"click"],[1,"tooltipclassic-item"],["src","assets/images/bump-icon-1.png","alt","bump-icon"],["class","tooltipclassic-content clearfix",4,"ngIf"],[1,"btn-upgrades"],[3,"click",4,"ngIf"],["src","assets/images/right-arrow.png","alt","right-arrow"],["role","alert",1,"alert","alert-success"],["aria-hidden","true",1,"fa","fa-eye"],[1,"auto-repost"],[1,"auto-bg"],[1,"col-lg-9","offset-lg-3"],[1,"auto-list"],[1,"col-lg-3","col-md-6"],[1,"auto-page-des","page2-des"],["src","assets/images/ad-icon.png","alt","Ad"],[1,"auto-page-des","auto-des"],["src","assets/images/auto-respost.png","alt","auto-respost"],[1,"auto-page-des","featured-des"],["src","assets/images/featured-icon.png","alt","featured-icon"],[1,"auto-page-des","bump-ad-des",2,"cursor","pointer"],["src","assets/images/ad-bump-icon.png","alt","ad-bump-icon"],["src","assets/images/position-info-green.png","alt","position-info"],["src","assets/images/position-info-orange.png","alt","position-info"],["src","assets/images/position-info.png","alt","position-info"],["href","#",1,"bump-link"],[1,"btn","btn-bump-close"],[1,"loader-spinner"]],template:function(e,t){1&e&&(o.Qb(0,"section",0),o.Qb(1,"div",1),o.Qb(2,"div",2),o.Qb(3,"div",3),o.Qb(4,"div",4),o.Qb(5,"ul"),o.Qb(6,"li"),o.Qb(7,"a",5),o.Lb(8,"img",6),o.Jc(9," Manage Ads "),o.Pb(),o.Pb(),o.Qb(10,"li"),o.Qb(11,"a",7),o.Lb(12,"img",8),o.Jc(13," Get Verified "),o.Pb(),o.Pb(),o.Hc(14,f,4,0,"li",9),o.Hc(15,y,4,2,"li",9),o.Qb(16,"li",10),o.Qb(17,"a",11),o.Xb("click",(function(){return t.account()})),o.Jc(18," Account "),o.Pb(),o.Pb(),o.Qb(19,"li"),o.Qb(20,"a",11),o.Xb("click",(function(){return t.gotoFoodbank()})),o.Jc(21," Food Bank "),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Hc(22,_,10,2,"section",12),o.Hc(23,T,130,41,"ng-container",13),o.Ob(24),o.Qb(25,"form",14,15),o.Lb(27,"input",16),o.Pb(),o.Nb(),o.Hc(28,X,1,0,"div",17)),2&e&&(o.yb(14),o.ic("ngIf",!1),o.yb(1),o.ic("ngIf","receiver"==t.session.type),o.yb(7),o.ic("ngIf",2!=t.session.verificationStatus),o.yb(1),o.ic("ngForOf",t.ads),o.yb(2),o.jc("action",t.apiUrl,o.Cc),o.yb(2),o.jc("value",t.openToken),o.yb(1),o.ic("ngIf",t.submitting))},directives:[s.i,u.n,u.m],pipes:[p,h.a,g.a,u.d,m.a,u.k],styles:[".tooltipclassic-content[_ngcontent-%COMP%]{display:none}.show-dialog[_ngcontent-%COMP%]{display:block;opacity:1}.ad-pro-img[_ngcontent-%COMP%]{position:relative;opacity:1}.ad-pro-img[_ngcontent-%COMP%], .pic-img[_ngcontent-%COMP%]{min-height:200px!important}"]}),e})()},{path:"deleted",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Eb({type:e,selectors:[["app-ad-deleted"]],decls:42,vars:0,consts:[[1,"d-header"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12"],[1,"graph-step-list","delivery-step-list"],["href","javascript:void(0);"],["src","assets/images/manage-icon.png","alt","manage-icon"],["routerLink","verification"],["src","assets/images/verified-icon.png","alt","verified-icon"],["src","assets/images/directory-icon.png","alt","directory-icon"],[1,"active"],[1,"d-header","cat-header"],[1,"container"],[1,"delivery-form","description-form"],[1,"description-tab","manage-tab"],[1,"top-tip","delete-tab"],[1,"fa","fa-info-circle"],["routerLink","../",1,"btn","btn-back"],["src","assets/images/right-arrow.png","alt","Icons"]],template:function(e,t){1&e&&(o.Qb(0,"section",0),o.Qb(1,"div",1),o.Qb(2,"div",2),o.Qb(3,"div",3),o.Qb(4,"div",4),o.Qb(5,"ul"),o.Qb(6,"li"),o.Qb(7,"a",5),o.Lb(8,"img",6),o.Jc(9," Manage Ads "),o.Pb(),o.Pb(),o.Qb(10,"li"),o.Qb(11,"a",7),o.Lb(12,"img",8),o.Jc(13," Get verified "),o.Pb(),o.Pb(),o.Qb(14,"li"),o.Qb(15,"a",5),o.Lb(16,"img",9),o.Jc(17," Directory "),o.Pb(),o.Pb(),o.Qb(18,"li",10),o.Qb(19,"a",5),o.Jc(20," Account "),o.Pb(),o.Pb(),o.Qb(21,"li"),o.Qb(22,"a",5),o.Jc(23," Food Bank "),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Qb(24,"section",11),o.Qb(25,"div",12),o.Qb(26,"div",2),o.Qb(27,"div",3),o.Qb(28,"form"),o.Qb(29,"div",13),o.Qb(30,"div",2),o.Qb(31,"div",3),o.Lb(32,"div",14),o.Qb(33,"div",15),o.Qb(34,"h3"),o.Lb(35,"i",16),o.Jc(36," Your ad has been deleted "),o.Pb(),o.Qb(37,"p"),o.Jc(38," Please note that it take up 10 minutes for your ad to disappear from search. "),o.Pb(),o.Pb(),o.Qb(39,"a",17),o.Jc(40," Back to my ads "),o.Lb(41,"img",18),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb())},directives:[s.i],styles:[""]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(B)],s.j]}),e})()},V9fG:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("fXoL");let n=(()=>{class e{transform(e,...t){const i=new Date(e);return((new Date(i.setFullYear(i.getFullYear()+1)).getTime()-Date.now())/864e5).toFixed(0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Jb({name:"expiresInPipe",type:e,pure:!0}),e})()},mASP:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i("AytR"),n=i("fXoL");let a=(()=>{class e{transform(e,...t){var i,n;let a=null;return e?(e instanceof Array?e.length>0&&"string"==typeof e[0]&&(a=e[0]):e instanceof Object?(null===(i=e.identityImages)||void 0===i?void 0:i.length)>0?a=e.identityImages[0]:(null===(n=e.adImages)||void 0===n?void 0:n.length)>0&&(a=e.adImages[0]):"string"==typeof e&&(a=e),s.a.server+"/"+a||"assets/images/home-pic.jpg"):a}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Jb({name:"thumbnail",type:e,pure:!0}),e})()},yi5r:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var s=i("fXoL");let n=(()=>{class e{transform(e,...t){return null==e?void 0:e.substr(t[0],t[1])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Jb({name:"substring",type:e,pure:!0}),e})()}}]);
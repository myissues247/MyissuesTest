!function(){function e(e,n){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,r=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return c=e.done,e},e:function(e){r=!0,s=e},f:function(){try{c||null==i.return||i.return()}finally{if(r)throw s}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{k9sI:function(t,i,o){"use strict";o.r(i),o.d(i,"ReceiverPostEditModule",(function(){return vt}));var s=o("ofXK"),c=o("tyNb"),r=o("XNiG"),d=o("1G5W"),l=o("fXoL"),b=o("BcHf"),u=o("5dVO"),g=o("3Pt+"),p=o("QIUk"),h=o("7zfz"),v=o("dgC2"),m=["next"],f=["prev"];function P(e,t){1&e&&(l.Qb(0,"div",43),l.Qb(1,"span",44),l.Jc(2,"Please enter a valid advertisement title."),l.Pb(),l.Pb())}function y(e,t){1&e&&(l.Qb(0,"div",43),l.Qb(1,"span",44),l.Jc(2,"Please enter a valid name. (Only alphabets)"),l.Pb(),l.Pb())}function Q(e,t){1&e&&(l.Qb(0,"div",43),l.Qb(1,"span",44),l.Jc(2,"Please select a gender"),l.Pb(),l.Pb())}function _(e,t){1&e&&(l.Qb(0,"div",43),l.Qb(1,"span",44),l.Jc(2,"Please enter a valid age. (Numeric age greater than 0)"),l.Pb(),l.Pb())}function C(e,t){1&e&&(l.Qb(0,"div",43),l.Qb(1,"span",44),l.Jc(2,"Please enter a valid tag line."),l.Pb(),l.Pb())}function M(e,t){1&e&&(l.Qb(0,"div",43),l.Qb(1,"span",44),l.Jc(2,"Please enter a valid description."),l.Pb(),l.Pb())}var w=function(){return{height:"320px","font-size":"16px"}};function k(e,t){if(1&e){var n=l.Rb();l.Qb(0,"div",12),l.Qb(1,"label",13),l.Jc(2,"Advertisement Title"),l.Pb(),l.Qb(3,"p",14),l.Jc(4),l.Pb(),l.Qb(5,"div",15),l.Qb(6,"input",16,17),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().adContent.adTitle=e})),l.Pb(),l.Lb(8,"img",18),l.Pb(),l.Hc(9,P,3,0,"div",19),l.Pb(),l.Qb(10,"div",20),l.Qb(11,"div",21),l.Qb(12,"label",22),l.Jc(13,"Name"),l.Pb(),l.Qb(14,"span",23),l.Jc(15,"First Name Only"),l.Pb(),l.Qb(16,"p",14),l.Jc(17),l.Pb(),l.Qb(18,"input",24,25),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().adContent.firstName=e})),l.Pb(),l.Hc(20,y,3,0,"div",19),l.Pb(),l.Qb(21,"div",26),l.Qb(22,"label",27),l.Jc(23,"Sex"),l.Pb(),l.Qb(24,"select",28,29),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().adContent.gender=e})),l.Qb(26,"option",30),l.Jc(27,"Select a Gender"),l.Pb(),l.Qb(28,"option",31),l.Jc(29,"Male"),l.Pb(),l.Qb(30,"option",32),l.Jc(31,"Female"),l.Pb(),l.Qb(32,"option",33),l.Jc(33,"Others"),l.Pb(),l.Pb(),l.Hc(34,Q,3,0,"div",19),l.Pb(),l.Qb(35,"div",34),l.Qb(36,"label",35),l.Jc(37,"Age"),l.Pb(),l.Qb(38,"input",36,37),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().adContent.age=e})),l.Pb(),l.Hc(40,_,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(41,"div",21),l.Qb(42,"label",38),l.Jc(43,"Tag Line"),l.Pb(),l.Qb(44,"input",39,40),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().adContent.tagline=e})),l.Pb(),l.Hc(46,C,3,0,"div",19),l.Pb(),l.Qb(47,"div",12),l.Qb(48,"label",41),l.Jc(49,"Description"),l.Pb(),l.Qb(50,"p-editor",42),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().adContent.description=e})),l.Pb(),l.Hc(51,M,3,0,"div",19),l.Pb()}if(2&e){var i=l.wc(7),a=l.wc(19),o=l.wc(25),s=l.wc(39),c=l.wc(45),r=l.bc(),d=l.wc(1);l.yb(4),l.Lc("",100-((null==r.adContent.adTitle?null:r.adContent.adTitle.length)||0)," characters left"),l.yb(2),l.ic("ngModel",r.adContent.adTitle),l.yb(3),l.ic("ngIf",d.submitted&&i.invalid),l.yb(8),l.Lc("",25-((null==r.adContent.firstName?null:r.adContent.firstName.length)||0)," charaters left"),l.yb(1),l.ic("ngModel",r.adContent.firstName),l.yb(2),l.ic("ngIf",d.submitted&&a.invalid),l.yb(4),l.ic("ngModel",r.adContent.gender),l.yb(2),l.ic("selected",""==r.adContent.gender),l.yb(2),l.ic("selected","male"==r.adContent.gender),l.yb(2),l.ic("selected","female"==r.adContent.gender),l.yb(2),l.ic("selected","others"==r.adContent.gender),l.yb(2),l.ic("ngIf",d.submitted&&o.invalid),l.yb(4),l.ic("ngModel",r.adContent.age),l.yb(2),l.ic("ngIf",d.submitted&&s.invalid&&s>0&&s<150),l.yb(4),l.ic("ngModel",r.adContent.tagline),l.yb(2),l.ic("ngIf",d.submitted&&c.invalid),l.yb(4),l.Fc(l.mc(20,w)),l.ic("ngModel",r.adContent.description),l.yb(1),l.ic("ngIf",d.submitted&&!r.adContent.description)}}var x,O,I=((O=function(){function e(t,i,a,o){n(this,e),this.ren=t,this.ps=i,this.router=a,this.loader=o,this.submitting=!1,this.saved=!1,this.unsub$=new r.a,this.adContent={adTitle:"",firstName:"",description:"",gender:"",tagline:"",age:""}}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(3),this.ps.AdObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.ad=t,e.presetData(t)}))}},{key:"presetData",value:function(e){this.adContent.adTitle=e.adTitle?e.adTitle:"",this.adContent.firstName=e.firstName?e.firstName:"",this.adContent.age=e.age?e.age:"",this.adContent.description=e.description?e.description:"",this.adContent.gender=e.gender?e.gender:"",this.adContent.tagline=e.tagline?e.tagline:"",e.adTitle&&e.gender&&e.description&&e.firstName&&e.age&&(this.saved=!0)}},{key:"ngAfterViewInit",value:function(){var e=this,t=document.getElementsByClassName("ql-formats"),n=this.ren.parentNode(t[0]);this.ren.removeChild(n,t[0]),this.ren.removeChild(n,t[2]),this.ren.removeChild(n,t[4]),this.ps.checkSubmition().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){var n,i,a,o;"save-next"==t?null===(i=null===(n=e.nextButton)||void 0===n?void 0:n.nativeElement)||void 0===i||i.click():"prev"==t?null===(o=null===(a=e.prevButton)||void 0===a?void 0:a.nativeElement)||void 0===o||o.click():e.nextNoSave()}))}},{key:"save_ad_content",value:function(){var e=this;return new Promise((function(t,n){e.ps.save_ad_content(e.adContent).pipe(Object(d.a)(e.unsub$)).subscribe((function(i){return i.status?(e.ps.newMessage("success","Ad Content Saved","The content was saved!"),e.ps.NewAdData(i.data),e.stopload(),t(!0)):(e.ps.newMessage("error","Content Save Failed",i.message),n(!1))}),(function(t){return e.handle_error(t),n(!1)}))}))}},{key:"nextNoSave",value:function(){"published"==this.ad.adState&&this.router.navigate(["/receiver/post-edit/upload-images"])}},{key:"prevPage",value:function(){this.router.navigate(["/receiver/post-edit/select-location"])}},{key:"nextPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/receiver/post-edit/upload-images";if("INVALID"==e.status)return this.ps.newMessage("error","Invalid Input","Please fill the form with valid inputs");this.load(),this.saveAndMove(t)}},{key:"checkAndHandleUnsavedChanges",value:function(e){var t=this;this.checkUnsavedChanges()?this.handleUnsavedChanges().then((function(){t.stopload(),t.router.navigate([e])})).catch((function(){return t.stopload()})):(this.stopload(),this.router.navigate([e]))}},{key:"checkUnsavedChanges",value:function(){return this.ad.firstName!=this.adContent.firstName||this.ad.description!=this.adContent.description||this.ad.gender!=this.adContent.gender||this.ad.adTitle!=this.adContent.adTitle||this.ad.tagline!=this.adContent.tagline}},{key:"handleUnsavedChanges",value:function(){var e=this;return new Promise((function(t,n){e.saveAndMove("/receiver/post-edit/upload-images"),t(!0)}))}},{key:"saveAndMove",value:function(e){var t=this;this.save_ad_content().then((function(){t.stopload(),t.router.navigate([e])})).catch((function(){t.stopload()}))}},{key:"handle_error",value:function(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Error occured","sorry couldn't connect to the URL"):this.ps.newMessage("error","Error occured",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message)}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}}]),e}()).\u0275fac=function(e){return new(e||O)(l.Kb(l.D),l.Kb(b.a),l.Kb(c.f),l.Kb(u.a))},O.\u0275cmp=l.Eb({type:O,selectors:[["app-ad-content"]],viewQuery:function(e,t){var n;1&e&&(l.Qc(m,!0),l.Qc(f,!0)),2&e&&(l.vc(n=l.Yb())&&(t.nextButton=n.first),l.vc(n=l.Yb())&&(t.prevButton=n.first))},decls:20,vars:2,consts:[[1,"input-container",3,"ngSubmit"],["sadForm","ngForm"],[1,"stepsdemo-content"],["pTemplate","content"],[1,"d-footer","c-footer",2,"display","none"],["type","button",1,"btn","btn-prev",3,"click"],["prev",""],[1,"fa","fa-angle-left"],[1,"btn","btn-next",3,"click"],["type","submit","name","submit",1,"btn","btn-next"],["next",""],[1,"fa","fa-angle-right"],[1,"form-group"],["for","adTitle"],[1,"left-char"],[1,"form-icon","right-icon"],["type","text","name","adTitle","placeholder","","maxlength","60","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["adTitle","ngModel"],["src","assets/images/emoji-icon.png","alt","Icons"],["class","errors",4,"ngIf"],[1,"group"],["id","name-input",1,"form-group"],["for","name"],[1,"badge"],["type","text","autocapitalize","words","name","name","placeholder","","maxlength","25","pattern","[a-zA-Z ]+","required","","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["name","ngModel"],["id","gender-input",1,"form-group","mx-md-3"],["for","gender"],["name","gender","id","selectGender","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["gender","ngModel"],["value","","disabled","",3,"selected"],["value","male",3,"selected"],["value","female",3,"selected"],["value","others",3,"selected"],["id","age-input",1,"form-group"],["for","age"],["type","number","name","age","pattern","[0-9]+","min","0","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["age","ngModel"],["for","tag"],["type","text","name","tag","placeholder","Describe your best attribute in short and catchy way","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["tag","ngModel"],["for","description"],["name","description","ngModel","",3,"ngModel","ngModelChange"],[1,"errors"],[1,"error"]],template:function(e,t){if(1&e){var n=l.Rb();l.Qb(0,"form",0,1),l.Xb("ngSubmit",(function(){l.zc(n);var e=l.wc(1);return t.nextPage(e)})),l.Qb(2,"section",2),l.Qb(3,"p-card"),l.Hc(4,k,52,21,"ng-template",3),l.Pb(),l.Pb(),l.Qb(5,"div",4),l.Qb(6,"ul"),l.Qb(7,"li"),l.Qb(8,"button",5,6),l.Xb("click",(function(){return t.prevPage()})),l.Lb(10,"i",7),l.Jc(11,"Previous step"),l.Pb(),l.Pb(),l.Qb(12,"li"),l.Qb(13,"button",8),l.Xb("click",(function(){l.zc(n);var e=l.wc(1);return t.nextPage(e,"/receiver/")})),l.Jc(14," Save & Exit "),l.Pb(),l.Pb(),l.Qb(15,"li"),l.Qb(16,"button",9,10),l.Jc(18," Next step "),l.Lb(19,"i",11),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()}2&e&&(l.yb(2),l.Cb("submitting",t.submitting))},directives:[g.A,g.o,g.p,p.a,h.j,g.c,g.k,g.w,g.n,g.q,s.n,g.t,g.x,g.r,g.z,g.s,v.a],styles:['.page-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}form[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.group[_ngcontent-%COMP%]   #name-input[_ngcontent-%COMP%]{flex:3;margin-right:5px}.group[_ngcontent-%COMP%]   #gender-input[_ngcontent-%COMP%]{flex:2;margin-right:5px}.group[_ngcontent-%COMP%]   #age-input[_ngcontent-%COMP%]{flex:1}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}label[_ngcontent-%COMP%]{color:#6b9bb2;font-weight:700;font-size:24px!important}.form-control[_ngcontent-%COMP%]{height:50px!important}@media screen and (max-width:550px){.group[_ngcontent-%COMP%]   #name-input[_ngcontent-%COMP%]{min-width:100%;margin-right:0}}']}),O),J=((x=function(){function e(){n(this,e)}return a(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=l.Eb({type:x,selectors:[["app-edited"]],decls:9,vars:0,consts:[[1,"ad-post"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"ad-post-des"],["src","assets/images/ad-edited.png","alt","Images"],[1,"view-ad"],["routerLink","/receiver"]],template:function(e,t){1&e&&(l.Qb(0,"section",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"div",4),l.Lb(5,"img",5),l.Qb(6,"div",6),l.Qb(7,"a",7),l.Jc(8,"Back to Ad Center"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb())},directives:[c.i],styles:[""]}),x),A=o("ndxW");function N(e,t){if(1&e&&(l.Qb(0,"div",5),l.Qb(1,"ul"),l.Qb(2,"li"),l.Qb(3,"span"),l.Jc(4),l.Pb(),l.Jc(5),l.Pb(),l.Qb(6,"li"),l.Jc(7),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.bc();l.yb(4),l.Kc(null==n.adPlan?null:n.adPlan.adPlanName),l.yb(1),l.Lc(" ",n.adPlan.inDays?n.adPlan.days+" Day":n.adPlan.hours+" Hour"," "),l.yb(2),l.Lc(" $ ",n.adPlan.advertisePrice," ")}}function z(e,t){if(1&e&&(l.Qb(0,"div",5),l.Qb(1,"ul"),l.Qb(2,"li"),l.Qb(3,"span"),l.Jc(4,"Bump Up Plan"),l.Pb(),l.Jc(5),l.Pb(),l.Qb(6,"li"),l.Jc(7),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.bc();l.yb(5),l.Lc(" ",n.bumpupPlan.count||0," Bump "),l.yb(2),l.Lc(" $ ",n.bumpupPlan.price," ")}}var L,S=((L=function(){function e(t,i,a,o){n(this,e),this.router=t,this.ss=i,this.ps=a,this.loader=o,this.submitting=!1,this.adPlan=null,this.bumpupPlan=null,this.unsub$=new r.a,this.total=0}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(7),this.ps.AdObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){var n,i,a;e.ad=t,e.ad.advertisePlanCheck&&0==(null===(n=e.ad.advertisePlan)||void 0===n?void 0:n.paid)&&(e.adPlan=e.ad.advertisePlan),e.ad.bumpupPlanCheck&&(e.bumpupPlan=e.ad.bumpupPlan),e.total=((null===(i=e.adPlan)||void 0===i?void 0:i.advertisePrice)||0)+((null===(a=e.bumpupPlan)||void 0===a?void 0:a.price)||0),e.total>0&&(e.total+=1)})),this.ss.getUserSessionObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.session=t})),this.ps.checkSubmition().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){"save-next"==t?e.nextPage():"prev"==t&&e.prevPage()}))}},{key:"nextPage",value:function(){var e=this;this.ad.advertisePlanCheck||this.ad.bumpupPlanCheck?this.handle_upgrade():"published"==this.ad.adState?setTimeout((function(){e.router.navigate(["/receiver/post-edit/complete/"+e.ad._id])}),100):this.publish()}},{key:"publish",value:function(){var e=this;this.load(),this.ps.publish_normal(this.ad._id).pipe(Object(d.a)(this.unsub$)).subscribe((function(t){t.status?(e.stopload(),e.router.navigate(["/receiver/post-edit/complete/"+e.ad._id])):(e.stopload(),alert(t.message))}),this.errorHandle.bind(this))}},{key:"handle_upgrade",value:function(){this.router.navigate(["/receiver/post-edit/pay-via-card"])}},{key:"prevPage",value:function(){this.router.navigate(["/receiver/post-edit/upgrades"])}},{key:"errorHandle",value:function(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","sorry some error occured"):this.ps.newMessage("error","Error Occured",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message),this.stopload()}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(),this.unsub$.complete()}}]),e}()).\u0275fac=function(e){return new(e||L)(l.Kb(c.f),l.Kb(A.a),l.Kb(b.a),l.Kb(u.a))},L.\u0275cmp=l.Eb({type:L,selectors:[["app-finalize"]],decls:56,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form","ad-sub-cat"],[1,"cat-list"],[1,"ad-sub-list"],["class","ad-sub-list",4,"ngIf"],[1,"border-0"],[1,"understand-sec","finalize-sec"],[1,"agree-head"],["href","#"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"form"),l.Qb(4,"div",3),l.Qb(5,"div",4),l.Qb(6,"div",5),l.Qb(7,"ul"),l.Qb(8,"li"),l.Qb(9,"span"),l.Jc(10,"Advertisement"),l.Pb(),l.Jc(11," Panhandlers / greater toronto area "),l.Pb(),l.Qb(12,"li"),l.Jc(13," $00.00 "),l.Pb(),l.Pb(),l.Pb(),l.Hc(14,N,8,3,"div",6),l.Hc(15,z,8,2,"div",6),l.Qb(16,"div",5),l.Qb(17,"ul"),l.Qb(18,"li"),l.Qb(19,"span"),l.Jc(20,"Transactions fee"),l.Pb(),l.Jc(21," You pay it if the total is less than $50.00 "),l.Pb(),l.Qb(22,"li"),l.Jc(23," $00.00 "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(24,"div",3),l.Qb(25,"div",4),l.Qb(26,"div",5),l.Qb(27,"ul"),l.Qb(28,"li"),l.Qb(29,"span"),l.Jc(30,"Sub Total"),l.Pb(),l.Pb(),l.Qb(31,"li"),l.Jc(32," $00.00 "),l.Pb(),l.Pb(),l.Pb(),l.Qb(33,"div",5),l.Qb(34,"ul"),l.Qb(35,"li"),l.Qb(36,"span"),l.Jc(37,"Account Balance"),l.Pb(),l.Pb(),l.Qb(38,"li"),l.Jc(39),l.Pb(),l.Pb(),l.Pb(),l.Qb(40,"div",5),l.Qb(41,"ul",7),l.Qb(42,"li"),l.Qb(43,"span"),l.Jc(44,"Grand Total to Pay"),l.Pb(),l.Pb(),l.Qb(45,"li"),l.Jc(46),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(47,"div",8),l.Qb(48,"div",0),l.Qb(49,"div",9),l.Qb(50,"h5"),l.Jc(51," Prices listed are in CAD "),l.Pb(),l.Qb(52,"p"),l.Jc(53," MyIssues charges wil read MyIssues services on your statement. Need help with payments?"),l.Qb(54,"a",10),l.Jc(55,"Contact Us"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.Cb("submitting",t.submitting),l.yb(14),l.ic("ngIf",null==t.adPlan?null:t.adPlan.adPlanId),l.yb(1),l.ic("ngIf",t.ad.bumpupPlanCheck),l.yb(24),l.Lc(" $",t.session.balance?t.session.balance.toFixed(2):"0.00"," "),l.yb(7),l.Lc(" $ ",t.total," "))},directives:[g.A,g.o,g.p,s.n],styles:['.container[_ngcontent-%COMP%]{margin-right:0;margin-left:0;padding-left:0;padding-right:0;max-width:100%!important}.fixcolor[_ngcontent-%COMP%]{color:#737574}.card-footer[_ngcontent-%COMP%]{padding:.75rem 2rem!important}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}@media only screen and (max-width:767px){.ad-sub-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{padding-left:5px;float:none;padding-top:15px;font-size:30px}}']}),L),$=o("DPk/");function j(e,t){if(1&e){var n=l.Rb();l.Qb(0,"label",18),l.Qb(1,"input",19),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().selectedCountry=e}))("click",(function(){l.zc(n);var e=t.$implicit;return l.bc().change_country(e._id)})),l.Pb(),l.Qb(2,"span"),l.Jc(3),l.Pb(),l.Pb()}if(2&e){var i=t.$implicit,a=l.bc();l.yb(1),l.jc("value",i._id),l.ic("ngModel",a.selectedCountry),l.yb(2),l.Kc(i.countryName)}}function F(e,t){if(1&e){var n=l.Rb();l.Qb(0,"label",18),l.Qb(1,"input",20),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().selectedState=e}))("click",(function(){l.zc(n);var e=t.$implicit;return l.bc().change_state(e.stateName)})),l.Pb(),l.Qb(2,"span"),l.Jc(3),l.Pb(),l.Pb()}if(2&e){var i=t.$implicit,a=l.bc();l.yb(1),l.jc("value",i.stateName),l.ic("ngModel",a.selectedState),l.yb(2),l.Kc(i.stateName)}}function D(e,t){if(1&e){var n=l.Rb();l.Qb(0,"label",18),l.Qb(1,"input",21),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().selectedCity=e}))("click",(function(){l.zc(n);var e=t.$implicit;return l.bc().change_city(e.cityName)})),l.Pb(),l.Qb(2,"span"),l.Jc(3),l.Pb(),l.Pb()}if(2&e){var i=t.$implicit,a=l.bc();l.yb(1),l.jc("value",i.cityName),l.ic("ngModel",a.selectedCity),l.yb(2),l.Kc(i.cityName)}}function E(e,t){1&e&&l.Lb(0,"div",22)}var T,B=((T=function(){function e(t,i,a,o){n(this,e),this.ds=t,this.ps=i,this.router=a,this.loader=o,this.submitting=!1,this.loading=!0,this.saved=!1,this.unsub$=new r.a,this.cities=[],this.states=[],this.countries=[],this.selectedCountry="",this.selectedState="",this.selectedCity=""}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(2),this.buttonEventFromParent(),this.ps.AdObservable().subscribe((function(t){e.ad=t})),this.get_country().then((function(){e.ps.AdObservable().pipe(Object(d.a)(e.unsub$)).subscribe((function(t){if(t.country){var n=e.countries.find((function(e){return t.country==e.countryName}));e.selectedCountry=n?n._id:"",e.selectedCountryName=n?n.countryName:"",e.states=n?n.states:[],t.state&&e.change_state(t.state).then((function(){e.ad.city&&(e.selectedCity=t.city,e.saved=!0)}))}}))}))}},{key:"buttonEventFromParent",value:function(){var e=this;this.ps.checkSubmition().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){"save-next"==t?e.nextPage():"prev"==t?e.prevPage():e.nextNoSave()}))}},{key:"get_country",value:function(){var e=this;return new Promise((function(t,n){e.loading=!0,e.ds.get_countries().pipe(Object(d.a)(e.unsub$)).subscribe((function(i){return e.loading=!1,i.status?(e.countries=i.data,t(!0)):(e.ps.newMessage("error","Country Fetch Failed",i.message),n(!1))}),(function(t){return e.handleError(t),n(!1)}))}))}},{key:"change_country",value:function(e){this.selectedCountry=e;var t=this.find_data_of_selected_country();return t?t.states&&0!=t.states.length?(this.states=t.states,this.selectedCountryName=t.countryName,this.selectedState=null,void(this.saved=!1)):this.ds.newMessage("info","No States","No states in this country"):this.ds.newMessage("info","No Country Data","Sorry selected country not found")}},{key:"change_state",value:function(e){return this.saved=!1,this.loading=!0,this.selectedState=e,this.get_cities_for_selected_state()}},{key:"change_city",value:function(e){this.saved=!1,this.selectedCity=e}},{key:"save_location",value:function(){var e=this;this.emptySelect()||(this.load(),this.ps.selectLocation(this.selectedCountry,this.selectedCountryName,this.selectedState,this.selectedCity).pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.stopload(),t.status?(e.ps.NewAdData(t.data),e.ps.newMessage("success","Location Saved","Ad location was saved"),e.saved=!0,e.nextPage()):e.ps.newMessage("error","Failed Save","Couldn't save the location")}),(function(t){e.handleError(t),e.stopload()})))}},{key:"nextNoSave",value:function(){"published"==this.ad.adState&&this.router.navigate(["/receiver/post-edit/upload-images"])}},{key:"prevPage",value:function(){this.unsavedChangesExists()||this.router.navigate(["/receiver/post-edit/ad-content"])}},{key:"nextPage",value:function(){this.saved&&!this.unsavedChangesExists()?this.router.navigate(["/receiver/post-edit/ad-content"]):this.save_location()}},{key:"emptySelect",value:function(){if(""==this.selectedCountry)this.ps.newMessage("info","Country Not Selected","please Select a country");else if(""==this.selectedState)this.ps.newMessage("info","State Not Selected","Please select a state");else{if(""!=this.selectedCity)return!1;this.ps.newMessage("info","City Not Selected","Please select a city")}return!0}},{key:"unsavedChangesExists",value:function(){return!(1!=this.saved||!(this.ad.country||this.ad.state||this.ad.city)||this.ad.country==this.selectedCountryName&&this.ad.state==this.selectedState&&this.ad.city==this.selectedCity||(this.ps.newMessage("info","Unsaved Changes","You have unsaved changes, discard them?"),0))}},{key:"find_data_of_selected_country",value:function(){var e=this;return this.countries.find((function(t){return t._id==e.selectedCountry}))}},{key:"get_cities_for_selected_state",value:function(){var e=this;return new Promise((function(t,n){e.ds.get_cities(e.selectedCountry,e.selectedState).pipe(Object(d.a)(e.unsub$)).subscribe((function(i){var a;return e.loading=!1,i.status?(e.cities=null===(a=i.data[0])||void 0===a?void 0:a.cities,t(!0)):(e.ps.newMessage("error","Cities Fetch Failed",i.message),n(!1))}),(function(t){return e.handleError(t),n(!1)}))}))}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}},{key:"handleError",value:function(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Failed","couldn't connect to the url"):this.ps.newMessage("error","Failed",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message),this.loading=!1}}]),e}()).\u0275fac=function(e){return new(e||T)(l.Kb($.a),l.Kb(b.a),l.Kb(c.f),l.Kb(u.a))},T.\u0275cmp=l.Eb({type:T,selectors:[["app-location"]],decls:41,vars:7,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form","cat-form"],[1,"col-lg-12"],[1,"cat-list"],[1,"cat-sub-list"],[3,"click"],["src","assets/images/left-arrow.png","alt","Icons"],["src","assets/images/no-image.jpg","alt","Icons",2,"width","50px","height","50px","border-radius","50%"],[2,"color","red"],[1,"cat-select-list"],[1,"col-lg-4"],[1,"cat-select-list-des"],[1,"cat-select-head"],[1,"cat-seledt-link"],["class","yes-radio",4,"ngFor","ngForOf"],["class","loader-spinner",4,"ngIf"],[1,"yes-radio"],["type","radio","name","province","id","provines","data-provines","22","data-name","Alberta",3,"ngModel","value","ngModelChange","click"],["type","radio","name","region","id","regions","data-provines","22","data-name","Alberta",3,"value","ngModel","ngModelChange","click"],["type","radio","name","city","id","cities","data-provines","22","data-name","Alberta",3,"value","ngModel","ngModelChange","click"],[1,"loader-spinner"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"form"),l.Qb(5,"div",0),l.Qb(6,"div",1),l.Qb(7,"div",4),l.Qb(8,"div",5),l.Qb(9,"ul",6),l.Qb(10,"li"),l.Qb(11,"a",7),l.Xb("click",(function(){return t.prevPage()})),l.Lb(12,"img",8),l.Pb(),l.Pb(),l.Qb(13,"li"),l.Lb(14,"img",9),l.Qb(15,"span",10),l.Jc(16,"Posting in"),l.Pb(),l.Jc(17),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(18,"div",11),l.Qb(19,"div",0),l.Qb(20,"form"),l.Qb(21,"div",1),l.Qb(22,"div",12),l.Qb(23,"div",13),l.Qb(24,"h2",14),l.Jc(25," Select a Province "),l.Pb(),l.Qb(26,"div",15),l.Hc(27,j,4,3,"label",16),l.Pb(),l.Pb(),l.Pb(),l.Qb(28,"div",12),l.Qb(29,"div",13),l.Qb(30,"h2",14),l.Jc(31," Select a Region "),l.Pb(),l.Qb(32,"div",15),l.Hc(33,F,4,3,"label",16),l.Pb(),l.Pb(),l.Pb(),l.Qb(34,"div",12),l.Qb(35,"div",13),l.Qb(36,"h2",14),l.Jc(37," Select a City "),l.Pb(),l.Qb(38,"div",15),l.Hc(39,D,4,3,"label",16),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Hc(40,E,1,0,"div",17)),2&e&&(l.Cb("submitting",t.submitting),l.yb(17),l.Lc(" ",t.ad.categoryName,". "),l.yb(10),l.ic("ngForOf",t.countries),l.yb(6),l.ic("ngForOf",t.states),l.yb(6),l.ic("ngForOf",t.cities),l.yb(1),l.ic("ngIf",t.loading))},directives:[g.A,g.o,g.p,s.m,s.n,g.u,g.c,g.n,g.q],styles:['.container[_ngcontent-%COMP%]{margin-right:0;margin-left:0;padding-left:0;padding-right:0;max-width:100%!important}section[_ngcontent-%COMP%]{position:relative}.selector-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-evenly;align-items:center}.select[_ngcontent-%COMP%]{min-width:32%;height:60px;margin:5px}[_nghost-%COMP%]     .p-dropdown{width:100%;height:100%;background:#f5f5f5}[_nghost-%COMP%]     .p-dropdown-label{display:flex;align-items:center}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}.page-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.loader-spinner[_ngcontent-%COMP%]{border:10px solid #f3f3f3;border-top-color:#3498db;border-radius:50%;width:70px;height:70px;-webkit-animation:spin 1.5s linear infinite;animation:spin 1.5s linear infinite;z-index:1000;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@media screen and (max-width:700px){.select[_ngcontent-%COMP%]{min-width:45%}}@media screen and (max-width:500px){.select[_ngcontent-%COMP%]{width:100%}}']}),T),H=o("mrSG"),X=o("tk/3"),U=o("JP5V"),V=o("3LrJ"),K=["adImagesModalClose"],R=["identityImagesModalClose"],q=["adVideoModalClose"],G=["prev"],Y=["next"];function Z(e,t){if(1&e){var n=l.Rb();l.Qb(0,"ul"),l.Qb(1,"li"),l.Qb(2,"a"),l.Lb(3,"i",59),l.Pb(),l.Pb(),l.Qb(4,"li"),l.Lb(5,"img",60),l.cc(6,"server"),l.Pb(),l.Qb(7,"li"),l.Jc(8),l.Pb(),l.Qb(9,"li"),l.Qb(10,"a",61),l.Xb("click",(function(){l.zc(n);var e=t.$implicit,i=t.index;return l.bc().deleteAdImage(e,i)})),l.Jc(11,"-"),l.Pb(),l.Pb(),l.Pb()}if(2&e){var i=t.$implicit,a=t.index;l.yb(5),l.jc("src",l.dc(6,2,i),l.Cc),l.yb(3),l.Lc("Ad Image ",a+1,"/10 ")}}function W(e,t){if(1&e){var n=l.Rb();l.Qb(0,"div",62),l.Qb(1,"label",63),l.Lb(2,"img",64),l.Qb(3,"input",65),l.Xb("click",(function(){l.zc(n);var e=t.$implicit,i=t.index;return l.bc().ad_image_selection_change(e.imagePath,i)})),l.Pb(),l.Lb(4,"span",66),l.Pb(),l.Pb()}if(2&e){var i=t.$implicit;l.yb(2),l.jc("src",i.imgPath,l.Cc)}}function ee(e,t){if(1&e&&(l.Qb(0,"div",67),l.Qb(1,"label",63),l.Lb(2,"img",64),l.cc(3,"server"),l.Pb(),l.Pb()),2&e){var n=t.$implicit;l.yb(2),l.jc("src",l.dc(3,1,n),l.Cc)}}function te(e,t){if(1&e&&(l.Qb(0,"div",62),l.Qb(1,"label",63),l.Lb(2,"img",64),l.Pb(),l.Pb()),2&e){var n=t.$implicit;l.yb(2),l.jc("src",n.imgPath,l.Cc)}}var ne,ie=((ne=function(){function t(e,i,a){n(this,t),this.ps=e,this.router=i,this.loader=a,this.submitting=!1,this.currentSelectedAdImages=[],this.newlyAddedAdImages=0,this.maxAdImages=10,this.currentSelectedIdentityImages=[],this.newlyAddedIdentityImages=0,this.uploadedAdVideo=null,this.newVideoLink=null,this.unsub$=new r.a,this.uploadedAdImages=[],this.uploadedIdentityImages=[]}return a(t,[{key:"ngOnInit",value:function(){this.ps.newPage(4),this.load(),this.get_ad_data_from_service()}},{key:"ngAfterViewInit",value:function(){var e=this;this.ps.checkSubmition().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){var n,i,a,o;console.log(t),"save-next"==t?null===(i=null===(n=e.nextButton)||void 0===n?void 0:n.nativeElement)||void 0===i||i.click():"prev"==t?null===(o=null===(a=e.prevButton)||void 0===a?void 0:a.nativeElement)||void 0===o||o.click():e.nextNoSave()}))}},{key:"get_ad_data_from_service",value:function(){var e=this;this.ps.AdObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.ad=t,e.stopload(),t.adImages instanceof Array&&(e.uploadedAdImages=t.adImages,e.maxAdImages=10-e.uploadedAdImages.length),t.identityImages instanceof Array&&(e.uploadedIdentityImages=t.identityImages),t.adVideo&&(e.uploadedAdVideo=t.adVideo)}))}},{key:"uploadAdImages",value:function(e){var t=this;this.load();var n=e;this.ps.save_ad_images(n).pipe(Object(d.a)(this.unsub$)).subscribe((function(e){t.handle_ad_image_upload_http_events(e,n)}),this.handle_error.bind(this))}},{key:"handle_ad_image_upload_http_events",value:function(e,t){if(e.type==X.d.UploadProgress)this.loader.load(Math.round(100*e.loaded/e.total));else if(e instanceof X.f){var n=e.body;this.stopload(),n.status?this.handle_ad_images_upload_success(n,t):this.ps.newMessage("error","Couldn't Upload",n.message)}}},{key:"handle_ad_images_upload_success",value:function(e,t){this.ps.newMessage("success","Images Uploaded","All the images are successfully uploaded"),this.newlyAddedAdImages+=t.length,this.ps.NewAdData(e.data),this.currentSelectedAdImages=[],this.adImagesModalCloseButton.nativeElement.click()}},{key:"uploadIdentityImages",value:function(e){var t=this;if(!(this.ad.identityImages.length>0)||confirm("A photo identity image is already Uploaded, Do You want to ReUpload?")){var n=e;this.ps.save_identity_images(n).pipe(Object(d.a)(this.unsub$)).subscribe((function(e){t.handle_identity_images_upload_http_events(e,n)}),(function(e){t.handle_error(e)}))}}},{key:"handle_identity_images_upload_http_events",value:function(e,t){if(e.type==X.d.UploadProgress)this.loader.load(Math.round(100*e.loaded/e.total),"Uploading.....");else if(e instanceof X.f){var n=e.body;this.stopload(),n.status?this.handle_identity_images_upload_success(n,t):this.ps.newMessage("error","Couldn't Upload",n.message)}}},{key:"handle_identity_images_upload_success",value:function(e,t){this.ps.newMessage("success","Images Uploaded","All the images are successfully uploaded"),this.newlyAddedIdentityImages+=t.length,this.ps.NewAdData(e.data),this.currentSelectedIdentityImages=[],this.identityImagesModalCloseButton.nativeElement.click()}},{key:"uploadAdVideo",value:function(){var e=this;this.confirmVideoReupload()&&this.ps.save_ad_video_link(this.newVideoLink).pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.handle_ad_video_upload_http_events(t)}),(function(t){e.handle_error(t),e.stopload()}))}},{key:"confirmVideoReupload",value:function(){return!this.ad.adVideo||confirm("A Video is already saved, Do You want to save new video?")}},{key:"handle_ad_video_upload_http_events",value:function(e){if(e.type==X.d.UploadProgress)this.loader.load(Math.round(100*e.loaded/e.total));else if(e instanceof X.f){var t=e.body;this.stopload(),t.status?this.handle_ad_video_upload(t):this.ps.newMessage("error","Couldn't Upload",t.message)}}},{key:"handle_ad_video_upload",value:function(e){this.ps.newMessage("success","Video Was Added","The Video was successfully Added"),this.newVideoLink=null,this.adVideoModalCloseButton.nativeElement.click(),this.ps.NewAdData(e.data)}},{key:"nextPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/receiver/post-edit/user-details";this.uploadedAdImages.length>0&&this.uploadedIdentityImages.length>0&&this.uploadedAdVideo?this.checkUnuploadedFiles()?this.confirm_to_discard_selected_images()&&this.router.navigate([e]):this.router.navigate([e]):this.ps.newMessage("error","Media Files Missing","Please upload required media")}},{key:"nextNoSave",value:function(){"published"==this.ad.adState&&this.router.navigate(["/receiver/post-edit/user-details"])}},{key:"prevPage",value:function(){this.router.navigate(["/receiver/post-edit/ad-content"])}},{key:"checkUnuploadedFiles",value:function(){return this.currentSelectedAdImages.length>0||this.currentSelectedIdentityImages.length>0||null!=this.newVideoLink}},{key:"select_new_image_for_ad_images",value:function(t,n){return Object(H.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,o,s,c,r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:this.submitting=!0,a=t.target.files,o=e(a),i.prev=3,o.s();case 5:if((s=o.n()).done){i.next=17;break}if(c=s.value,!(this.currentSelectedAdImages.length<=10-this.uploadedAdImages.length)){i.next=14;break}return i.next=10,this.convertToBase64(c);case 10:r=i.sent,this.currentSelectedAdImages.push({imgPath:r,blob:c,selected:!0}),i.next=15;break;case 14:this.ps.newMessage("info","Cannot Add More","Maximum number of images reached.");case 15:i.next=5;break;case 17:i.next=22;break;case 19:i.prev=19,i.t0=i.catch(3),o.e(i.t0);case 22:return i.prev=22,o.f(),i.finish(22);case 25:n.reset(),this.submitting=!1;case 26:case"end":return i.stop()}}),i,this,[[3,19,22,25]])})))}},{key:"select_new_image_for_identity_images",value:function(e,t){return Object(H.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.target.files[0],n.next=3,this.convertToBase64(i);case 3:a=n.sent,this.currentSelectedIdentityImages=[{imgPath:a,blob:i}],t.reset();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"convertToBase64",value:function(e){return new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){t(i.result)},i.onerror=function(){n("error in parsing")}}))}},{key:"ad_image_selection_change",value:function(e,t){var n;if((null===(n=this.currentSelectedAdImages[t])||void 0===n?void 0:n.imgPath)==e)this.currentSelectedAdImages[t].selected=!this.currentSelectedAdImages[t].selected;else{var i=this.currentSelectedAdImages.find((function(t){return t.imgPath==e}));i.selected=!i.selected}}},{key:"finalize_selected_ad_images",value:function(){var e=this.currentSelectedAdImages.map((function(e){if(1==e.selected)return e.blob}));this.uploadAdImages(e)}},{key:"finalize_selected_identity_images",value:function(){this.uploadIdentityImages([this.currentSelectedIdentityImages[0].blob])}},{key:"confirm_to_discard_selected_images",value:function(){return!1}},{key:"deleteAdImage",value:function(e,t){var n=this;this.load(),this.ps.deleteAdImage(e).pipe(Object(d.a)(this.unsub$)).subscribe((function(i){i.status?(n.ps.newMessage("success","Delete Ad Image","Image was deleted from server"),n.remove_image_from_views(e,t),n.ad.adImages=n.uploadedAdImages,n.ps.NewAdData(n.ad)):(n.ps.newMessage("error","Failed To Delete",i.message),n.stopload())}),this.handle_error.bind(this))}},{key:"remove_image_from_views",value:function(e,t){if(this.uploadedAdImages[t]==e)this.uploadedAdImages.splice(t,1);else{var n=this.uploadedAdImages.indexOf(e);this.uploadedAdImages.splice(n,1)}}},{key:"handle_error",value:function(e){e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","sorry some error occured"):this.ps.newMessage("error","Couldn't Save",e.error.message),this.stopload()}},{key:"openFileDialog",value:function(e){e.click()}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){var e,t,n;this.unsub$.next(!0),this.unsub$.complete(),null===(e=this.adImagesModalCloseButton)||void 0===e||e.nativeElement.click(),null===(t=this.identityImagesModalCloseButton)||void 0===t||t.nativeElement.click(),null===(n=this.adVideoModalCloseButton)||void 0===n||n.nativeElement.click()}}]),t}()).\u0275fac=function(e){return new(e||ne)(l.Kb(b.a),l.Kb(c.f),l.Kb(u.a))},ne.\u0275cmp=l.Eb({type:ne,selectors:[["app-photos"]],viewQuery:function(e,t){var n;1&e&&(l.Qc(K,!0),l.Qc(R,!0),l.Qc(q,!0),l.Qc(G,!0),l.Qc(Y,!0)),2&e&&(l.vc(n=l.Yb())&&(t.adImagesModalCloseButton=n.first),l.vc(n=l.Yb())&&(t.identityImagesModalCloseButton=n.first),l.vc(n=l.Yb())&&(t.adVideoModalCloseButton=n.first),l.vc(n=l.Yb())&&(t.prevButton=n.first),l.vc(n=l.Yb())&&(t.nextButton=n.first))},decls:135,vars:12,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form"],[1,"col-lg-12"],[1,"upload-img","text-center"],["data-toggle","modal","data-name1","photo","id","pic1","data-target",".adImg-modal"],["aria-hidden","true",1,"fa","fa-picture-o"],["data-toggle","modal","data-target",".video-modal"],["aria-hidden","true",1,"fa","fa-video-camera"],["data-toggle","modal","data-name","photo","id","pic","data-target",".identityImg-modal"],[1,"img-list"],[1,"img-sub-list"],["id","show_image"],[4,"ngFor","ngForOf"],[1,"top-tip"],[1,"fa","fa-info-circle"],[1,"d-footer","c-footer",2,"display","none"],["type","button",1,"btn","btn-prev",3,"click"],["prev",""],[1,"fa","fa-angle-left"],[1,"btn","btn-next",3,"click"],["next",""],[1,"fa","fa-angle-right"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","adImg-modal","fade","bd-example-modal-lg"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["adImagesInputForm",""],[1,"modal-header","text-left",2,"border-bottom","none"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["adImagesModalClose",""],["aria-hidden","true"],[1,"modal-body"],[1,"upload-file"],["id","saved-pictures",1,"moderation__grid"],[1,"row","gallery-img-id"],["class","col-sm-2 selectedImages",4,"ngFor","ngForOf"],["id","prepend_div",1,"col-sm-2"],["for","gallery-photo-add",1,"label-head"],["type","file","name","adImages","multiple","","id","gallery-photo-add","accept","image/jpg, image/png",3,"change"],[1,"modal-footer"],["type","button","name","submit",1,"btn","btn-select",3,"click"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","identityImg-modal","fade","bd-example-modal-lg"],["identityImagesInputForm",""],["identityImagesModalClose",""],["class","col-sm-2 uploadedImages",4,"ngFor","ngForOf"],["for","gallery-photo-add-identity",1,"label-head"],["type","file","name","identityImages","id","gallery-photo-add-identity","accept","image/jpg, image/png",2,"display","none",3,"change"],["tabindex","-1","role","dialog","aria-labelledby","myLargeModalLabel","aria-hidden","true",1,"modal","img-modal","fade","video-modal","bd-example-modal-lg"],[1,"modal-header","text-left",2,"border-bottom","0px"],["adVideoModalClose",""],[1,"cssform"],[1,"col-12","px-0"],["type","url","name","video","required","","placeholder","e.g. http://youtube.com/JDJSU72 or http://vimeo.com/8273612",1,"form-control",3,"ngModel","ngModelChange"],[1,"video-container"],[1,"loading-message"],["id","cartoonVideo","width","100%","height","250","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","frameborder","0","allowfullscreen","",1,"embed-responsive-item",3,"src"],["type","submit","name","submit",1,"btn","btn-select",3,"click"],[1,"fa","fa-bars"],["alt","Images",3,"src"],["href","javascript:void(0)",1,"minus-btn",3,"click"],[1,"col-sm-2","selectedImages"],[1,"image-with-selection"],[1,"image-with-selection__image",3,"src"],["type","checkbox","checked","",1,"image-with-selection__checkbox",3,"click"],[1,"image-with-selection__checkmark"],[1,"col-sm-2","uploadedImages"]],template:function(e,t){if(1&e){var n=l.Rb();l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"form"),l.Qb(4,"div",3),l.Qb(5,"div",0),l.Qb(6,"div",1),l.Qb(7,"div",4),l.Qb(8,"div",5),l.Qb(9,"ul"),l.Qb(10,"li",6),l.Lb(11,"i",7),l.Jc(12," Add Pictures"),l.Qb(13,"span"),l.Jc(14),l.Pb(),l.Pb(),l.Qb(15,"li",8),l.Lb(16,"i",9),l.Jc(17," Add Video"),l.Qb(18,"span"),l.Jc(19),l.Pb(),l.Pb(),l.Qb(20,"li",10),l.Lb(21,"i",7),l.Jc(22," Profile ID"),l.Qb(23,"span"),l.Jc(24,"Photo"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(25,"div",11),l.Qb(26,"div",12),l.Qb(27,"span",13),l.Hc(28,Z,12,4,"ul",14),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(29,"div",15),l.Qb(30,"h3"),l.Lb(31,"i",16),l.Jc(32," Top tip for a successful advertisement "),l.Pb(),l.Qb(33,"p"),l.Jc(34," It's obvious that adding a good photo will increase your ad's potential for success, but it's equally important to have agood number of photos, especially from different angles,perspectives,and locations. Experiment. "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(35,"div",17),l.Qb(36,"ul"),l.Qb(37,"li"),l.Qb(38,"button",18,19),l.Xb("click",(function(){return t.prevPage()})),l.Lb(40,"i",20),l.Jc(41,"Previous step"),l.Pb(),l.Pb(),l.Qb(42,"li"),l.Qb(43,"button",21),l.Xb("click",(function(){return t.nextPage("/receiver/")})),l.Jc(44," Save & Exit "),l.Pb(),l.Pb(),l.Qb(45,"li"),l.Qb(46,"button",21,22),l.Xb("click",(function(){return t.nextPage()})),l.Jc(48," Next step "),l.Lb(49,"i",23),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(50,"div",24),l.Qb(51,"div",25),l.Qb(52,"div",26),l.Qb(53,"div",26),l.Qb(54,"form",null,27),l.Qb(56,"div",28),l.Qb(57,"h5",29),l.Jc(58,"Select from your computer"),l.Pb(),l.Qb(59,"button",30,31),l.Qb(61,"span",32),l.Jc(62,"\xd7"),l.Pb(),l.Pb(),l.Pb(),l.Qb(63,"div",33),l.Qb(64,"div",34),l.Qb(65,"div",35),l.Qb(66,"div",36),l.Hc(67,W,5,1,"div",37),l.Qb(68,"div",38),l.Qb(69,"label",39),l.Qb(70,"span"),l.Jc(71,"+"),l.Pb(),l.Jc(72,"Add"),l.Pb(),l.Qb(73,"input",40),l.Xb("change",(function(e){l.zc(n);var i=l.wc(55);return t.select_new_image_for_ad_images(e,i)})),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(74,"div",41),l.Qb(75,"button",42),l.Xb("click",(function(){return t.finalize_selected_ad_images()})),l.Jc(76,"Use selected Pics "),l.Lb(77,"i",23),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(78,"div",43),l.Qb(79,"div",25),l.Qb(80,"div",26),l.Qb(81,"div",26),l.Qb(82,"form",null,44),l.Qb(84,"div",28),l.Qb(85,"h5",29),l.Jc(86,"Provide To Passport Like Photos No Head Or Face Covering. For Verification Delivery And Cash Pickups"),l.Pb(),l.Qb(87,"button",30,45),l.Qb(89,"span",32),l.Jc(90,"\xd7"),l.Pb(),l.Pb(),l.Pb(),l.Qb(91,"div",33),l.Qb(92,"div",34),l.Qb(93,"div",35),l.Qb(94,"div",36),l.Hc(95,ee,4,3,"div",46),l.Hc(96,te,3,1,"div",37),l.Qb(97,"div",38),l.Qb(98,"label",47),l.Qb(99,"span"),l.Jc(100,"+"),l.Pb(),l.Jc(101,"Add"),l.Pb(),l.Qb(102,"input",48),l.Xb("change",(function(e){l.zc(n);var i=l.wc(83);return t.select_new_image_for_identity_images(e,i)})),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(103,"div",41),l.Qb(104,"button",42),l.Xb("click",(function(){return t.finalize_selected_identity_images()})),l.Jc(105,"Use selected Pics "),l.Lb(106,"i",23),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(107,"div",49),l.Qb(108,"div",25),l.Qb(109,"div",26),l.Qb(110,"div",26),l.Qb(111,"div",50),l.Qb(112,"h5",29),l.Jc(113,"Video URL"),l.Pb(),l.Qb(114,"button",30,51),l.Qb(116,"span",32),l.Jc(117,"\xd7"),l.Pb(),l.Pb(),l.Pb(),l.Qb(118,"form",52),l.Qb(119,"div",33),l.Qb(120,"div",34),l.Qb(121,"ul"),l.Qb(122,"li",53),l.Qb(123,"input",54),l.Xb("ngModelChange",(function(e){return t.newVideoLink=e})),l.Pb(),l.Pb(),l.Pb(),l.Qb(124,"div",55),l.Qb(125,"div",56),l.Qb(126,"h4"),l.Qb(127,"small"),l.Jc(128,"Preview will load here."),l.Pb(),l.Pb(),l.Pb(),l.Lb(129,"iframe",57),l.cc(130,"safe"),l.Pb(),l.Pb(),l.Pb(),l.Qb(131,"div",41),l.Qb(132,"button",58),l.Xb("click",(function(){return t.uploadAdVideo()})),l.Jc(133," Use selected Video "),l.Lb(134,"i",23),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()}2&e&&(l.Cb("submitting",t.submitting),l.yb(14),l.Lc("",10-t.uploadedAdImages.length," Left"),l.yb(5),l.Lc("",t.uploadedAdVideo?"0":"1"," Left"),l.yb(9),l.ic("ngForOf",t.uploadedAdImages),l.yb(39),l.ic("ngForOf",t.currentSelectedAdImages),l.yb(28),l.ic("ngForOf",t.uploadedIdentityImages),l.yb(1),l.ic("ngForOf",t.currentSelectedIdentityImages),l.yb(27),l.ic("ngModel",t.newVideoLink),l.yb(6),l.ic("src",l.dc(130,10,t.newVideoLink||t.uploadedAdVideo),l.Bc))},directives:[g.A,g.o,g.p,s.m,g.c,g.w,g.n,g.q],pipes:[U.a,V.a],styles:['.container[_ngcontent-%COMP%]{margin-right:0;margin-left:0;padding-left:0;padding-right:0;max-width:100%!important}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}button.btn.btn-select[_ngcontent-%COMP%]{color:#fff;font-weight:700;background:#01768a;padding:9px 30px 5px}.image-with-selection__checkmark[_ngcontent-%COMP%]{box-sizing:border-box;position:absolute;width:18px;height:18px;top:4.5px;right:4.5px;border:1.5px solid hsla(0,0%,100%,.9);background-color:rgba(0,0,0,.5);z-index:10;border-radius:50%}.image-with-selection__checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute}.image-with-selection__checkbox[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.image-with-selection__checkbox[_ngcontent-%COMP%]:checked ~ .image-with-selection__checkmark[_ngcontent-%COMP%]:after{left:6.5px;top:3.5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;transform:rotate(45deg)}.image-with-selection[_ngcontent-%COMP%]{width:100%;border-radius:6px;overflow:hidden;display:flex;position:relative;margin-right:15px;margin-bottom:15px}.image-with-selection__checkbox[_ngcontent-%COMP%]:checked ~ .image-with-selection__checkmark[_ngcontent-%COMP%]{background-color:#58a688;box-shadow:0 2px 9px 0 rgba(0,0,0,.76);border:none}input[type=checkbox][_ngcontent-%COMP%], input[type=radio][_ngcontent-%COMP%]{box-sizing:border-box;padding:0;margin:4px 0 0;margin-top:1px\\9;line-height:normal}.image-with-selection__image[_ngcontent-%COMP%]{width:100px;height:100px}']}),ne),ae=o("ukGE"),oe=o("bhfF"),se=["modalButton"];function ce(e,t){if(1&e){var n=l.Rb();l.Qb(0,"div",24),l.Qb(1,"li",25),l.Qb(2,"a",26),l.Xb("click",(function(){l.zc(n);var e=l.bc().$implicit;return l.bc().select_category(e._id)})),l.Lb(3,"img",27),l.cc(4,"server"),l.Lb(5,"img",28),l.cc(6,"server"),l.Jc(7),l.Pb(),l.Pb(),l.Pb()}if(2&e){var i=l.bc().$implicit,a=l.bc();l.yb(1),l.Cb("active",i._id==a.selectedCategory),l.yb(2),l.jc("src",i.imagePath?l.dc(4,7,i.imagePath):"assets/images/banner1.jpg",l.Cc),l.jc("alt",i.title),l.yb(2),l.jc("src",i.imagePath?l.dc(6,9,i.imagePath):"assets/images/banner1.jpg",l.Cc),l.jc("alt",i.title),l.yb(2),l.Lc(" ",i.title," ")}}function re(e,t){1&e&&(l.Ob(0),l.Hc(1,ce,8,11,"ng-template",23),l.Nb())}function de(e,t){if(1&e){var n=l.Rb();l.Ob(0),l.Qb(1,"div",29),l.Qb(2,"div",30),l.Xb("click",(function(){l.zc(n);var e=t.$implicit;return l.bc().select_category(e._id)})),l.Qb(3,"a"),l.Jc(4),l.Pb(),l.Pb(),l.Pb(),l.Nb()}if(2&e){var i=t.$implicit,a=l.bc();l.yb(2),l.Cb("active",a.selectedCategory==i._id),l.yb(2),l.Lc(" ",i.title,"\t")}}var le,be=((le=function(){function e(t,i,a,o,s){n(this,e),this.ps=t,this.router=i,this.ar=a,this.ss=o,this.loader=s,this.customOptions={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:1},740:{items:3},940:{items:4},1100:{items:2}},nav:!0,autoWidth:!0},this.submitting=!1,this.duplicateAdId=null,this.unsub$=new r.a,this.selectedCategory=void 0}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(1),this.getCategories().then(this.checkAction.bind(this)),this.ss.getUserSessionObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){t._id||(e.ps.newMessage("error","Login Needed","Please login to perform this action"),e.router.navigate(["/"]))})),this.ps.AdObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.ad=t,e.ad instanceof Object&&e.ad.categoryId&&(e.selectedCategory=e.ad.categoryId)}))}},{key:"checkAction",value:function(){}},{key:"getCategories",value:function(){var e=this;return new Promise((function(t,n){e.ps.getCategories().pipe(Object(d.a)(e.unsub$)).subscribe((function(i){if(i.status)return e.categories=i.data.categories,t(!0);e.ps.newMessage("error","Failed","couldn't fetch categories"),n(!1)}),(function(t){e.handle_error(t),n(!1)}))}))}},{key:"select_category",value:function(e){var t=this;if(this.selectedCategory=e,!this.selected_category_is_foodbank(this.selectedCategory)){var n=null,i=null;if(this.ad instanceof Object&&this.ad._id){if(this.selectedCategory==this.ad.categoryId)return this.nextPage();if(!confirm("category is already selected, do you want to change ad category?"))return this.selectedCategory=this.ad.categoryId,!1;n=this.ad._id,i="update-category"}this.load(),this.ps.selectCategory(this.selectedCategory,n).pipe(Object(d.a)(this.unsub$)).subscribe((function(e){if(t.stopload(),e.status)return"update-category"==i?(t.ad.categoryId=e.data.categoryId,t.ad.categoryName=e.data.categoryName,t.ps.NewAdData(t.ad)):t.ps.NewAdData(e.data),t.nextPage();t.handle_selection_failure(e,n)}),(function(e){t.handle_error(e),n&&(t.selectedCategory=t.ad.categoryId)}))}}},{key:"handle_selection_failure",value:function(e,t){if(e.code){if("duplicate-record"==e.code)return this.duplicateAdId=e.data.adId,this.handle_duplicate();"no-record"==e.code?this.ps.newMessage("info","Category Not Found",e.message+", this category might be deleted"):this.ps.newMessage("error","Error",e.message)}t&&(this.selectedCategory=this.ad.categoryId)}},{key:"nextPage",value:function(){var e;if(!this.selectedCategory)return this.ps.newMessage("error","No Category Selected","Please select a category");if(this.selectedCategory==(null===(e=this.ad)||void 0===e?void 0:e.categoryId)){if(this.ps.newMessage("success","Category Saved","selected category was saved"),this.selected_category_is_foodbank(this.ad.categoryName))return;this.router.navigate(["/receiver/post/select-location"])}else this.select_category(this.selectedCategory)}},{key:"selected_category_is_foodbank",value:function(e){return"foodbank"==e.toLowerCase()&&(this.router.navigate(["/receiver/foodbank/steps/select-location"]),!0)}},{key:"editAd",value:function(e){var t=this;this.load(),this.ps.get_ad(e).pipe(Object(d.a)(this.unsub$)).subscribe((function(e){t.stopload(),e.status?t.ps.NewAdData(e.data):alert(e.message)}),this.handle_error.bind(this))}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"handle_duplicate",value:function(){this.modalButton.nativeElement.click()}},{key:"delete_previous",value:function(){var e=this;this.load(),this.ps.delete_with_category(this.selectedCategory,this.duplicateAdId).pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.stopload(),e.modalButton.nativeElement.click(),t.status?(e.ps.newMessage("success","Previous Ad Deleted","Previous Ad was deleted"),e.select_category(e.selectedCategory)):e.ps.newMessage("error","Couldn't Delete Ad",t.message)}),(function(t){e.modalButton.nativeElement.click(),e.handle_error(t)}))}},{key:"handle_error",value:function(e){e.error instanceof ErrorEvent?this.ps.newMessage("error","Failed","couldn't connect to the url"):this.ps.newMessage("error","Failed",""+e.error.message),this.stopload()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}}]),e}()).\u0275fac=function(e){return new(e||le)(l.Kb(b.a),l.Kb(c.f),l.Kb(c.a),l.Kb(A.a),l.Kb(u.a))},le.\u0275cmp=l.Eb({type:le,selectors:[["app-select-category"]],viewQuery:function(e,t){var n;1&e&&l.Qc(se,!0),2&e&&l.vc(n=l.Yb())&&(t.modalButton=n.first)},decls:34,vars:5,consts:[["type","button","data-toggle","modal","data-target","#exampleModalCenter",1,"btn","btn-primary",2,"display","none"],["modalButton",""],["id","exampleModalCenter","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLongTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-danger",3,"click"],[1,"d-header","cat-header",2,"padding","0px"],[1,"container-fluid",2,"padding","0px"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form","cat-form",2,"margin-top","0px"],[1,"col-lg-12"],[1,"cat-list"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide",""],[1,"item"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"img-white","category_img",3,"src","alt"],[1,"img-red","category_img",3,"src","alt"],[1,"col-lg-3","col-md-6"],[1,"tab-list",2,"height","55px",3,"click"]],template:function(e,t){1&e&&(l.Qb(0,"button",0,1),l.Jc(2," Launch demo modal "),l.Pb(),l.Qb(3,"div",2),l.Qb(4,"div",3),l.Qb(5,"div",4),l.Qb(6,"div",5),l.Qb(7,"h5",6),l.Jc(8,"Action"),l.Pb(),l.Qb(9,"button",7),l.Qb(10,"span",8),l.Jc(11,"\xd7"),l.Pb(),l.Pb(),l.Pb(),l.Qb(12,"div",9),l.Jc(13," An Ad with this category is already present, Do you want to delete it and continue with this ad? "),l.Pb(),l.Qb(14,"div",10),l.Qb(15,"button",11),l.Jc(16,"Close"),l.Pb(),l.Qb(17,"button",12),l.Xb("click",(function(){return t.delete_previous()})),l.Jc(18,"Delete"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(19,"section",13),l.Qb(20,"div",14),l.Qb(21,"div",15),l.Qb(22,"div",16),l.Qb(23,"div",17),l.Qb(24,"form"),l.Qb(25,"div",15),l.Qb(26,"div",18),l.Qb(27,"div",19),l.Qb(28,"ul",20),l.Qb(29,"owl-carousel-o",21),l.Hc(30,re,2,0,"ng-container",22),l.Pb(),l.Pb(),l.Pb(),l.Qb(31,"div",19),l.Qb(32,"div",15),l.Hc(33,de,5,3,"ng-container",22),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(19),l.Cb("submitting",t.submitting),l.yb(10),l.ic("options",t.customOptions),l.yb(1),l.ic("ngForOf",t.categories),l.yb(3),l.ic("ngForOf",t.categories))},directives:[g.A,g.o,g.p,oe.a,s.m,oe.c],pipes:[V.a],styles:['.categories[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:wrap}.categories[_ngcontent-%COMP%], .category[_ngcontent-%COMP%]{display:flex;justify-content:center}.category[_ngcontent-%COMP%]{min-width:16.66%;max-width:30%;height:140px;position:relative;padding:2px;margin:2px;flex-direction:column;align-items:center;background:#f5f5f5;overflow:hidden}.category[_ngcontent-%COMP%]:hover{cursor:pointer}.category[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;left:0;bottom:0;height:2px;background-color:#962179;transition:.4s;width:0}.category[_ngcontent-%COMP%]:hover:after{width:100%}.category[_ngcontent-%COMP%]:hover   .category-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000}.category-image[_ngcontent-%COMP%]{width:90px;height:90px;border-radius:50%;overflow:hidden;margin:0 auto}.category-image[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.category-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-size:20px;font-weight:bolder;padding:0;margin:0}.category.active[_ngcontent-%COMP%]:after{width:100%}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.cat-list[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bd4630!important}.cat-list[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{width:100%}a[_ngcontent-%COMP%]{cursor:pointer}.tab-list.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .tab-list[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#bd4630}.subtitle[_ngcontent-%COMP%]{font-weight:400;color:#6c757d}.subtitle[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{margin-bottom:.5rem}.title[_ngcontent-%COMP%]{font-size:1.5rem!important;font-weight:700!important}.category_img[_ngcontent-%COMP%]{height:100px!important;width:100px!important;border-radius:50%}@media screen and (max-width:700px){.category[_ngcontent-%COMP%]{flex:1;max-width:unset}}@media screen and (max-width:500px){.category[_ngcontent-%COMP%]{min-width:45%}}']}),le);function ue(e,t){if(1&e){var n=l.Rb();l.Qb(0,"div",66),l.Qb(1,"div",67),l.Xb("click",(function(){l.zc(n);var e=t.$implicit,i=l.bc();return i.select_plan(i.adPlans[0]._id,i.adPlans[0].planName,e)})),l.Qb(2,"a",68),l.Jc(3),l.Qb(4,"span"),l.Jc(5),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&e){var i=t.$implicit,a=l.bc();l.yb(2),l.Cb("active",i._id==a.categoryId),l.yb(1),l.Lc(" ",i.inDays?i.days+" Day":i.hours+" Hour"," "),l.yb(2),l.Lc("$ ",i.price,"")}}function ge(e,t){if(1&e){var n=l.Rb();l.Ob(0),l.Qb(1,"li",69),l.Xb("click",(function(){l.zc(n);var e=t.$implicit,i=l.bc();return i.select_plan(i.adPlans[1]._id,i.adPlans[1].planName,e)})),l.Qb(2,"a",70),l.Jc(3),l.Pb(),l.Pb(),l.Nb()}if(2&e){var i=t.$implicit,a=l.bc();l.yb(2),l.Cb("active",i._id==a.categoryId),l.yb(1),l.Lc(" ",i.inHours?i.hours+" Hour":i.days+" Days"," ")}}function pe(e,t){if(1&e){var n=l.Rb();l.Qb(0,"li"),l.Qb(1,"a",71),l.Xb("click",(function(){l.zc(n);var e=t.$implicit;return l.bc().select_bump(e)})),l.Jc(2),l.Qb(3,"span"),l.Jc(4),l.Pb(),l.Pb(),l.Pb()}if(2&e){var i=t.$implicit,a=l.bc();l.yb(1),l.Cb("active",i._id==a.selectedBump._id),l.yb(1),l.Lc(" ",i.count," bumps "),l.yb(2),l.Lc("$ ",i.price,"/each")}}function he(e,t){if(1&e&&(l.Qb(0,"ul"),l.Qb(1,"li"),l.Qb(2,"h4"),l.Jc(3),l.Qb(4,"span"),l.Jc(5),l.Pb(),l.Pb(),l.Qb(6,"p"),l.Jc(7),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.bc();l.yb(3),l.Lc(" ",n.plan.planName," "),l.yb(2),l.Lc("$ ",n.plan.price,""),l.yb(2),l.Lc(" ",n.plan.inDays?n.plan.days+" Day":n.plan.hours+" Hour"," ")}}function ve(e,t){if(1&e&&(l.Qb(0,"ul"),l.Qb(1,"li"),l.Qb(2,"h4"),l.Jc(3," Additional Bump Ups "),l.Qb(4,"span"),l.Jc(5),l.Pb(),l.Pb(),l.Qb(6,"p"),l.Jc(7),l.Pb(),l.Pb(),l.Pb()),2&e){var n=l.bc();l.yb(5),l.Lc(" $ ",n.selectedBump.price,""),l.yb(2),l.Lc(" ",n.selectedBump.count+" Bumps"," ")}}var me,fe=((me=function(){function e(t,i,a,o,s,c){n(this,e),this.router=t,this.ps=i,this.ss=a,this.ds=o,this.ar=s,this.loader=c,this.unsub$=new r.a,this.submitting=!1,this.adPlans=[],this.showPlan=!1,this.bumps=[],this.selectedBump={},this.showBumps=!1,this.FlagPlanAdded=!1,this.FlagPlanChanged=!1,this.FlagPlanPaid=!1,this.showMainPageOptions=!1,this.showPage1Options=!1,this.showBumpsOptions=!1,this.transactionDetails={}}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(6),this.check_and_handle_ad(),this.getAdPlan(),this.ss.getUserSessionObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.balance=t.balance}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.ps.checkSubmition().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){"save-next"==t?e.nextPage():"prev"==t?e.prevPage():e.nextNoSave()}))}},{key:"check_and_handle_ad",value:function(){var e=this;this.ps.AdObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){if(e.ad=t,!e.ad._id)return e.checkParamForAdId()}))}},{key:"checkParamForAdId",value:function(){var e=this;this.ar.queryParams.pipe(Object(d.a)(this.unsub$)).subscribe((function(t){if(t.adId)return e.getAdData(t.adId);e.ps.newMessage("info","Ad Not Initialized","Please initialize the ad first by selecting category"),e.router.navigate(["/receiver/post/select-category"])}))}},{key:"getAdData",value:function(e){var t=this;this.ps.get_ad(e).pipe(Object(d.a)(this.unsub$)).subscribe((function(e){e.status?t.ps.NewAdData(e.data):t.ps.newMessage("error","No Data",e.message)}),this.errorHandle.bind(this))}},{key:"getAdPlan",value:function(){var e=this;this.ps.get_ad_plans().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){t.status?(e.adPlans=t.data.adPlans,e.bumps=t.data.bumps,e.fillPrePurchasedPlan()):e.ps.newMessage("error","No Plan Found",t.message)}),this.errorHandle.bind(this))}},{key:"fillPrePurchasedPlan",value:function(){var e=this;if(this.check_ad_plan_selected(),this.ad.bumpupPlanCheck){var t=this.bumps.find((function(t){var n;return t._id==(null===(n=e.ad.bumpupPlan)||void 0===n?void 0:n._id)}));this.selectedBump=t,this.FlagPlanChanged=!1,this.FlagPlanAdded=!0,this.showBumpsOptions=!0}}},{key:"check_ad_plan_selected",value:function(){var e,t,n,i=this;if(this.ad.advertisePlanCheck){var a=this.adPlans.find((function(e){var t,n,a;return(null===(t=e.planName)||void 0===t?void 0:t.toLowerCase())==(null===(a=null===(n=i.ad.advertisePlan)||void 0===n?void 0:n.adPlanName)||void 0===a?void 0:a.toLowerCase())}));a||(this.FlagPlanChanged=!0,this.ds.newMessage("info","Plan Not Found","Plan you chose was not found or may have changed",!0));var o=null===(e=this.ad.advertisePlan)||void 0===e?void 0:e.adPlanCategory,s=a.categories.find((function(e){return o==e._id}));s||(this.FlagPlanChanged=!0,this.ds.newMessage("info","Plan Not Found","Plan you chose was not found or may have changed",!0)),this.select_plan(a._id,a.planName,s,null===(t=this.ad.advertisePlan)||void 0===t?void 0:t.paid),this.FlagPlanChanged=!1,this.FlagPlanAdded=!0,a.planName==(null===(n=this.adPlans[0])||void 0===n?void 0:n.planName)?this.showMainPageOptions=!0:this.showPage1Options=!0,this.ad.advertisePlan.paid&&(this.FlagPlanPaid=!0)}}},{key:"select_plan",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e==this.planId&&n._id==this.categoryId||(this.planId=e,this.categoryId=n._id,this.plan=Object.assign({planId:e,planName:t,paid:i},n),this.FlagPlanChanged=!0)}},{key:"select_bump",value:function(e){this.selectedBump=e,this.FlagPlanChanged=!0}},{key:"buyBumps",value:function(){this.ps.lock=!0;var e=this.selectedBump;this.router.navigate(["/receiver/bumps/pay-with-card"],{queryParams:{bumpId:e._id,price:e.price,count:e.count,back:"/receiver/post/upgrades",adId:this.ad._id}})}},{key:"nextPage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/receiver/post-edit/finalize";this.load(),this.save_plan().then((function(){e.stopload(),e.router.navigate([t])})).catch((function(){e.stopload()}))}},{key:"nextNoSave",value:function(){"published"==this.ad.adState&&this.router.navigate(["/receiver/post-edit/finalize"])}},{key:"prevPage",value:function(){this.router.navigate(["/receiver/post-edit/user-details"])}},{key:"save_plan",value:function(){var e=this;return new Promise((function(t,n){return e.FlagPlanAdded&&!e.FlagPlanChanged?t(!0):e.FlagPlanAdded&&e.FlagPlanPaid&&!window.confirm("you have already purchased a plan, upgrading will cost you extra")?(e.planId=e.ad.advertisePlan.adPlanId,e.categoryId=e.ad.advertisePlan.adPlanCategory,n(!1)):(e.ps.newPlanTake(e.plan),void e.save_plans_to_server(t,n))}))}},{key:"save_plans_to_server",value:function(e,t){var n,i=this,a={adId:this.ad._id,adPlan:{planId:this.planId,categoryId:this.categoryId},bumps:{bumpId:null===(n=this.selectedBump)||void 0===n?void 0:n._id}};this.ps.save_plan(a).subscribe((function(n){n.status?(i.ad.completedSteps instanceof Object&&(i.ad.completedSteps[6]=!0),i.ps.NewAdData(Object.assign(Object.assign({},i.ad),n.data)),e(!0)):t(!1)}),(function(e){i.errorHandle(e),t(!1)}))}},{key:"upgrade",value:function(){this.showPlan=!0}},{key:"cancelPlan",value:function(){this.showPlan=!1,this.plan=null,this.ps.newPlanTake({})}},{key:"errorHandle",value:function(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","sorry some error occured"):this.ps.newMessage("error","Error Occured",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message)}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}},{key:"close_page1_selection",value:function(){this.showPage1Options=!1,this.plan.planName==this.adPlans[1].planName&&(this.plan={},this.planId=null,this.categoryId=null)}},{key:"close_main_page_selection",value:function(){this.showMainPageOptions=!1,this.plan.planName==this.adPlans[0].planName&&(this.plan={},this.planId=null,this.categoryId=null)}},{key:"close_bumps_selection",value:function(){this.showBumpsOptions=!1,this.selectedBump={}}},{key:"close_modal",value:function(){this.showConfirm=!1,this.selectedBump=null}}]),e}()).\u0275fac=function(e){return new(e||me)(l.Kb(c.f),l.Kb(b.a),l.Kb(A.a),l.Kb($.a),l.Kb(c.a),l.Kb(u.a))},me.\u0275cmp=l.Eb({type:me,selectors:[["app-upgrades"]],decls:178,vars:18,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form"],[1,"col-lg-9"],[1,"upgrade-sec"],[1,"top-tip"],[1,"col-md-2"],["href","javascript:void(0);",1,"tip-links"],[1,"col-md-10"],[1,"up-common-header","upgrade-purple-header"],["src","assets/images/upgrade-1.png","alt","Icons"],[1,"common-page-des","upgrade-des"],[1,"btn","btn-featured",3,"click"],[1,"fa","fa-angle-right"],[1,"upgrade-hide-sec","common-hide-sec"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3",3,"click"],[1,"hide-sec-des","upgrade-close"],["href","javascript:void(0);"],[1,"fa","fa-close"],[1,"upgrade-sec","page-up-sec"],[1,"up-common-header","upgrade-black-header"],["src","assets/images/upgrade-2.png","alt","Icons"],[1,"common-page-des","page-sec-des"],[1,"btn","btn-page",3,"click"],[1,"page-hide-sec","common-hide-sec"],[1,"up-page-head"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[4,"ngFor","ngForOf"],[1,"upgrade-close",3,"click"],["id","myTabContent",1,"tab-content"],["id","home","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","fade","show","active"],[1,"page-tab-des"],["id","hour_bumps"],["id","pg_one"],[1,"upgrade-sec","bump-up-sec"],[1,"up-common-header","upgrade-blue-header"],["src","assets/images/bump-icon-1.png","alt","Icons"],[1,"badge"],[1,"common-page-des","bump-page-des"],[1,"btn","btn-bumps-des",3,"click"],[1,"bumps-hide-sec","common-hide-sec"],[1,"bump-tab-list"],[1,"top-tip","yellow-tip"],[1,"fa","fa-info-circle"],[1,"understand-sec"],[1,"agree-head"],["href","javascript:void(0);",1,"contact-link"],[1,"col-lg-3"],["id","upgrades_invoice",1,"upgrades-invoice"],["id","calc_credit"],["type","hidden","id","credit","name","credit","value",""],[4,"ngIf"],["id","main_page_add"],["id","page11"],["id","additional_bumps"],[1,"grand-total"],["id","grand_total"],["type","hidden","id","grand_tl"],["type","hidden","id","user_main_balance","name","user_main_balance","value",""],[1,"d-footer","c-footer",2,"display","none"],["type","button",1,"btn","btn-prev",3,"click"],[1,"fa","fa-angle-left"],[1,"btn","btn-next",3,"click"],["name","submit",1,"btn","btn-next",3,"click"],[1,"col-md-3"],[1,"hide-sec-des",3,"click"],["href","javascript:void(0);","id","main_page"],[1,"nav-item",3,"click"],["id","home-tab",1,"nav-link"],["id","add_bumps",3,"click"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"form"),l.Qb(4,"div",3),l.Qb(5,"div",1),l.Qb(6,"div",4),l.Qb(7,"div",5),l.Qb(8,"div",6),l.Qb(9,"div",1),l.Qb(10,"div",7),l.Qb(11,"a",8),l.Jc(12," TIP "),l.Pb(),l.Pb(),l.Qb(13,"div",9),l.Qb(14,"p"),l.Qb(15,"strong"),l.Jc(16,"Paid for features:"),l.Pb(),l.Jc(17," money for ads will be deducted from your account at a later point in time if you choose to use these features. "),l.Pb(),l.Qb(18,"p"),l.Jc(19," By using this features it will help increase your chances of more people viewing your profile issues. "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(20,"div",10),l.Lb(21,"img",11),l.Jc(22," Main Page Ad "),l.Pb(),l.Qb(23,"div",12),l.Qb(24,"p"),l.Qb(25,"strong"),l.Jc(26,"Do you want maximum for your ad ?"),l.Pb(),l.Jc(27,"Your ad will be displayed in our highest visiblit Featured Ad format in the panhandlers category of Greater Toronto Area. "),l.Pb(),l.Qb(28,"a",13),l.Xb("click",(function(){return t.showMainPageOptions=!0})),l.Jc(29," Upgrade to Main Page Ad "),l.Lb(30,"i",14),l.Pb(),l.Pb(),l.Qb(31,"div",15),l.Qb(32,"div",1),l.Hc(33,ue,6,4,"div",16),l.Qb(34,"div",17),l.Xb("click",(function(){return t.close_main_page_selection()})),l.Qb(35,"div",18),l.Qb(36,"a",19),l.Lb(37,"i",20),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(38,"div",21),l.Qb(39,"div",22),l.Qb(40,"ul"),l.Qb(41,"li"),l.Lb(42,"img",23),l.Jc(43," Page 1 "),l.Pb(),l.Qb(44,"li"),l.Jc(45," From "),l.Qb(46,"span"),l.Jc(47,"$ 2"),l.Pb(),l.Jc(48," / Bump "),l.Pb(),l.Pb(),l.Pb(),l.Qb(49,"div",24),l.Qb(50,"p"),l.Qb(51,"strong"),l.Jc(52,"Put your Ad on Autopilot."),l.Pb(),l.Jc(53,"MyIssues will monitor your ad so that it always stays on page 1. No more babysitting your ad. The most effective and hands off approach. "),l.Pb(),l.Qb(54,"a",25),l.Xb("click",(function(){return t.showPage1Options=!0})),l.Jc(55," Get page 1 "),l.Lb(56,"i",14),l.Pb(),l.Pb(),l.Qb(57,"div",26),l.Qb(58,"div",1),l.Qb(59,"div",2),l.Qb(60,"div",27),l.Qb(61,"h3"),l.Jc(62," How many Hours do you want to keep your ad on main page? "),l.Pb(),l.Pb(),l.Qb(63,"ul",28),l.Hc(64,ge,4,3,"ng-container",29),l.Qb(65,"li"),l.Qb(66,"div",30),l.Xb("click",(function(){return t.close_page1_selection()})),l.Qb(67,"a",19),l.Lb(68,"i",20),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(69,"div",31),l.Qb(70,"div",32),l.Qb(71,"div",27),l.Qb(72,"h3"),l.Jc(73," How many days do you want to keep your ad on main page? "),l.Pb(),l.Pb(),l.Qb(74,"div",33),l.Qb(75,"ul"),l.Lb(76,"span",34),l.Pb(),l.Qb(77,"ul"),l.Lb(78,"span",35),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(79,"div",36),l.Qb(80,"div",37),l.Qb(81,"ul"),l.Qb(82,"li"),l.Lb(83,"img",38),l.Jc(84," Bumps "),l.Qb(85,"label",39),l.Jc(86,"New 2 bumps package"),l.Pb(),l.Pb(),l.Qb(87,"li"),l.Jc(88," From "),l.Qb(89,"span"),l.Jc(90,"$ 2"),l.Pb(),l.Jc(91," / Bump "),l.Pb(),l.Pb(),l.Pb(),l.Qb(92,"div",40),l.Qb(93,"p"),l.Qb(94,"strong"),l.Jc(95,"Do you want to be able to Bump your ad to the top with one click any time you like?"),l.Pb(),l.Jc(96," When you click Bump, your ad will instantly be posted to the top. "),l.Pb(),l.Qb(97,"a",41),l.Xb("click",(function(){return t.showBumpsOptions=!0})),l.Jc(98," Let me bumps "),l.Lb(99,"i",14),l.Pb(),l.Pb(),l.Qb(100,"div",42),l.Qb(101,"div",1),l.Qb(102,"div",2),l.Qb(103,"div",27),l.Qb(104,"h3"),l.Jc(105," How many Bumps do you want? "),l.Qb(106,"span"),l.Jc(107,"(select one)"),l.Pb(),l.Pb(),l.Pb(),l.Qb(108,"ul",43),l.Hc(109,pe,5,4,"li",29),l.Qb(110,"li"),l.Qb(111,"div",30),l.Xb("click",(function(){return t.close_bumps_selection()})),l.Qb(112,"a",19),l.Lb(113,"i",20),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(114,"div",44),l.Qb(115,"p"),l.Lb(116,"i",45),l.Jc(117," 2 Bump Package, limited time offer "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(118,"div",46),l.Qb(119,"div",47),l.Qb(120,"h5"),l.Jc(121," Price listed are in CAD $ "),l.Pb(),l.Qb(122,"p"),l.Jc(123," MyIssues charges will Services on your Acc. Need help with payments? "),l.Qb(124,"a",48),l.Jc(125,"Contact Us"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(126,"div",49),l.Qb(127,"div",50),l.Qb(128,"ul"),l.Qb(129,"li"),l.Qb(130,"h4"),l.Jc(131," Advertisement "),l.Qb(132,"span"),l.Jc(133," $ Free"),l.Pb(),l.Pb(),l.Qb(134,"p"),l.Jc(135," Panhandlers / Greater toronto $ "),l.Lb(136,"span",51),l.Lb(137,"input",52),l.Pb(),l.Pb(),l.Pb(),l.Hc(138,he,8,3,"ul",53),l.Hc(139,ve,8,2,"ul",53),l.Lb(140,"span",54),l.Lb(141,"span",55),l.Lb(142,"span",56),l.Qb(143,"ul"),l.Qb(144,"li"),l.Qb(145,"h4"),l.Jc(146," Transaction fee "),l.Qb(147,"span"),l.Jc(148," $1.00"),l.Pb(),l.Pb(),l.Qb(149,"p"),l.Jc(150," You pay in if the total is less than $ 50.00 "),l.Pb(),l.Pb(),l.Pb(),l.Qb(151,"ul"),l.Qb(152,"li"),l.Qb(153,"h4"),l.Jc(154," Gift card "),l.Qb(155,"span"),l.Jc(156," - $1.00"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(157,"ul",57),l.Qb(158,"li"),l.Qb(159,"h4"),l.Jc(160," Grand Total "),l.Qb(161,"span",58),l.Jc(162),l.Pb(),l.Lb(163,"input",59),l.Lb(164,"input",60),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(165,"div",61),l.Qb(166,"ul"),l.Qb(167,"li"),l.Qb(168,"button",62),l.Xb("click",(function(){return t.prevPage()})),l.Lb(169,"i",63),l.Jc(170," Previous step "),l.Pb(),l.Pb(),l.Qb(171,"li"),l.Qb(172,"button",64),l.Xb("click",(function(){return t.nextPage()})),l.Jc(173," Save & Exit "),l.Pb(),l.Pb(),l.Qb(174,"li"),l.Qb(175,"button",65),l.Xb("click",(function(){return t.nextPage()})),l.Jc(176," Next step "),l.Lb(177,"i",14),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(23),l.Gc("display",t.showMainPageOptions?"none":"block"),l.yb(8),l.Gc("display",t.showMainPageOptions?"block":"none"),l.yb(2),l.ic("ngForOf",null==t.adPlans[0]?null:t.adPlans[0].categories),l.yb(16),l.Gc("display",t.showPage1Options?"none":"block"),l.yb(8),l.Gc("display",t.showPage1Options?"block":"none"),l.yb(7),l.ic("ngForOf",null==t.adPlans[1]?null:t.adPlans[1].categories),l.yb(28),l.Gc("display",t.showBumpsOptions?"none":"block"),l.yb(8),l.Gc("display",t.showBumpsOptions?"block":"none"),l.yb(9),l.ic("ngForOf",t.bumps),l.yb(29),l.ic("ngIf",(null==t.plan?null:t.plan.planName)&&0==(null==t.plan?null:t.plan.paid)),l.yb(1),l.ic("ngIf",null==t.selectedBump?null:t.selectedBump.count),l.yb(23),l.Lc(" $ ",((null==t.plan?null:t.plan.price)||0)+((null==t.selectedBump?null:t.selectedBump.price)||0)+1," "))},directives:[g.A,g.o,g.p,s.m,s.n],styles:['.container[_ngcontent-%COMP%]{margin-right:0;margin-left:0;padding-left:0;padding-right:0;max-width:100%!important}.center[_ngcontent-%COMP%]{display:block;margin:0 auto;width:auto}.btn-purple[_ngcontent-%COMP%]{background:#b367c9;font-size:20px;font-weight:900;color:#fff;padding:10px 30px}.deck[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;color:#737574;font-size:20px;font-weight:700;border:1px solid #e3e3e3;border-top:5px solid #e3e3e3;padding:40px 10px;border-radius:5px;min-height:140px;width:auto}.deck[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#615f5f}.deck-link[_ngcontent-%COMP%]{text-decoration:none;outline:none}.active[_ngcontent-%COMP%], .deck[_ngcontent-%COMP%]:hover{border-top-width:1px;border-color:#58a788;border-bottom:5px solid #58a788;color:#58a788}.card-body.hide[_ngcontent-%COMP%]{display:none}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}@media screen and (max-width:600px){.upgrade-card[_ngcontent-%COMP%]{width:95%!important}}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}.upgrades-invoice-sticky[_ngcontent-%COMP%]{width:16.4%}.delivery-form[_ngcontent-%COMP%]{position:relative}.upgrade-close[_ngcontent-%COMP%], .upgrades-invoice-sticky[_ngcontent-%COMP%]   .upgrades-invoice[_ngcontent-%COMP%]{margin-left:-29px}.upgrade-close[_ngcontent-%COMP%], .upgrades-invoice[_ngcontent-%COMP%]{margin-left:-10px}#remove3[_ngcontent-%COMP%], #removed[_ngcontent-%COMP%], #removed2[_ngcontent-%COMP%]{position:absolute;left:-18px;height:40px;width:40px;background:#fff;color:#424242;border-radius:50%;text-align:center;padding-top:8px;font-size:20px;border:none;box-shadow:-1px 0 0 0 rgba(0,0,0,.2)}#removed[_ngcontent-%COMP%], #removed2[_ngcontent-%COMP%], .upgrades-invoice-sticky[_ngcontent-%COMP%]   #remove3[_ngcontent-%COMP%]{left:-22px}.upgrade-close[_ngcontent-%COMP%], .upgrades-invoice-sticky[_ngcontent-%COMP%]   #removed[_ngcontent-%COMP%]{left:-21px}.btn-page[_ngcontent-%COMP%], .upgrade-black-header[_ngcontent-%COMP%]{background-color:#4d493c}.btn-bumps-des[_ngcontent-%COMP%], .upgrade-blue-header[_ngcontent-%COMP%]{background-color:#59a8ea}']}),me),Pe=o("CwEU"),ye=o("arFO"),Qe=["prev"],_e=["next"];function Ce(e,t){1&e&&l.Jc(0," Any information provided below is used by myissues Inc. ")}function Me(e,t){1&e&&l.Jc(0," This will be use for verification for cash and food delivery items. The information must be correct in order to collect any donations make to on this website. ")}function we(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid first name"),l.Pb(),l.Pb())}function ke(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid last name"),l.Pb(),l.Pb())}function xe(e,t){1&e&&(l.Qb(0,"div",98),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid date of birth"),l.Pb(),l.Pb())}function Oe(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid age"),l.Pb(),l.Pb())}function Ie(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please select a valid country"),l.Pb(),l.Pb())}function Je(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please select a valid state"),l.Pb(),l.Pb())}function Ae(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please select a valid city"),l.Pb(),l.Pb())}function Ne(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid address"),l.Pb(),l.Pb())}function ze(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid zip code"),l.Pb(),l.Pb())}function Le(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid emergency number"),l.Pb(),l.Pb())}function Se(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid contact number"),l.Pb(),l.Pb())}function $e(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid reference name(Only alphabets and numerics)"),l.Pb(),l.Pb())}function je(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid contact number"),l.Pb(),l.Pb())}function Fe(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid reference extension"),l.Pb(),l.Pb())}function De(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid Reference Occupation(Only alphabets and spaces)"),l.Pb(),l.Pb())}function Ee(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid Organization Name(Only alphabets and spaces)"),l.Pb(),l.Pb())}function Te(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid reference name (Only Alphabets and spaces)"),l.Pb(),l.Pb())}function Be(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid reference extension"),l.Pb(),l.Pb())}function He(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid reference occupation(Only alphabets and spaces)"),l.Pb(),l.Pb())}function Xe(e,t){1&e&&(l.Qb(0,"div",97),l.Qb(1,"span",98),l.Jc(2,"Please enter a valid Organization Name(Only alphanumeric and spaces)"),l.Pb(),l.Pb())}function Ue(e,t){if(1&e){var n=l.Rb();l.Qb(0,"div",14),l.Qb(1,"div",15),l.Qb(2,"label",16),l.Jc(3,"First Name*"),l.Pb(),l.Qb(4,"input",17,18),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.firstName=e})),l.Pb(),l.Hc(6,we,3,0,"div",19),l.Pb(),l.Qb(7,"div",20),l.Qb(8,"label",21),l.Jc(9,"Last Name*"),l.Pb(),l.Qb(10,"input",22,23),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.lastName=e})),l.Pb(),l.Hc(12,ke,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(13,"div",14),l.Qb(14,"div",24,25),l.Qb(16,"label",16),l.Jc(17,"Date Of Birth*"),l.Pb(),l.Qb(18,"div",26),l.Qb(19,"p-inputMask",27,28),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().dob=e})),l.Pb(),l.Hc(21,xe,3,0,"div",29),l.Pb(),l.Pb(),l.Qb(22,"div",20),l.Qb(23,"label",30),l.Jc(24,"Age*"),l.Pb(),l.Qb(25,"input",31,32),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.age=e})),l.Pb(),l.Hc(27,Oe,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(28,"div",14),l.Qb(29,"div",24),l.Qb(30,"label",33),l.Jc(31,"Province*"),l.Pb(),l.Qb(32,"div",34),l.Qb(33,"p-dropdown",35),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.country=e}))("onChange",(function(e){return l.zc(n),l.bc().change_country(e)})),l.Pb(),l.Pb(),l.Hc(34,Ie,3,0,"div",19),l.Pb(),l.Qb(35,"div",24),l.Qb(36,"label",36),l.Jc(37,"State*"),l.Pb(),l.Qb(38,"div",37),l.Qb(39,"p-dropdown",38),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.state=e}))("onChange",(function(e){return l.zc(n),l.bc().change_state(e)})),l.Pb(),l.Hc(40,Je,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(41,"div",24),l.Qb(42,"label",39),l.Jc(43,"City*"),l.Pb(),l.Qb(44,"div",40),l.Qb(45,"p-dropdown",41),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.city=e}))("onChange",(function(e){return l.zc(n),l.bc().change_city(e)})),l.Pb(),l.Hc(46,Ae,3,0,"div",19),l.Pb(),l.Pb(),l.Pb(),l.Qb(47,"div",14),l.Qb(48,"div",15),l.Qb(49,"label",42),l.Jc(50,"Address*"),l.Pb(),l.Qb(51,"input",43,44),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.address=e})),l.Pb(),l.Hc(53,Ne,3,0,"div",19),l.Pb(),l.Qb(54,"div",15),l.Qb(55,"label",45),l.Jc(56,"Zip Code*"),l.Pb(),l.Qb(57,"input",46,47),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.zipCode=e})),l.Pb(),l.Hc(59,ze,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(60,"div",14),l.Qb(61,"div",24),l.Qb(62,"label",48),l.Jc(63,"Emergency Number*"),l.Pb(),l.Qb(64,"p-inputMask",49),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.emergencyContact=e})),l.Pb(),l.Hc(65,Le,3,0,"div",19),l.Pb(),l.Qb(66,"div",15),l.Qb(67,"label",50),l.Jc(68,"Contact Number*"),l.Pb(),l.Qb(69,"p-inputMask",51),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.contact=e})),l.Pb(),l.Hc(70,Se,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(71,"div",14),l.Qb(72,"div",24),l.Qb(73,"label",52),l.Jc(74,"Email*"),l.Pb(),l.Qb(75,"input",53),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.email=e})),l.Pb(),l.Pb(),l.Pb(),l.Qb(76,"p"),l.Qb(77,"strong"),l.Jc(78,"Note: "),l.Pb(),l.Jc(79," Provide Us with someone in the community that can verify that you're in crisis and need help. This person must work in the community in any capacity. "),l.Pb(),l.Qb(80,"h4"),l.Qb(81,"small"),l.Qb(82,"strong"),l.Jc(83,"Reference 1"),l.Pb(),l.Pb(),l.Pb(),l.Qb(84,"div",54),l.Qb(85,"div",55),l.Qb(86,"label",56),l.Jc(87,"Name*"),l.Pb(),l.Qb(88,"input",57,58),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours1.name=e})),l.Pb(),l.Hc(90,$e,3,0,"div",19),l.Pb(),l.Qb(91,"div",59),l.Qb(92,"label",60),l.Jc(93,"Contact Number*"),l.Pb(),l.Qb(94,"p-inputMask",61,62),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours1.contact=e})),l.Pb(),l.Hc(96,je,3,0,"div",19),l.Pb(),l.Qb(97,"div",63),l.Qb(98,"label",64),l.Jc(99,"Ext.*"),l.Pb(),l.Qb(100,"input",65,66),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours1.extension=e})),l.Pb(),l.Hc(102,Fe,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(103,"div",14),l.Qb(104,"div",15),l.Qb(105,"label",67),l.Jc(106,"Occupation*"),l.Pb(),l.Qb(107,"input",68,69),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours1.occupation=e})),l.Pb(),l.Hc(109,De,3,0,"div",19),l.Pb(),l.Qb(110,"div",20),l.Qb(111,"label",70),l.Jc(112,"Organization Name*"),l.Pb(),l.Qb(113,"input",71,72),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours1.organization=e})),l.Pb(),l.Hc(115,Ee,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(116,"h4"),l.Qb(117,"small"),l.Qb(118,"strong"),l.Jc(119,"Reference 2"),l.Pb(),l.Pb(),l.Pb(),l.Qb(120,"div",54),l.Qb(121,"div",55),l.Qb(122,"label",73),l.Jc(123,"Name"),l.Pb(),l.Qb(124,"input",74,75),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours2.name=e})),l.Pb(),l.Hc(126,Te,3,0,"div",19),l.Pb(),l.Qb(127,"div",59),l.Qb(128,"label",76),l.Jc(129,"Contact Number"),l.Pb(),l.Qb(130,"p-inputMask",77),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours2.contact=e})),l.Pb(),l.Pb(),l.Qb(131,"div",63),l.Qb(132,"label",78),l.Jc(133,"Ext."),l.Pb(),l.Qb(134,"input",79,80),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours2.extension=e})),l.Pb(),l.Hc(136,Be,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(137,"div",14),l.Qb(138,"div",15),l.Qb(139,"label",81),l.Jc(140,"Occupation"),l.Pb(),l.Qb(141,"input",82,83),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours2.occupation=e})),l.Pb(),l.Hc(143,He,3,0,"div",19),l.Pb(),l.Qb(144,"div",20),l.Qb(145,"label",84),l.Jc(146,"Organization Name"),l.Pb(),l.Qb(147,"input",85,80),l.Xb("ngModelChange",(function(e){return l.zc(n),l.bc().contact.neighbours2.organization=e})),l.Pb(),l.Hc(149,Xe,3,0,"div",19),l.Pb(),l.Pb(),l.Qb(150,"div",86),l.Qb(151,"div",87),l.Lb(152,"input",88),l.Qb(153,"div",89),l.Lb(154,"div",90),l.Qb(155,"div",91),l.Qb(156,"div",92),l.Qb(157,"output",93),l.Jc(158," 50 "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(159,"div",14),l.Qb(160,"div",24),l.Qb(161,"p",94),l.Lb(162,"i",95),l.Jc(163," For your privacy, please only provide your approximate location. "),l.Pb(),l.Lb(164,"iframe",96),l.Pb(),l.Pb()}if(2&e){var i=l.wc(5),a=l.wc(11),o=l.wc(26),s=l.wc(52),c=l.wc(58),r=l.wc(89),d=l.wc(101),b=l.wc(108),u=l.wc(114),g=l.wc(125),p=l.wc(135),h=l.wc(142),v=l.bc(),m=l.wc(1);l.yb(4),l.ic("ngModel",v.contact.firstName),l.yb(2),l.ic("ngIf",m.submitted&&i.invalid),l.yb(4),l.ic("ngModel",v.contact.lastName),l.yb(2),l.ic("ngIf",m.submitted&&a.invalid),l.yb(7),l.ic("styleClass","form-control")("ngModel",v.dob),l.yb(2),l.ic("ngIf",m.submitted&&!v.contact.dob),l.yb(4),l.ic("ngModel",v.contact.age),l.yb(2),l.ic("ngIf",m.submitted&&o.invalid),l.yb(6),l.ic("options",v.countries)("filter",!0)("ngModel",v.contact.country)("dataKey",v._id)("showClear",!1),l.yb(1),l.ic("ngIf",m.submitted&&!v.contact.country),l.yb(5),l.ic("options",v.states)("filter",!0)("ngModel",v.contact.state),l.yb(1),l.ic("ngIf",m.submitted&&!v.contact.state),l.yb(5),l.ic("options",v.cities)("filter",!0)("ngModel",v.contact.city),l.yb(1),l.ic("ngIf",m.submitted&&!v.contact.city),l.yb(5),l.ic("ngModel",v.contact.address),l.yb(2),l.ic("ngIf",m.submitted&&s.invalid),l.yb(4),l.ic("ngModel",v.contact.zipCode),l.yb(2),l.ic("ngIf",m.submitted&&c.invalid),l.yb(5),l.ic("styleClass","form-control")("ngModel",v.contact.emergencyContact),l.yb(1),l.ic("ngIf",m.submitted&&!v.contact.emergencyContact),l.yb(4),l.ic("styleClass","form-control")("ngModel",v.contact.contact),l.yb(1),l.ic("ngIf",m.submitted&&!v.contact.contact),l.yb(5),l.ic("ngModel",v.contact.email),l.yb(13),l.ic("ngModel",v.contact.neighbours1.name),l.yb(2),l.ic("ngIf",m.submitted&&r.invalid),l.yb(4),l.ic("styleClass","form-control")("ngModel",v.contact.neighbours1.contact),l.yb(2),l.ic("ngIf",m.submitted&&!v.contact.neighbours1.contact),l.yb(4),l.ic("ngModel",v.contact.neighbours1.extension),l.yb(2),l.ic("ngIf",m.submitted&&d.invalid),l.yb(5),l.ic("ngModel",v.contact.neighbours1.occupation),l.yb(2),l.ic("ngIf",m.submitted&&b.invalid),l.yb(4),l.ic("ngModel",v.contact.neighbours1.organization),l.yb(2),l.ic("ngIf",m.submitted&&u.invalid),l.yb(9),l.ic("ngModel",v.contact.neighbours2.name),l.yb(2),l.ic("ngIf",m.submitted&&g.invalid),l.yb(4),l.ic("styleClass","form-control")("ngModel",v.contact.neighbours2.contact),l.yb(4),l.ic("ngModel",v.contact.neighbours2.extension),l.yb(2),l.ic("ngIf",m.submitted&&p.invalid),l.yb(5),l.ic("ngModel",v.contact.neighbours2.occupation),l.yb(2),l.ic("ngIf",m.submitted&&h.invalid),l.yb(4),l.ic("ngModel",v.contact.neighbours2.organization),l.yb(2),l.ic("ngIf",m.submitted&&p.invalid)}}var Ve,Ke,Re=((Ke=function(){function e(t,i,a,o,s){n(this,e),this.ps=t,this.ds=i,this.router=a,this.loader=o,this.ss=s,this.submitting=!1,this.saved=!1,this.unsub$=new r.a,this.countries=[],this.states=[],this.cities=[],this.initialize_contact()}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(5),this.check_session(),this.ps.AdObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.ad=t,e.isAdInitialized(t),e.contact=Object.assign({},t)}))}},{key:"isAdInitialized",value:function(e){e._id||(this.ps.newMessage("error","Ad Not Initialized","Please initialize the ad first"),this.router.navigate(["/receiver/post/select-category"]))}},{key:"check_session",value:function(){var e=this;this.ss.getUserSessionObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.contact.firstName=t.firstname,e.contact.lastName=t.lastname,e.contact.email=t.email}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.get_country().then((function(){setTimeout((function(){return e.preset_selectors()}),1e3)})),this.ps.checkSubmition().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){var n,i,a,o;"save-next"==t?null===(i=null===(n=e.nextButton)||void 0===n?void 0:n.nativeElement)||void 0===i||i.click():"prev"==t?null===(o=null===(a=e.prevButton)||void 0===a?void 0:a.nativeElement)||void 0===o||o.click():e.nextNoSave()}))}},{key:"save_contact",value:function(){var e=this;return new Promise((function(t,n){e.ps.save_contact(e.contact).pipe(Object(d.a)(e.unsub$)).subscribe((function(i){e.handle_response(i,t,n)}),(function(t){return e.handle_error(t),n(!1)}))}))}},{key:"handle_response",value:function(e,t,n){return e.status?(this.ps.newMessage("success","Details Saved","Contact details are successfully saved"),this.ps.NewAdData(e.data),t(!0)):(this.ps.newMessage("error","Couldn't Save Details",e.message),n(!1))}},{key:"get_country",value:function(){var e=this;return new Promise((function(t,n){e.ds.get_countries().pipe(Object(d.a)(e.unsub$)).subscribe((function(i){return i.status?(e.countries=i.data,t(!0)):(e.ps.newMessage("error","Country Fetch Failed",i.message),n(!1))}),(function(t){return e.handle_error(t),n(!1)}))}))}},{key:"change_country",value:function(e){var t=this,n=this.countries.find((function(e){return e._id==t.contact.country}));this.states=n.states,this.contact.state=n.countryName}},{key:"change_state",value:function(e){var t=this;return new Promise((function(e,n){t.ds.get_cities(t.contact.country,t.contact.state).pipe(Object(d.a)(t.unsub$)).subscribe((function(i){return i.status?(t.cities=i.data[0].cities,e(!0)):(t.ps.newMessage("error","Cities Fetch Failed",i.message),n(!1))}),(function(e){return t.handle_error(e),n(!1)}))}))}},{key:"change_city",value:function(e){}},{key:"preset_selectors",value:function(){var e=this;if(this.ad.country){var t=this.countries.find((function(t){return e.ad.country==t.countryName}));this.contact.country=t?t._id:"",this.states=t?t.states:[],this.ad.state&&(this.contact.state=this.ad.state,this.preset_city_selector())}}},{key:"preset_city_selector",value:function(){var e=this;this.change_state({}).then((function(){e.ad.city&&(e.contact.city=e.ad.city,e.saved=!0)}))}},{key:"nextNoSave",value:function(){"published"==this.ad.adState&&this.router.navigate(["/receiver/post-edit/upgrades"])}},{key:"nextPage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/receiver/post-edit/upgrades";if("INVALID"==e.status)return this.ps.newMessage("error","Invalid Input","Please fill the form with valid inputs");this.valid_dob(e)&&(this.load(),this.save_contact().then((function(){t.stopload(),t.router.navigate([n])})).catch((function(){t.stopload()})))}},{key:"valid_dob",value:function(e){var t=new Date(e.value.dob),n=Date.now()-t.getTime(),i=new Date(n),a=Math.abs(i.getUTCFullYear()-1970);return"Invalid Date"==t?(this.ps.newMessage("error","Invalid DOB","Invalid date of birth"),!1):(a!=e.value.age&&(this.contact.age=a),!(e.value.age<=0&&(this.ps.newMessage("error","Invalid Age","Age cannot be less than or equal to 0"),1)))}},{key:"setAge",value:function(e){var t=e,n=Date.now()-t.getTime();if(n<0)this.contact.age=-1,this.ds.newMessage("error","Invalid Date","Please select valid date of birth");else{var i=new Date(n),a=Math.abs(i.getUTCFullYear()-1970);this.contact.age=a}}},{key:"prevPage",value:function(){this.router.navigate(["/receiver/post-edit/upload-images"])}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"handle_error",value:function(e){e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","Sorry some error occured"):this.ps.newMessage("error","Error Occured",e.error.message)}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}},{key:"initialize_contact",value:function(){this.contact={firstName:"",lastName:"",age:null,dob:"",country:"",state:"",city:"",zipCode:"",contact:"",emergencyContact:"",email:"",neighbours1:{name:"",contact:"",extension:"",occupation:"",organization:""},neighbours2:{name:"",contact:"",extension:"",occupation:"",organization:""}}}},{key:"dob",set:function(e){this.contact.dob=e;var t=new Date(e);"Invalid Date"!=t&&this.setAge(t)},get:function(){return this.contact.dob}}]),e}()).\u0275fac=function(e){return new(e||Ke)(l.Kb(b.a),l.Kb($.a),l.Kb(c.f),l.Kb(u.a),l.Kb(A.a))},Ke.\u0275cmp=l.Eb({type:Ke,selectors:[["app-user-details"]],viewQuery:function(e,t){var n;1&e&&(l.Qc(Qe,!0),l.Qc(_e,!0)),2&e&&(l.vc(n=l.Yb())&&(t.prevButton=n.first),l.vc(n=l.Yb())&&(t.nextButton=n.first))},decls:22,vars:2,consts:[["action","",1,"input-container",3,"ngSubmit"],["detailsForm","ngForm"],[1,"stepsdemo-content"],["pTemplate","title"],["pTemplate","subtitle"],["pTemplate","content"],[1,"d-footer","c-footer",2,"display","none"],["type","button",1,"btn","btn-prev",3,"click"],["prev",""],[1,"fa","fa-angle-left"],[1,"btn","btn-next"],["type","submit",1,"btn","btn-next"],["next",""],[1,"fa","fa-angle-right"],[1,"group"],["id","name-input",1,"form-group"],["for","name"],["type","text","autocapitalize","words","name","firstName","placeholder","Only your first name","pattern","[a-zA-Z]+ *","ngModel","","disabled","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["firstName","ngModel"],["class","errors",4,"ngIf"],["id","gender-input",1,"form-group"],["for","gender"],["type","text","name","lastName","autocapitalize","words","placeholder","Only your last name","pattern","[a-zA-Z]+","pattern","[a-zA-Z]+ *","ngModel","","required","","disabled","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["lastName","ngModel"],[1,"form-group"],["inputMask",""],[1,"p-inputmask-control"],["inputId","inputmask","placeholder","mm/dd/yyyy","name","dob","mask","99/99/9999","styleClass","form-control","ngModel","",3,"styleClass","ngModel","ngModelChange"],["dob1","ngModel"],["class","error",4,"ngIf"],["for","age"],["type","number","min","0","name","age","placeholder","","pattern","[0-9]+","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["age","ngModel"],["for","selectCountry"],[1,"select","select-country","form-group"],["placeholder","Select a Country","optionLabel","countryName","optionValue","_id","name","selectCountry",3,"options","filter","ngModel","dataKey","showClear","ngModelChange","onChange"],["for","state"],[1,"select","select-state"],["placeholder","Select a state","optionLabel","stateName","optionValue","stateName","name","selectState",3,"options","filter","ngModel","ngModelChange","onChange"],["for","city"],[1,"select","select-city"],["placeholder","Select a city","optionLabel","cityName","optionValue","cityName","name","selectCity",3,"options","filter","ngModel","ngModelChange","onChange"],["for","address"],["type","text","autocapitalize","words","name","address","placeholder","your address","ngModel","","required","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["address","ngModel"],["for","zipCode"],["type","text","name","zipCode","placeholder","","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["zipCode","ngModel"],["for","emergencyNumber"],["mask","(999) 999-9999","placeholder","(999) 999-9999","name","emergencyNumber",3,"styleClass","ngModel","ngModelChange"],["for","contactNumber"],["mask","(999) 999-9999","placeholder","(999) 999-9999","name","contactNumber",3,"styleClass","ngModel","ngModelChange"],["for","email"],["type","email","disabled","true","name","email","placeholder","abcd@abcd.abc","pattern","^([a-z0-9_\\.\\+-]+)@([\\da-z\\.-]+)\\.([a-z\\.]{2,6})$","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"group","reference"],[1,"form-group","name-input"],["for","name1"],["type","text","autocapitalize","words","name","name1","placeholder","full name","pattern","[a-zA-Z ]+","ngModel","","required","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["name1","ngModel"],[1,"form-group","contact-input"],["for","contactNumber1"],["mask","(999) 999-9999","placeholder","(999) 999-9999","name","refContact1","ngModel","","required","",3,"styleClass","ngModel","ngModelChange"],["refContact1","ngModel"],[1,"form-group","ext-input"],["for","ext1"],["type","text","name","ext1","placeholder","","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["ext1","ngModel"],["for","occupation1"],["type","text","autocapitalize","words","name","occupation1","placeholder","","pattern","[a-zA-Z ]+","ngModel","","required","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["occupation1","ngModel"],["for","orgName"],["type","text","autocapitalize","words","name","orgName","placeholder","","pattern","[a-zA-Z ]+","ngModel","","required","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["orgName","ngModel"],["for","name2"],["type","text","autocapitalize","words","name","name2","placeholder","full name","pattern","[a-zA-Z ]*","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["name2","ngModel"],["for","contactNumber2"],["mask","(999) 999-9999","placeholder","(999) 999-9999","name","refContact2",3,"styleClass","ngModel","ngModelChange"],["for","ext2"],["type","text","name","ext2","placeholder","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["ext2","ngModel"],["for","occupation2"],["type","text","autocapitalize","words","name","occupation2","placeholder","","pattern","[a-zA-Z ]*","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["occupation2","ngModel"],["for","orgName2"],["type","text","autocapitalize","words","name","orgName2","placeholder","","pattern","[a-zA-Z ]*","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],[1,"col-lg-12"],[1,"range"],["name","range","type","range","min","0","max","100000",2,"position","absolute","width","1px","height","1px","overflow","hidden","opacity","0"],["id","js-rangeslider-0",1,"rangeslider","rangeslider-horizontal"],[1,"rangeslider-fill-lower",2,"width","143px"],[1,"rangeslider-thumb",2,"left","133.5px"],[1,"range-output"],["name","output","for","range",1,"output"],[1,"cat-des-p"],[1,"fa","fa-info-circle"],["src","https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d32616.372608782793!2d-79.76631770197883!3d43.7332529531104!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x882b15eaa5d05abf%3A0x352d31667cc38677!2sBrampton%2C%20ON%2C%20Canada!5e0!3m2!1sen!2sin!4v1592690766209!5m2!1sen!2sin","width","100%","height","700","frameborder","0","allowfullscreen","","aria-hidden","false","tabindex","0",2,"border","0"],[1,"errors"],[1,"error"]],template:function(e,t){if(1&e){var n=l.Rb();l.Qb(0,"form",0,1),l.Xb("ngSubmit",(function(){l.zc(n);var e=l.wc(1);return t.nextPage(e)})),l.Qb(2,"section",2),l.Qb(3,"p-card"),l.Hc(4,Ce,1,0,"ng-template",3),l.Hc(5,Me,1,0,"ng-template",4),l.Hc(6,Ue,165,55,"ng-template",5),l.Pb(),l.Pb(),l.Qb(7,"div",6),l.Qb(8,"ul"),l.Qb(9,"li"),l.Qb(10,"button",7,8),l.Xb("click",(function(){return t.prevPage()})),l.Lb(12,"i",9),l.Jc(13,"Previous step"),l.Pb(),l.Pb(),l.Qb(14,"li"),l.Qb(15,"button",10),l.Jc(16," Save & Exit "),l.Pb(),l.Pb(),l.Qb(17,"li"),l.Qb(18,"button",11,12),l.Jc(20," Next step "),l.Lb(21,"i",13),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()}2&e&&(l.yb(2),l.Cb("submitting",t.submitting))},directives:[g.A,g.o,g.p,p.a,h.j,g.c,g.t,g.n,g.q,s.n,g.w,Pe.a,g.s,ye.a],styles:['.page-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}form[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%;margin:0;padding:0}[_nghost-%COMP%]     .p-dropdown{width:100%;height:100%;margin:0;font-size:16px}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}[_nghost-%COMP%]     .p-inputtext{margin:0;height:49px;padding:10px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b9bb2;font-weight:700;font-size:24px}form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1;padding:0 2px}.reference[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:first-child{flex:3!important}.reference[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-child(2){flex:2!important}.reference[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:nth-child(3){flex:1!important}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}.form-control[_ngcontent-%COMP%]:not(textarea){height:50px!important}.ref-head[_ngcontent-%COMP%], .var-head[_ngcontent-%COMP%]{font-weight:700;font-size:30px}@media screen and (max-width:550px){.group[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:100%;padding:0}}']}),Ke),qe=((Ve=function(){function e(t,i,a){n(this,e),this.adService=t,this.ds=i,this.router=a}return a(e,[{key:"canActivate",value:function(e,t){var n,i,a=this,o=null===(n=this.adService._currentAd)||void 0===n?void 0:n._id;return(null===(i=e.data)||void 0===i?void 0:i.isStartStep)?!(o&&(!e.queryParams.adId||o==e.queryParams.adId))&&this.getAdData(e,this.moveToRedirectionRoute.bind(this)):o?this.validateRoute.apply(this,[e]):(setTimeout((function(){a.router.navigate(["/receiver"])}),5),!1)}},{key:"getAdData",value:function(e,t){var n=this;return new Promise((function(i,a){n.adService.get_ad(e.queryParams.adId).subscribe((function(e){e.status?(n.adService.NewAdData(e.data),t()?i(!0):i(!1)):(n.ds.newMessage("error","Error Occured",e.message),i(!1))}),(function(e){var t;n.ds.newMessage("error","Error Occured",(null===(t=e.error)||void 0===t?void 0:t.message)||e.message),i(!1)}))}))}},{key:"moveToRedirectionRoute",value:function(){var e=this;if("published"==this.adService._currentAd.adState)return setTimeout((function(){e.router.navigate(["/receiver/post-edit/ad-content"])}),5),!1;var t=this.lastCompletedStep(),n="/receiver/post-edit/"+["select-category","select-location","ad-content","upload-images","user-details","upgrades","finalize"][t=Number(t.toFixed(0))];return setTimeout((function(){e.router.navigate([n])}),5),!1}},{key:"validateRoute",value:function(e){var t=this,n=this.lastCompletedStep(),i=e.data.moveToStep;return 1==i&&1==n?(setTimeout((function(){t.router.navigate(["/receiver/post-edit/select-location"])}),5),!1):5==i&&n>=4.3||(6==i&&n>=5?"draft"==this.adService._currentAd.adState||(setTimeout((function(){t.router.navigate(["/receiver/post-edit/edited"])}),5),!1):n>=i-1)}},{key:"lastCompletedStep",value:function(){var e,t=null===(e=this.adService._currentAd)||void 0===e?void 0:e.completedSteps;console.log(t);var n={1:1,2:2,3:3,5:5,6:6,"4Images":4.1,"4Video":4.2,"4Identity":4.3},i=0;for(var a in t)t[a]&&n[a]>i&&(i=n[a]);return i>4&&i<5&&(t["4Images"]&&t["4Video"]&&t["4Identity"]||(i=3)),console.log(i),i}}]),e}()).\u0275fac=function(e){return new(e||Ve)(l.Ub(b.a),l.Ub($.a),l.Ub(c.f))},Ve.\u0275prov=l.Gb({token:Ve,factory:Ve.\u0275fac,providedIn:"root"}),Ve),Ge=o("Gxio"),Ye=o("Nf9I"),Ze=function(){return{exact:!0}};function We(e,t){1&e&&(l.Qb(0,"li",11),l.Qb(1,"a",22),l.Jc(2," Region "),l.Lb(3,"span",13),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("routerLinkActiveOptions",l.mc(1,Ze)))}function et(e,t){1&e&&(l.Qb(0,"li",11),l.Qb(1,"a",23),l.Jc(2," Upgrades "),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("routerLinkActiveOptions",l.mc(1,Ze)))}function tt(e,t){1&e&&(l.Qb(0,"li",11),l.Qb(1,"a",24),l.Jc(2," Finalize "),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("routerLinkActiveOptions",l.mc(1,Ze)))}function nt(e,t){if(1&e){var n=l.Rb();l.Qb(0,"ul"),l.Qb(1,"li"),l.Qb(2,"button",25),l.Xb("click",(function(){return l.zc(n),l.bc().prev()})),l.Lb(3,"i",26),l.Jc(4," Prev "),l.Pb(),l.Pb(),l.Qb(5,"li"),l.Qb(6,"a",27),l.Xb("click",(function(){return l.zc(n),l.bc().saveAndNext()})),l.Jc(7," Next "),l.Pb(),l.Pb(),l.Pb()}}function it(e,t){if(1&e){var n=l.Rb();l.Qb(0,"ul",28),l.Qb(1,"li"),l.Qb(2,"button",29),l.Lb(3,"i",26),l.Jc(4," Cancel "),l.Pb(),l.Pb(),l.Qb(5,"li"),l.Qb(6,"a",27),l.Xb("click",(function(){return l.zc(n),l.bc().next()})),l.Jc(7," Next "),l.Pb(),l.Pb(),l.Qb(8,"li"),l.Qb(9,"a",27),l.Xb("click",(function(){return l.zc(n),l.bc().saveAndNext()})),l.Jc(10," Save And Next "),l.Pb(),l.Pb(),l.Pb()}}var at,ot,st,ct=function(){return{width:"65vw"}},rt=[{path:"",component:(at=function(){function e(t,i,a,o){n(this,e),this.ads=t,this.router=i,this.ms=a,this.cnfrm=o,this.adImage="assets/images/home-pic.jpg",this.unsub$=new r.a,this.ad={}}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.ads.lock=!1,this.ads.AdObservable().subscribe((function(t){e.ad=t,e.completedSteps=e.ad.completedSteps,e.adState=e.ad.adState,e.ad.identityImages.length>0&&(e.adImage=e.ad.identityImages[0])})),this.observeMessageToast()}},{key:"observeMessageToast",value:function(){var e=this;this.ads.messageObserver().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){e.ms.add(t)}))}},{key:"new_ad",value:function(e){this.ad=e}},{key:"seePreview",value:function(){var e=this;this.ads.lock=!0,this.ads.AdObservable().pipe(Object(d.a)(this.unsub$)).subscribe((function(t){if(t._id)return e.router.navigate(["/ads/full"],{queryParams:{mode:"preview"}});e.ads.newMessage("info","Ad Not Initialized","Please initialize the ad first by selecting a category")}))}},{key:"ngOnDestroy",value:function(){this.ads.NewAdData(null),this.unsub$.next(),this.unsub$.complete()}},{key:"next",value:function(){this.ads.clickedEditSubmition("next")}},{key:"saveAndNext",value:function(){this.checkPublished()&&this.ads.clickedEditSubmition("save-next")}},{key:"checkPublished",value:function(){return!!(this.notified||"published"!=this.ad.adState&&2!=this.ad.approved)||this.confirm()}},{key:"confirm",value:function(){var e=this;this.cnfrm.confirm({message:"Saving changes to published Ad will republish it for approval by admin. Continue?",header:"Confirmation",acceptButtonStyleClass:"p-button-success",icon:"pi pi-info-circle",accept:function(){return e.notified=!0,!1},reject:function(){return!1}})}},{key:"prev",value:function(){this.ads.clickedEditSubmition("prev")}}]),e}(),at.\u0275fac=function(e){return new(e||at)(l.Kb(b.a),l.Kb(c.f),l.Kb(h.h),l.Kb(h.b))},at.\u0275cmp=l.Eb({type:at,selectors:[["app-receiver-post-edit"]],features:[l.xb([h.h,h.b])],decls:43,vars:21,consts:[[1,"d-header","cat-header"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"panl-list-sec","upgrade-list"],["alt","home-pic",3,"src"],[1,"cancer-des"],[1,"delivery-form","description-form"],[1,"description-tab"],["id","myTab","role","tablist",1,"nav","nav-tabs"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["id","des","disabled","true","routerLink","ad-content","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"badge"],["id","photo","routerLink","upload-images","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["id","detail","routerLink","user-details","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["href","javascript:void(0)",1,"nav-link",3,"click"],[1,"fa","fa-eye"],[1,"d-footer","des-footer"],[4,"ngIf"],["class","buttons",4,"ngIf"],["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],["routerLink","select-location","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","upgrades","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","finalize","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"btn","btn-prev",3,"click"],[1,"fa","fa-angle-left"],["href","javascript:void(0)",1,"btn","btn-next",3,"click"],[1,"buttons"],[1,"btn","btn-prev"]],template:function(e,t){1&e&&(l.Lb(0,"p-toast"),l.Qb(1,"section",0),l.Qb(2,"div",1),l.Qb(3,"div",2),l.Qb(4,"div",3),l.Qb(5,"form"),l.Qb(6,"div",4),l.Qb(7,"ul"),l.Qb(8,"li"),l.Lb(9,"img",5),l.cc(10,"server"),l.Pb(),l.Qb(11,"li"),l.Qb(12,"div",6),l.Jc(13),l.Qb(14,"p"),l.Jc(15),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(16,"div",7),l.Qb(17,"div",2),l.Qb(18,"div",3),l.Qb(19,"div",8),l.Qb(20,"ul",9),l.Hc(21,We,4,2,"li",10),l.Qb(22,"li",11),l.Qb(23,"a",12),l.Jc(24," Description "),l.Lb(25,"span",13),l.Pb(),l.Pb(),l.Qb(26,"li",11),l.Qb(27,"a",14),l.Jc(28," Photo/Video "),l.Pb(),l.Pb(),l.Qb(29,"li",11),l.Qb(30,"a",15),l.Jc(31," Details "),l.Pb(),l.Pb(),l.Hc(32,et,3,2,"li",10),l.Hc(33,tt,3,2,"li",10),l.Qb(34,"li",11),l.Qb(35,"a",16),l.Xb("click",(function(){return t.seePreview()})),l.Lb(36,"i",17),l.Jc(37," Preview Ad "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Lb(38,"router-outlet"),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(39,"div",18),l.Hc(40,nt,8,0,"ul",19),l.Hc(41,it,11,0,"ul",20),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Lb(42,"p-confirmDialog",21)),2&e&&(l.yb(9),l.jc("src",l.dc(10,15,t.adImage),l.Cc),l.yb(4),l.Lc(" ",t.ad.adTitle||"No Title"," "),l.yb(2),l.Mc(" ",t.ad.categoryName||"No category"," - ",t.ad.city||"No city"," "),l.yb(6),l.ic("ngIf","draft"==t.adState),l.yb(2),l.ic("routerLinkActiveOptions",l.mc(17,Ze)),l.yb(4),l.ic("routerLinkActiveOptions",l.mc(18,Ze)),l.yb(3),l.ic("routerLinkActiveOptions",l.mc(19,Ze)),l.yb(2),l.ic("ngIf","published"!=t.adState),l.yb(1),l.ic("ngIf","published"!=t.adState),l.yb(7),l.ic("ngIf","draft"==t.adState),l.yb(1),l.ic("ngIf","published"==t.adState),l.yb(1),l.Fc(l.mc(20,ct)),l.ic("baseZIndex",1e4))},directives:[Ge.a,g.A,g.o,g.p,s.n,c.i,c.h,c.k,Ye.a],pipes:[V.a],styles:[".buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),at),children:[{path:"",redirectTo:"select-category",pathMatch:"full"},{path:"select-category",canActivate:[qe],data:{moveToStep:1,isStartStep:!0},component:be},{path:"select-location",canActivate:[qe],data:{moveToStep:2},component:B},{path:"ad-content",canActivate:[qe],data:{moveToStep:3},component:I},{path:"upload-images",canActivate:[qe],data:{moveToStep:4},component:ie},{path:"user-details",canActivate:[qe],data:{moveToStep:5},component:Re},{path:"upgrades",canActivate:[qe],data:{moveToStep:6},component:fe},{path:"finalize",canActivate:[qe],data:{moveToStep:7},component:S},{path:"pay-via-card",loadChildren:function(){return o.e(93).then(o.bind(null,"L2G/")).then((function(e){return e.CardPaymentModule}))}}]},{path:"complete/:adId",component:ae.a},{path:"edited",component:J}],dt=((ot=function e(){n(this,e)}).\u0275mod=l.Ib({type:ot}),ot.\u0275inj=l.Hb({factory:function(e){return new(e||ot)},imports:[[c.j.forChild(rt)],c.j]}),ot),lt=o("FMpt"),bt=o("jIHw"),ut=o("7kUa"),gt=o("dPl2"),pt=o("eO1q"),ht=o("qxW0"),vt=((st=function e(){n(this,e)}).\u0275mod=l.Ib({type:st}),st.\u0275inj=l.Hb({factory:function(e){return new(e||st)},imports:[[s.b,dt,c.j,Ge.b,lt.a,p.b,bt.c,ye.b,g.j,ut.b,v.b,gt.c,Pe.b,pt.b,ht.a,oe.b,Ye.b]]}),st)}}])}();
!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=i(e);if(t){var o=i(this).constructor;a=Reflect.construct(s,arguments,o)}else a=s.apply(this,arguments);return n(this,a)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"1G5W":function(n,i,s){"use strict";s.d(i,"a",(function(){return c}));var r=s("zx2A");function c(e){return function(t){return t.lift(new b(e))}}var b=function(){function e(t){a(this,e),this.notifier=t}return o(e,[{key:"call",value:function(e,t){var n=new l(e),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),l=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(s,n);var i=t(s);function s(e){var t;return a(this,s),(t=i.call(this,e)).seenValue=!1,t}return o(s,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),s}(r.b)},"3LrJ":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("AytR"),s=n("fXoL"),r=function(){var e=function(){function e(){a(this,e)}return o(e,[{key:"transform",value:function(e){return i.a.server+"/"+e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Jb({name:"server",type:e,pure:!0}),e}()},QIUk:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return P}));var i=n("ofXK"),s=n("7zfz"),r=n("fXoL");function c(e,t){1&e&&r.Mb(0)}function b(e,t){if(1&e&&(r.Qb(0,"div",8),r.gc(1,1),r.Hc(2,c,1,0,"ng-container",6),r.Pb()),2&e){var n=r.bc();r.yb(2),r.ic("ngTemplateOutlet",n.headerTemplate)}}function l(e,t){1&e&&r.Mb(0)}function d(e,t){if(1&e&&(r.Qb(0,"div",9),r.Jc(1),r.Hc(2,l,1,0,"ng-container",6),r.Pb()),2&e){var n=r.bc();r.yb(1),r.Lc(" ",n.header," "),r.yb(1),r.ic("ngTemplateOutlet",n.titleTemplate)}}function u(e,t){1&e&&r.Mb(0)}function p(e,t){if(1&e&&(r.Qb(0,"div",10),r.Jc(1),r.Hc(2,u,1,0,"ng-container",6),r.Pb()),2&e){var n=r.bc();r.yb(1),r.Lc(" ",n.subheader," "),r.yb(1),r.ic("ngTemplateOutlet",n.subtitleTemplate)}}function h(e,t){1&e&&r.Mb(0)}function f(e,t){1&e&&r.Mb(0)}function g(e,t){if(1&e&&(r.Qb(0,"div",11),r.gc(1,2),r.Hc(2,f,1,0,"ng-container",6),r.Pb()),2&e){var n=r.bc();r.yb(2),r.ic("ngTemplateOutlet",n.footerTemplate)}}var m=["*",[["p-header"]],[["p-footer"]]],v=["*","p-header","p-footer"],y=function(){var e=function(){function e(t){a(this,e),this.el=t}return o(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach((function(t){switch(t.getType()){case"header":e.headerTemplate=t.template;break;case"title":e.titleTemplate=t.template;break;case"subtitle":e.subtitleTemplate=t.template;break;case"content":e.contentTemplate=t.template;break;case"footer":e.footerTemplate=t.template;break;default:e.contentTemplate=t.template}}))}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Kb(r.l))},e.\u0275cmp=r.Eb({type:e,selectors:[["p-card"]],contentQueries:function(e,t,n){var i;1&e&&(r.Db(n,s.g,!0),r.Db(n,s.f,!0),r.Db(n,s.j,!1)),2&e&&(r.vc(i=r.Yb())&&(t.headerFacet=i.first),r.vc(i=r.Yb())&&(t.footerFacet=i.first),r.vc(i=r.Yb())&&(t.templates=i))},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:v,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(e,t){1&e&&(r.hc(m),r.Qb(0,"div",0),r.Hc(1,b,3,1,"div",1),r.Qb(2,"div",2),r.Hc(3,d,3,2,"div",3),r.Hc(4,p,3,2,"div",4),r.Qb(5,"div",5),r.gc(6),r.Hc(7,h,1,0,"ng-container",6),r.Pb(),r.Hc(8,g,3,1,"div",7),r.Pb(),r.Pb()),2&e&&(r.Bb(t.styleClass),r.ic("ngClass","p-card p-component")("ngStyle",t.style),r.yb(1),r.ic("ngIf",t.headerFacet||t.headerTemplate),r.yb(2),r.ic("ngIf",t.header||t.titleTemplate),r.yb(1),r.ic("ngIf",t.subheader||t.subtitleTemplate),r.yb(3),r.ic("ngTemplateOutlet",t.contentTemplate),r.yb(1),r.ic("ngIf",t.footerFacet||t.footerTemplate))},directives:[i.l,i.o,i.n,i.r],styles:[".p-card-header img{width:100%}"],encapsulation:2,changeDetection:0}),e}(),P=function(){var e=function e(){a(this,e)};return e.\u0275mod=r.Ib({type:e}),e.\u0275inj=r.Hb({factory:function(t){return new(t||e)},imports:[[i.b],s.k]}),e}()},p25W:function(e,t,n){"use strict";n.r(t),n.d(t,"MainStepsModule",(function(){return q}));var i=n("ofXK"),s=n("tyNb"),r=n("XNiG"),c=n("1G5W"),b=n("fXoL"),l=n("E+NS"),d=n("5dVO"),u=n("ndxW"),p=n("3Pt+"),h=n("QIUk"),f=n("7zfz"),g=n("dgC2");function m(e,t){1&e&&(b.Qb(0,"div",41),b.Qb(1,"span",42),b.Jc(2,"Please enter a valid advertisement title."),b.Pb(),b.Pb())}function v(e,t){1&e&&(b.Qb(0,"div",41),b.Qb(1,"span",42),b.Jc(2,"Please enter a valid name. (Only alphabets)"),b.Pb(),b.Pb())}function y(e,t){1&e&&(b.Qb(0,"div",41),b.Qb(1,"span",42),b.Jc(2,"Please select a household member"),b.Pb(),b.Pb())}function P(e,t){1&e&&(b.Qb(0,"div",41),b.Qb(1,"span",42),b.Jc(2,"Please enter a valid tag line."),b.Pb(),b.Pb())}function Q(e,t){1&e&&(b.Qb(0,"div",41),b.Qb(1,"span",42),b.Jc(2,"Please enter a valid description."),b.Pb(),b.Pb())}var k=function(){return{height:"320px","font-size":"16px"}};function w(e,t){if(1&e){var n=b.Rb();b.Qb(0,"div",10),b.Qb(1,"label",11),b.Jc(2,"Advertisement Title"),b.Pb(),b.Qb(3,"p",12),b.Jc(4),b.Pb(),b.Qb(5,"div",13),b.Qb(6,"input",14,15),b.Xb("ngModelChange",(function(e){return b.zc(n),b.bc().adContent.adTitle=e})),b.Pb(),b.Lb(8,"img",16),b.Pb(),b.Hc(9,m,3,0,"div",17),b.Pb(),b.Qb(10,"div",18),b.Qb(11,"div",19),b.Qb(12,"label",20),b.Jc(13,"Name"),b.Pb(),b.Qb(14,"span",21),b.Jc(15,"First Name Only"),b.Pb(),b.Qb(16,"p",12),b.Jc(17),b.Pb(),b.Qb(18,"input",22,23),b.Xb("ngModelChange",(function(e){return b.zc(n),b.bc().adContent.firstName=e})),b.Pb(),b.Hc(20,v,3,0,"div",17),b.Pb(),b.Qb(21,"div",24),b.Qb(22,"label",25),b.Jc(23,"Household Members"),b.Pb(),b.Qb(24,"select",26,27),b.Xb("ngModelChange",(function(e){return b.zc(n),b.bc().adContent.householdMember=e})),b.Qb(26,"option",28),b.Jc(27,"Select"),b.Pb(),b.Qb(28,"option",29),b.Jc(29,"Single Parent 1"),b.Pb(),b.Qb(30,"option",30),b.Jc(31,"Single Parent 2"),b.Pb(),b.Qb(32,"option",31),b.Jc(33,"Single Parent 3"),b.Pb(),b.Qb(34,"option",32),b.Jc(35,"Seniors 1"),b.Pb(),b.Qb(36,"option",33),b.Jc(37,"Seniors 2"),b.Pb(),b.Qb(38,"option",34),b.Jc(39,"Seniors 3"),b.Pb(),b.Pb(),b.Hc(40,y,3,0,"div",17),b.Pb(),b.Pb(),b.Qb(41,"div",35),b.Qb(42,"label",36),b.Jc(43,"Tag Line"),b.Pb(),b.Qb(44,"input",37,38),b.Xb("ngModelChange",(function(e){return b.zc(n),b.bc().adContent.tagline=e})),b.Pb(),b.Hc(46,P,3,0,"div",17),b.Pb(),b.Qb(47,"div",10),b.Qb(48,"label",39),b.Jc(49,"Description"),b.Pb(),b.Qb(50,"p-editor",40),b.Xb("ngModelChange",(function(e){return b.zc(n),b.bc().adContent.description=e})),b.Pb(),b.Hc(51,Q,3,0,"div",17),b.Pb()}if(2&e){var i=b.wc(7),a=b.wc(19),s=b.wc(25),o=b.wc(45),r=b.bc(),c=b.wc(1);b.yb(4),b.Lc("",60-((null==r.adContent.adTitle?null:r.adContent.adTitle.length)||0)," characters left"),b.yb(2),b.ic("ngModel",r.adContent.adTitle),b.yb(3),b.ic("ngIf",c.submitted&&i.invalid),b.yb(8),b.Lc("",25-((null==r.adContent.firstName?null:r.adContent.firstName.length)||0)," charaters left"),b.yb(1),b.ic("ngModel",r.adContent.firstName),b.yb(2),b.ic("ngIf",c.submitted&&a.invalid),b.yb(4),b.ic("ngModel",r.adContent.householdMember),b.yb(16),b.ic("ngIf",c.submitted&&s.invalid),b.yb(4),b.ic("ngModel",r.adContent.tagline),b.yb(2),b.ic("ngIf",c.submitted&&o.invalid),b.yb(4),b.Fc(b.mc(14,k)),b.ic("ngModel",r.adContent.description),b.yb(1),b.ic("ngIf",c.submitted&&!r.adContent.description)}}var C,_=((C=function(){function e(t,n,i,s,o,c){a(this,e),this.ren=t,this.ps=n,this.router=i,this.loader=s,this.ar=o,this.ss=c,this.submitting=!1,this.saved=!1,this.unsub$=new r.a,this.adContent={adTitle:"",firstName:"",description:"",householdMember:"",tagline:""}}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(3),this.getUserSession(),this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.ad=t,e.ad._id||(e.ps.newMessage("info","Ad Not Initialized","Please start an ad by selecting category"),e.router.navigate(["../select-location"],{relativeTo:e.ar})),e.presetData(t)}))}},{key:"getUserSession",value:function(){var e=this;this.ss.getUserSessionObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.session=t}))}},{key:"presetData",value:function(e){var t=e.adTitle,n=e.firstName,i=e.description,a=e.householdMember,s=e.tagline;this.adContent={adTitle:t,firstName:n,description:i,householdMember:a,tagline:s},t&&a&&i&&n&&s&&(this.saved=!0)}},{key:"ngAfterViewInit",value:function(){var e=document.getElementsByClassName("ql-formats"),t=this.ren.parentNode(e[0]);this.ren.removeChild(t,e[0]),this.ren.removeChild(t,e[2]),this.ren.removeChild(t,e[4])}},{key:"save_ad_content",value:function(){var e=this;return new Promise((function(t,n){e.ps.save_ad_content(e.adContent).pipe(Object(c.a)(e.unsub$)).subscribe((function(i){return i.status?(e.ps.newMessage("success","Ad Content Saved","The content was saved!"),e.ps.NewAdData(i.data),e.stopload(),t(!0)):(e.ps.newMessage("error","Content Save Failed",i.message),n(!1))}),(function(t){return e.handle_error(t),n(!1)}))}))}},{key:"prevPage",value:function(){this.router.navigate(["../../select-location"],{relativeTo:this.ar})}},{key:"nextPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"../../contact-details/step1";if("INVALID"==e.status)return this.ps.newMessage("error","Invalid Input","Please fill the form with valid inputs");this.load(),this.saved?this.checkAndHandleUnsavedChanges(t):this.saveAndMove(t)}},{key:"checkAndHandleUnsavedChanges",value:function(e){var t=this;this.checkUnsavedChanges()?this.handleUnsavedChanges().then((function(){t.stopload(),t.router.navigate([e],{relativeTo:t.ar})})).catch((function(){return t.stopload()})):(this.stopload(),this.router.navigate([e],{relativeTo:this.ar}))}},{key:"checkUnsavedChanges",value:function(){return this.ad.firstName!=this.adContent.firstName||this.ad.description!=this.adContent.description||this.ad.householdMember!=this.adContent.householdMember||this.ad.adTitle!=this.adContent.adTitle||this.ad.tagline!=this.adContent.tagline}},{key:"handleUnsavedChanges",value:function(){var e=this;return new Promise((function(t,n){e.ps.newMessage("warning","Unsaved Changes","you have unsaved changes"),t(!0)}))}},{key:"saveAndMove",value:function(e){var t=this;this.save_ad_content().then((function(){t.stopload(),t.router.navigate([e],{relativeTo:t.ar})})).catch((function(){t.stopload()}))}},{key:"handle_error",value:function(e){e.error instanceof ErrorEvent?this.ps.newMessage("error","Error occured","sorry couldn't connect to the URL"):this.ps.newMessage("error","Error occured",e.error.message)}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(!0),this.unsub$.complete()}}]),e}()).\u0275fac=function(e){return new(e||C)(b.Kb(b.D),b.Kb(l.a),b.Kb(s.f),b.Kb(d.a),b.Kb(s.a),b.Kb(u.a))},C.\u0275cmp=b.Eb({type:C,selectors:[["app-ad-content"]],decls:18,vars:2,consts:[[1,"input-container",3,"ngSubmit"],["sadForm","ngForm"],[1,"stepsdemo-content"],["pTemplate","content"],[1,"d-footer","c-footer"],["type","button",1,"btn","btn-prev",3,"click"],[1,"fa","fa-angle-left"],[1,"btn","btn-next",3,"click"],["type","submit","name","submit",1,"btn","btn-next"],[1,"fa","fa-angle-right"],[1,"form-group"],["for","adTitle"],[1,"left-char"],[1,"form-icon","right-icon"],["type","text","name","adTitle","placeholder","","maxlength","60","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["adTitle","ngModel"],["src","assets/images/emoji-icon.png","alt","Icons"],["class","errors",4,"ngIf"],[1,"group"],["id","name-input",1,"form-group","flex-2"],["for","name"],[1,"badge"],["type","text","autocapitalize","words","name","name","placeholder","","maxlength","25","pattern","[a-zA-Z ]+","required","","ngModel","",1,"form-control","capitalize",3,"ngModel","ngModelChange"],["name","ngModel"],["id","gender-input",1,"form-group","mx-md-3","flex-1"],["for","householdMember"],["name","householdMember","id","selecthouseHoldMember","ngModel","","required","",1,"form-control",3,"ngModel","ngModelChange"],["householdMember","ngModel"],["value","","disabled",""],["value","single parent 1"],["value","single parent 2"],["value","single parent 3"],["value","seniors 1"],["value","seniors 2"],["value","seniors 3"],["id","name-input",1,"form-group"],["for","tag"],["type","text","name","tag","placeholder","Describe your best attribute in short and catchy way","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["tag","ngModel"],["for","description"],["name","description","ngModel","",3,"ngModel","ngModelChange"],[1,"errors"],[1,"error"]],template:function(e,t){if(1&e){var n=b.Rb();b.Qb(0,"form",0,1),b.Xb("ngSubmit",(function(){b.zc(n);var e=b.wc(1);return t.nextPage(e)})),b.Qb(2,"section",2),b.Qb(3,"p-card"),b.Hc(4,w,52,15,"ng-template",3),b.Pb(),b.Pb(),b.Qb(5,"div",4),b.Qb(6,"ul"),b.Qb(7,"li"),b.Qb(8,"button",5),b.Xb("click",(function(){return t.prevPage()})),b.Lb(9,"i",6),b.Jc(10,"Previous step"),b.Pb(),b.Pb(),b.Qb(11,"li"),b.Qb(12,"button",7),b.Xb("click",(function(){b.zc(n);var e=b.wc(1);return t.nextPage(e,"/"+t.session.type)})),b.Jc(13," Save & Exit "),b.Pb(),b.Pb(),b.Qb(14,"li"),b.Qb(15,"button",8),b.Jc(16," Next step "),b.Lb(17,"i",9),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()}2&e&&(b.yb(2),b.Cb("submitting",t.submitting))},directives:[p.A,p.o,p.p,h.a,f.j,p.c,p.k,p.w,p.n,p.q,i.n,p.t,p.x,p.r,p.z,g.a],styles:['.page-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}form[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.form-group[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}label[_ngcontent-%COMP%]{color:#6b9bb2;font-weight:700;font-size:24px!important}.form-control[_ngcontent-%COMP%]{height:50px!important}@media screen and (max-width:550px){.group[_ngcontent-%COMP%]   #name-input[_ngcontent-%COMP%]{min-width:100%;margin-right:0}}']}),C),M=n("DPk/"),x=n("3LrJ"),O=["formFoodbank"];function J(e,t){1&e&&b.Lb(0,"div",27)}var I,L=((I=function(){function e(t,n,i,s,o,c){a(this,e),this.router=t,this.ss=n,this.ar=i,this.ps=s,this.loader=o,this.ds=c,this.submitting=!1,this.unsub$=new r.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(6),this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.ad=t,e.ad._id||(alert("ad is not initialized"),e.router.navigate(["../select-location"],{relativeTo:e.ar}))})),this.ss.getUserSessionObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.session=t}))}},{key:"nextPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"../finalize";this.router.navigate([e],{relativeTo:this.ar})}},{key:"errorHandle",value:function(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","sorry some error occured"):this.ps.newMessage("error","Error Occured",null===(t=e.error)||void 0===t?void 0:t.message),this.stopload()}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(),this.unsub$.complete()}},{key:"gotoFoodbank",value:function(){var e=this,t={email:this.session.email,firstname:this.session.firstname,lastname:this.session.lastname,type:this.session.type,id:this.session._id};this.progress().show(),this.ds.foodbankLogin(t).subscribe((function(t){console.log(t),t?(e.openToken=t.result.open_token,e.apiUrl="http://3.97.194.144/foodbank/user/signin",setTimeout((function(){e.formFoodbank.nativeElement.submit(),e.progress().hide()}),3e3)):window.alert("Login failed! Please try again.")}),(function(e){alert(e)}))}},{key:"progress",value:function(){var e=this;return{show:function(){e.submitting=!0},hide:function(){e.submitting=!1}}}}]),e}()).\u0275fac=function(e){return new(e||I)(b.Kb(s.f),b.Kb(u.a),b.Kb(s.a),b.Kb(l.a),b.Kb(d.a),b.Kb(M.a))},I.\u0275cmp=b.Eb({type:I,selectors:[["app-choose-grocery"]],viewQuery:function(e,t){var n;1&e&&b.Qc(O,!0),2&e&&b.vc(n=b.Yb())&&(t.formFoodbank=n.first)},decls:91,vars:11,consts:[[1,"d-header","cat-header"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"panl-list-sec","upgrade-list"],["alt","home-pic",3,"src"],[1,"cancer-des"],[1,"card","bg-light","mb-3"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["href","javascript:void(0)",1,"btn","btn-primary",3,"click"],[1,"card"],[1,"card-header"],[1,"table","table-hover"],["scope","col"],["scope","row"],["colspan","2"],[1,"d-footer","c-footer"],["type","button",1,"btn","btn-prev"],[1,"fa","fa-angle-left"],["type","button",1,"btn","btn-next",3,"click"],[1,"fa","fa-angle-right"],["id","formFoodbank","method","POST","target","_blank",2,"display","none",3,"action"],["formFoodbank",""],["id","op","name","op","type","hidden",3,"value"],["class","loader-spinner",4,"ngIf"],[1,"loader-spinner"]],template:function(e,t){1&e&&(b.Qb(0,"section",0),b.Qb(1,"div",1),b.Qb(2,"div",2),b.Qb(3,"div",3),b.Qb(4,"form"),b.Qb(5,"div",4),b.Qb(6,"ul"),b.Qb(7,"li"),b.Lb(8,"img",5),b.cc(9,"server"),b.Pb(),b.Qb(10,"li"),b.Qb(11,"div",6),b.Jc(12," Foodbank "),b.Qb(13,"p"),b.Jc(14),b.cc(15,"date"),b.Pb(),b.Pb(),b.Pb(),b.Qb(16,"li"),b.Qb(17,"div",7),b.Qb(18,"div",8),b.Qb(19,"h5",9),b.Jc(20,"Choose grocery"),b.Pb(),b.Qb(21,"p",10),b.Jc(22,"Copy the "),b.Qb(23,"b"),b.Jc(24,"Order Id"),b.Pb(),b.Jc(25," and enter in next step."),b.Pb(),b.Qb(26,"a",11),b.Xb("click",(function(){return t.gotoFoodbank()})),b.Jc(27,"Go foodbank store"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(28,"div",12),b.Qb(29,"h5",13),b.Jc(30,"Purchased Items"),b.Pb(),b.Qb(31,"div",8),b.Qb(32,"h5",9),b.Jc(33,"Special title treatment"),b.Pb(),b.Qb(34,"div"),b.Qb(35,"table",14),b.Qb(36,"thead"),b.Qb(37,"tr"),b.Qb(38,"th",15),b.Jc(39,"#"),b.Pb(),b.Qb(40,"th",15),b.Jc(41,"First"),b.Pb(),b.Qb(42,"th",15),b.Jc(43,"Last"),b.Pb(),b.Qb(44,"th",15),b.Jc(45,"Handle"),b.Pb(),b.Pb(),b.Pb(),b.Qb(46,"tbody"),b.Qb(47,"tr"),b.Qb(48,"th",16),b.Jc(49,"1"),b.Pb(),b.Qb(50,"td"),b.Jc(51,"Mark"),b.Pb(),b.Qb(52,"td"),b.Jc(53,"Otto"),b.Pb(),b.Qb(54,"td"),b.Jc(55,"@mdo"),b.Pb(),b.Pb(),b.Qb(56,"tr"),b.Qb(57,"th",16),b.Jc(58,"2"),b.Pb(),b.Qb(59,"td"),b.Jc(60,"Jacob"),b.Pb(),b.Qb(61,"td"),b.Jc(62,"Thornton"),b.Pb(),b.Qb(63,"td"),b.Jc(64,"@fat"),b.Pb(),b.Pb(),b.Qb(65,"tr"),b.Qb(66,"th",16),b.Jc(67,"3"),b.Pb(),b.Qb(68,"td",17),b.Jc(69,"Larry the Bird"),b.Pb(),b.Qb(70,"td"),b.Jc(71,"@twitter"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Lb(72,"div"),b.Pb(),b.Pb(),b.Qb(73,"div",18),b.Qb(74,"ul"),b.Qb(75,"li"),b.Qb(76,"button",19),b.Lb(77,"i",20),b.Jc(78," Previous step "),b.Pb(),b.Pb(),b.Qb(79,"li"),b.Qb(80,"button",21),b.Xb("click",(function(){return t.nextPage("/"+t.session.type)})),b.Jc(81," Save & Exit "),b.Pb(),b.Pb(),b.Qb(82,"li"),b.Qb(83,"button",21),b.Xb("click",(function(){return t.nextPage()})),b.Jc(84," Next step "),b.Lb(85,"i",22),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Ob(86),b.Qb(87,"form",23,24),b.Lb(89,"input",25),b.Pb(),b.Nb(),b.Hc(90,J,1,0,"div",26)),2&e&&(b.yb(8),b.jc("src",b.dc(9,6,t.ad.identityImages[0])||"assets/images/no-image.jpg",b.Cc),b.yb(6),b.Mc(" Start date ",b.ec(15,8,t.ad.createdOn,"medium")," - ",t.ad.city," "),b.yb(73),b.jc("action",t.apiUrl,b.Cc),b.yb(2),b.jc("value",t.openToken),b.yb(1),b.ic("ngIf",t.submitting))},directives:[p.A,p.o,p.p,i.n],pipes:[x.a,i.d],styles:[""]}),I),T=n("Gxio");function j(e,t){if(1&e){var n=b.Rb();b.Qb(0,"label",10),b.Qb(1,"input",11),b.Xb("ngModelChange",(function(e){return b.zc(n),b.bc().selectedCountry=e}))("click",(function(){b.zc(n);var e=t.$implicit;return b.bc().change_country(e._id)})),b.Pb(),b.Qb(2,"span"),b.Jc(3),b.Pb(),b.Pb()}if(2&e){var i=t.$implicit,a=b.bc();b.yb(1),b.jc("value",i._id),b.ic("ngModel",a.selectedCountry),b.yb(2),b.Kc(i.countryName)}}function S(e,t){if(1&e){var n=b.Rb();b.Qb(0,"label",10),b.Qb(1,"input",12),b.Xb("ngModelChange",(function(e){return b.zc(n),b.bc().selectedState=e}))("click",(function(){b.zc(n);var e=t.$implicit;return b.bc().change_state(e.stateName)})),b.Pb(),b.Qb(2,"span"),b.Jc(3),b.Pb(),b.Pb()}if(2&e){var i=t.$implicit,a=b.bc();b.yb(1),b.jc("value",i.stateName),b.ic("ngModel",a.selectedState),b.yb(2),b.Kc(i.stateName)}}function N(e,t){if(1&e){var n=b.Rb();b.Qb(0,"label",10),b.Qb(1,"input",13),b.Xb("ngModelChange",(function(e){return b.zc(n),b.bc().selectedCity=e}))("click",(function(){b.zc(n);var e=t.$implicit;return b.bc().change_city(e.cityName)})),b.Pb(),b.Qb(2,"span"),b.Jc(3),b.Pb(),b.Pb()}if(2&e){var i=t.$implicit,a=b.bc();b.yb(1),b.jc("value",i.cityName),b.ic("ngModel",a.selectedCity),b.yb(2),b.Kc(i.cityName)}}function A(e,t){1&e&&b.Lb(0,"div",14)}var z,$,E,K,F,H,D=[{path:"",component:(K=function(){function e(t,n,i){a(this,e),this.ms=t,this.ps=n,this.router=i,this.activeIndex=1,this.currentPage=1,this.unsub$=new r.a,this.items=[{label:"select-category",routerLink:"select-category"},{label:"Location",routerLink:"select-location"},{label:"Content",routerLink:"ad-content"},{label:"Contact",routerLink:"user-details"},{label:"Images",routerLink:"upload-images"},{label:"Groceries",routerLink:"upgrades"},{label:"Finalize",routerLink:"finalize"}]}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.lock=!1,this.ps.messageObserver().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.ms.add(t)})),this.ps.page$.asObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.currentPage=t,console.log(t)}))}},{key:"new_ad",value:function(e){this.currentAd=e}},{key:"seePreview",value:function(){var e=this;this.ps.lock=!0,this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){if(t._id)return e.router.navigate(["/ads/full"],{queryParams:{mode:"preview"}});e.ps.newMessage("info","Ad Not Initialized","Please initialize the ad first by selecting a category")}))}},{key:"ngOnDestroy",value:function(){this.unsub$.next(),this.unsub$.complete()}}]),e}(),K.\u0275fac=function(e){return new(e||K)(b.Kb(f.h),b.Kb(l.a),b.Kb(s.f))},K.\u0275cmp=b.Eb({type:K,selectors:[["app-main-steps"]],features:[b.xb([f.h])],decls:136,vars:28,consts:[[1,"container-fluid"],[1,"row"],["id","ad-builder",1,"col-12","py-5"],[1,"tabs","col-lg-9","mx-auto","pb-5"],[1,"container-fluid","mb-4",2,"padding","0px"],[1,""],[1,"step-menu__list"],[1,"step-menu__item"],[1,"step-menu__link"],[1,"step-menu__icon","active"],[1,"number-1"],[1,"step-menu__description"],[1,"number-2"],[1,"number-4"],[1,"number-5"],[1,"number-6"],[1,"agree-sec"],[1,"container"],[1,"agree-head"],["href","javascript:void(0);","data-toggle","modal","data-target","#tcModal","data-dismiss","modal"],["href","javascript:void(0);","data-toggle","modal","data-target","#ppModal","data-dismiss","modal"],["href","javascript:void(0);","data-toggle","modal","data-target","#rulesModal","data-dismiss","modal"],[1,"understand-sec"],["id","tcModal","aria-labelledby","tcModal","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["role","document",1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","cancer-patient"],[1,"cancer-head"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"login-form"],[1,"col-md-12"],["id","ppModal","aria-labelledby","tcModal","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"],["id","rulesModal","aria-labelledby","tcModal","aria-hidden","true",1,"modal","fade","bd-example-modal-lg"]],template:function(e,t){1&e&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"div",2),b.Lb(3,"p-toast"),b.Qb(4,"div",3),b.Qb(5,"div",4),b.Qb(6,"div",5),b.Qb(7,"ul",6),b.Qb(8,"li",7),b.Qb(9,"a",8),b.Qb(10,"span",9),b.Qb(11,"i",10),b.Jc(12,"1"),b.Pb(),b.Pb(),b.Qb(13,"span",11),b.Jc(14,"Category"),b.Pb(),b.Pb(),b.Pb(),b.Qb(15,"li",7),b.Qb(16,"a",8),b.Qb(17,"span",9),b.Qb(18,"i",10),b.Jc(19,"2"),b.Pb(),b.Pb(),b.Qb(20,"span",11),b.Jc(21,"Region"),b.Pb(),b.Pb(),b.Pb(),b.Qb(22,"li",7),b.Qb(23,"a",8),b.Qb(24,"span",9),b.Qb(25,"i",12),b.Jc(26,"3"),b.Pb(),b.Pb(),b.Qb(27,"span",11),b.Jc(28,"Description"),b.Pb(),b.Pb(),b.Pb(),b.Qb(29,"li",7),b.Qb(30,"a",8),b.Qb(31,"span",9),b.Qb(32,"i",12),b.Jc(33,"4"),b.Pb(),b.Pb(),b.Qb(34,"span",11),b.Jc(35," Contact Details"),b.Pb(),b.Pb(),b.Pb(),b.Qb(36,"li",7),b.Qb(37,"a",8),b.Qb(38,"span",9),b.Qb(39,"i",13),b.Jc(40,"5"),b.Pb(),b.Pb(),b.Qb(41,"span",11),b.Jc(42,"Upload "),b.Lb(43,"br"),b.Jc(44,"Your Images"),b.Pb(),b.Pb(),b.Pb(),b.Qb(45,"li",7),b.Qb(46,"a",8),b.Qb(47,"span",9),b.Qb(48,"i",14),b.Jc(49,"6"),b.Pb(),b.Pb(),b.Qb(50,"span",11),b.Jc(51,"Choose "),b.Lb(52,"br"),b.Jc(53,"Grocery"),b.Pb(),b.Pb(),b.Pb(),b.Qb(54,"li",7),b.Qb(55,"a",8),b.Qb(56,"span",9),b.Qb(57,"i",15),b.Jc(58,"7"),b.Pb(),b.Pb(),b.Qb(59,"span",11),b.Jc(60,"Finalize "),b.Lb(61,"br"),b.Jc(62,"& Post"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Lb(63,"router-outlet"),b.Qb(64,"div",16),b.Qb(65,"div",17),b.Qb(66,"div",18),b.Qb(67,"h4"),b.Jc(68," You agree to the following when on MyIssues.ca "),b.Pb(),b.Qb(69,"p"),b.Jc(70," I agree to the "),b.Qb(71,"a",19),b.Jc(72,"Terms & Conditions,"),b.Pb(),b.Jc(73,"\xa0 "),b.Qb(74,"a",20),b.Jc(75,"Privacy Policy,"),b.Pb(),b.Jc(76," and "),b.Qb(77,"a",21),b.Jc(78,"Rules"),b.Pb(),b.Jc(79," of this site. "),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(80,"div",22),b.Qb(81,"div",17),b.Qb(82,"div",18),b.Qb(83,"p"),b.Jc(84," You understand and agree that any posts which do not comply with these terms aforementioned may result in the removal of the post without refund or warning. "),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(85,"div",23),b.Qb(86,"div",24),b.Qb(87,"div",25),b.Qb(88,"div",26),b.Qb(89,"h2",27),b.Jc(90,"Terms & Condtition"),b.Pb(),b.Qb(91,"button",28),b.Qb(92,"span",29),b.Jc(93,"\xd7"),b.Pb(),b.Pb(),b.Pb(),b.Qb(94,"div",30),b.Qb(95,"div",31),b.Qb(96,"div",1),b.Qb(97,"div",32),b.Qb(98,"p"),b.Jc(99," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. "),b.Pb(),b.Qb(100,"p"),b.Jc(101," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. "),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(102,"div",33),b.Qb(103,"div",24),b.Qb(104,"div",25),b.Qb(105,"div",26),b.Qb(106,"h2",27),b.Jc(107,"Privacy Policy"),b.Pb(),b.Qb(108,"button",28),b.Qb(109,"span",29),b.Jc(110,"\xd7"),b.Pb(),b.Pb(),b.Pb(),b.Qb(111,"div",30),b.Qb(112,"div",31),b.Qb(113,"div",1),b.Qb(114,"div",32),b.Qb(115,"p"),b.Jc(116," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. "),b.Pb(),b.Qb(117,"p"),b.Jc(118," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. "),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(119,"div",34),b.Qb(120,"div",24),b.Qb(121,"div",25),b.Qb(122,"div",26),b.Qb(123,"h2",27),b.Jc(124,"Rules"),b.Pb(),b.Qb(125,"button",28),b.Qb(126,"span",29),b.Jc(127,"\xd7"),b.Pb(),b.Pb(),b.Pb(),b.Qb(128,"div",30),b.Qb(129,"div",31),b.Qb(130,"div",1),b.Qb(131,"div",32),b.Qb(132,"p"),b.Jc(133," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. "),b.Pb(),b.Qb(134,"p"),b.Jc(135," Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum. "),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&e&&(b.yb(8),b.Cb("active",1==t.currentPage),b.yb(2),b.Cb("active1",t.currentPage>1),b.yb(5),b.Cb("active",2==t.currentPage),b.yb(2),b.Cb("active1",t.currentPage>2),b.yb(5),b.Cb("active",3==t.currentPage),b.yb(2),b.Cb("active1",t.currentPage>3),b.yb(5),b.Cb("active",4==t.currentPage),b.yb(2),b.Cb("active1",t.currentPage>4),b.yb(5),b.Cb("active",5==t.currentPage),b.yb(2),b.Cb("active1",t.currentPage>5),b.yb(7),b.Cb("active",6==t.currentPage),b.yb(2),b.Cb("active1",t.currentPage>6),b.yb(7),b.Cb("active",7==t.currentPage),b.yb(2),b.Cb("active1",t.currentPage>7))},directives:[T.a,s.k],styles:["",".step-menu__list[_ngcontent-%COMP%] {\n                        display: -ms-flexbox;\n                        display: flex;\n                        background: #f2f2ed;\n                        border: 1px solid #ebebe6;\n                        margin: 0;\n                        list-style: none;\n                        border-radius: 6px;\n                        box-shadow: 0 1px 0 0 #fff, inset 0 1px 3px -2px rgba(0,0,0,.3);\n                        overflow: auto;\n                        padding-left: 0px;\n                        margin-top:20px;\n                    }\n                \n                    ul.step-menu__list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n                    background: #00000017;\n                }\n                ul.step-menu__list[_ngcontent-%COMP%]::-webkit-scrollbar {\n                    height: 7px;\n                    backface-visibility: visible;\n                    opacity: 1;\n                }\n                    .step-menu__item.active[_ngcontent-%COMP%] {\n                        background: #fff;\n                    }\n                    .step-menu__item[_ngcontent-%COMP%]:first-child {\n                        box-shadow: none;\n                        border-radius: 5px 0 0 5px;\n                    }\n                    .step-menu__item[_ngcontent-%COMP%] {\n                        float: left;\n                        padding: 15px 20px 15px 15px;\n                        position: relative;\n                        \n                        flex-grow: 1;\n                        white-space: nowrap;\n                        \n                        user-select: none;\n                    }\n                    .step-menu__item[_ngcontent-%COMP%]:hover{\n                        background: #fff;\n                        color: #575757;\n                    }\n                    .step-menu__link[_ngcontent-%COMP%]:hover{\n                        color: #575757;\n                    }\n                    .step-menu__item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n                        color: #5e5e5e;\n                    }\n                    .step-menu__link[_ngcontent-%COMP%] {\n                        display: flex;\n                        align-items: center;\n                        line-height: 17px;\n                        text-decoration: none;\n                        font-weight: 700;\n                        font-size: 14px;\n                        color: #b8b8b4;\n                    }\n                    \n                    .step-menu__icon[_ngcontent-%COMP%] {\n                        float: left;\n                        margin-right: 8px;\n                        width: 32px;\n                        height: 32px;\n                        border-radius: 75px;\n                        flex-shrink: 0;\n                        display: -ms-flexbox;\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                        line-height: 1;\n                        color: #fff;\n                        background: #5e5e5e;\n                    }\n                    .step-menu__icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{\n                        font-style: normal;\n                        font-size: 20px;\n                    }\n                    .step-menu__icon.unpassed[_ngcontent-%COMP%] {\n                        background: #b8b8b4;\n                        color: #fff;\n                    }\n                    .step-menu__description[_ngcontent-%COMP%] {\n                        float: left;\n                    }\n                    .step-menu__icon.unpassed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\n                        font-style: normal;\n                        font-size: 20px;\n                    }\n                    .step-menu__list[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%], .rewards[_ngcontent-%COMP%]   .btn.btn-black[_ngcontent-%COMP%]:hover {\n                        background-color: #6d95aa;\n                        border-color: #6d95aa;\n                        margin: 0 8px;\n                        margin-top: 10px;\n                        padding: 0 12px;\n                        color: #fff;\n                        font-weight: 700;\n                        font-size: 16px;\n                        line-height: 40px;\n                        height: 42px;\n                        vertical-align: top;\n                    }\n                    .step-menu__icon.active1[_ngcontent-%COMP%]{\n                        background: green;\n                    }"]}),K),children:[{path:"",redirectTo:"select-location",pathMatch:"full"},{path:"select-location",component:(E=function(){function e(t,n,i,s,o,c){a(this,e),this.ds=t,this.ps=n,this.router=i,this.loader=s,this.ar=o,this.ss=c,this.submitting=!1,this.loading=!1,this.saved=!1,this.unsub$=new r.a,this.cities=[],this.states=[],this.countries=[],this.selectedCountry="",this.selectedState="",this.selectedCity=""}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(2),this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.ad=t})),this.check_session(),this.check_action(),this.get_country().then((function(){e.prefill_selected_options()}))}},{key:"check_session",value:function(){var e=this;this.ss.getUserSessionObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){t._id||(e.ps.newMessage("error","Login Needed","Please login to perform this action"),e.router.navigate(["/"]))}))}},{key:"check_action",value:function(){var e=this;this.ar.queryParams.subscribe((function(t){"edit"==t.action&&t.adId&&e.getAdData(t.adId)}))}},{key:"prefill_selected_options",value:function(){var e=this;this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){(null==t?void 0:t.country)&&e.prefill_country(t)}))}},{key:"prefill_country",value:function(e){var t=this.countries.find((function(t){return e.country==t.countryName}));this.selectedCountry=t?t._id:"",this.selectedCountryName=t?t.countryName:"",this.prefill_state(t,e)}},{key:"prefill_state",value:function(e,t){this.states=e?e.states:[],t.state&&(this.selectedState=t.state,this.prefill_city(t))}},{key:"prefill_city",value:function(e){var t=this;this.change_state(e.state).then((function(){t.ad.city&&(t.selectedCity=e.city,t.saved=!0)}))}},{key:"getAdData",value:function(e){var t=this;this.ps.get_ad(e).pipe(Object(c.a)(this.unsub$)).subscribe((function(e){e.status?t.ps.NewAdData(e.data):t.ps.newMessage("error","No Data",e.message)}),this.handle_error.bind(this))}},{key:"get_country",value:function(){var e=this;return new Promise((function(t,n){e.ds.get_countries().pipe(Object(c.a)(e.unsub$)).subscribe((function(i){return i.status?(e.countries=i.data,t(!0)):(e.ps.newMessage("error","Country Fetch Failed",i.message),n(!1))}),(function(t){return e.handle_error(t),n(!1)}))}))}},{key:"change_country",value:function(e){var t=this;this.selectedCountry=e;var n=this.countries.find((function(e){return e._id==t.selectedCountry}));this.states=n.states,this.selectedCountryName=n.countryName,this.selectedState=null,this.saved=!1}},{key:"change_state",value:function(e){var t=this;return this.saved=!1,this.loading=!0,this.selectedState=e,new Promise((function(e,n){return t.get_cities_from_server(e,n)}))}},{key:"get_cities_from_server",value:function(e,t){var n=this;this.ds.get_cities(this.selectedCountry,this.selectedState).pipe(Object(c.a)(this.unsub$)).subscribe((function(i){return n.loading=!1,i.status?(n.cities=i.data[0].cities,e(!0)):(console.log(i),n.ps.newMessage("error","Cities Fetch Failed",i.message),t(!1))}),(function(e){return n.handle_error(e),t(!1)}))}},{key:"change_city",value:function(e){this.saved=!1,this.selectedCity=e,this.nextPage()}},{key:"save_location",value:function(){var e=this;this.emptySelect()||(this.load(),this.ps.selectLocation(this.selectedCountry,this.selectedCountryName,this.selectedState,this.selectedCity).pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.stopload(),t.status?(e.ps.NewAdData(t.data),e.ps.newMessage("success","Ad Created","New Ad was created."),e.saved=!0,e.nextPage()):e.ps.newMessage("error","Couldn't Save",t.message)}),this.handle_error.bind(this)))}},{key:"update_location",value:function(){var e=this;this.emptySelect()||(this.load(),this.ps.updateLocation(this.selectedCountry,this.selectedCountryName,this.selectedState,this.selectedCity).pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.stopload(),t.status?(e.ps.NewAdData(t.data),e.ps.newMessage("success","Location Updated","Location was updated"),e.saved=!0,e.nextPage()):e.ps.newMessage("error","Couldn't Update",t.message)}),this.handle_error.bind(this)))}},{key:"handle_error",value:function(e){e.error instanceof ErrorEvent?this.ps.newMessage("error","Failed","couldn't connect to the url"):this.ps.newMessage("error","Failed",""+e.error.message),this.stopload()}},{key:"nextPage",value:function(){this.saved&&!this.UnsavedChangesExists()?this.router.navigate(["../ad-content"],{relativeTo:this.ar}):this.ad&&this.ad._id?this.update_location():this.save_location()}},{key:"emptySelect",value:function(){if(""==this.selectedCountry)this.ps.newMessage("info","Country Not Selected","please Select a country");else if(""==this.selectedState)this.ps.newMessage("info","State Not Selected","Please select a state");else{if(""!=this.selectedCity)return!1;this.ps.newMessage("info","City Not Selected","Please select a city")}return!0}},{key:"UnsavedChangesExists",value:function(){return!(1!=this.saved||!(this.ad.country||this.ad.state||this.ad.city)||this.ad.country==this.selectedCountryName&&this.ad.state==this.selectedState&&this.ad.city==this.selectedCity||(this.ps.newMessage("info","Unsaved Changes","You have unsaved changes, discard them?"),0))}},{key:"ngOnDestroy",value:function(){this.unsub$.next(),this.unsub$.complete()}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}}]),e}(),E.\u0275fac=function(e){return new(e||E)(b.Kb(M.a),b.Kb(l.a),b.Kb(s.f),b.Kb(d.a),b.Kb(s.a),b.Kb(u.a))},E.\u0275cmp=b.Eb({type:E,selectors:[["app-select-location"]],decls:26,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"cat-select-list"],[1,"col-lg-4"],[1,"cat-select-list-des"],[1,"cat-select-head"],[1,"cat-seledt-link"],["class","yes-radio",4,"ngFor","ngForOf"],["class","loader-spinner",4,"ngIf"],[1,"yes-radio"],["type","radio","name","province","id","provines","data-provines","22","data-name","Alberta",3,"ngModel","value","ngModelChange","click"],["type","radio","name","region","id","regions","data-provines","22","data-name","Alberta",3,"value","ngModel","ngModelChange","click"],["type","radio","name","city","id","cities","data-provines","22","data-name","Alberta",3,"value","ngModel","ngModelChange","click"],[1,"loader-spinner"]],template:function(e,t){1&e&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"div",2),b.Qb(3,"div",3),b.Qb(4,"div",0),b.Qb(5,"form"),b.Qb(6,"div",1),b.Qb(7,"div",4),b.Qb(8,"div",5),b.Qb(9,"h2",6),b.Jc(10," Select a Province "),b.Pb(),b.Qb(11,"div",7),b.Hc(12,j,4,3,"label",8),b.Pb(),b.Pb(),b.Pb(),b.Qb(13,"div",4),b.Qb(14,"div",5),b.Qb(15,"h2",6),b.Jc(16," Select a Region "),b.Pb(),b.Qb(17,"div",7),b.Hc(18,S,4,3,"label",8),b.Pb(),b.Pb(),b.Pb(),b.Qb(19,"div",4),b.Qb(20,"div",5),b.Qb(21,"h2",6),b.Jc(22," Select a City "),b.Pb(),b.Qb(23,"div",7),b.Hc(24,N,4,3,"label",8),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Hc(25,A,1,0,"div",9)),2&e&&(b.Cb("submitting",t.submitting),b.yb(12),b.ic("ngForOf",t.countries),b.yb(6),b.ic("ngForOf",t.states),b.yb(6),b.ic("ngForOf",t.cities),b.yb(1),b.ic("ngIf",t.loading))},directives:[p.A,p.o,p.p,i.m,i.n,p.u,p.c,p.n,p.q],styles:['.selector-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-evenly;align-items:center}.select[_ngcontent-%COMP%]{min-width:32%;flex:1;max-width:48%;height:60px;margin:5px 2px}[_nghost-%COMP%]     .p-dropdown{width:100%;height:100%;background:#f5f5f5}[_nghost-%COMP%]     .p-card{box-shadow:0 0 3px rgb(0 0 0/30%)}[_nghost-%COMP%]     .p-dropdown-label{display:flex;align-items:center}.page-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.submitting[_ngcontent-%COMP%]{position:relative}.submitting[_ngcontent-%COMP%]:before{content:" ";width:100%;height:100%;background:hsla(0,0%,100%,.6);position:absolute;top:0;left:0;z-index:1111}.error[_ngcontent-%COMP%]{color:red}.loader-spinner[_ngcontent-%COMP%]{border:10px solid #f3f3f3;border-top-color:#3498db;border-radius:50%;width:70px;height:70px;-webkit-animation:spin 1.5s linear infinite;animation:spin 1.5s linear infinite;z-index:1000;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@media screen and (max-width:700px){.select[_ngcontent-%COMP%]{min-width:45%;max-width:unset}}@media screen and (max-width:500px){.select[_ngcontent-%COMP%]{width:100%}}']}),E)},{path:"ad-content",component:_},{path:"choose-grocery",component:L},{path:"finalize",component:($=function(){function e(t,n,i,s,o){a(this,e),this.router=t,this.ss=n,this.ar=i,this.ps=s,this.loader=o,this.submitting=!1,this.unsub$=new r.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.ps.newPage(7),this.ps.AdObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.ad=t,e.ad._id||(alert("ad is not initialized"),e.router.navigate(["../select-location"],{relativeTo:e.ar}))})),this.ss.getUserSessionObservable().pipe(Object(c.a)(this.unsub$)).subscribe((function(t){e.session=t}))}},{key:"nextPage",value:function(){this.plan instanceof Object&&this.plan.planId&&this.plan._id?this.handle_upgrade():"published"==this.ad.adState?(this.ps.newMessage("success","Ad Saved","The ad was saved with all the changes"),this.router.navigate(["../edited"],{relativeTo:this.ar})):this.publish()}},{key:"publish",value:function(){var e=this;this.load(),this.ps.publish_normal(this.ad._id).pipe(Object(c.a)(this.unsub$)).subscribe((function(t){t.status?(e.stopload(),e.router.navigate(["../complete/"+e.ad._id],{relativeTo:e.ar})):(e.stopload(),alert(t.message))}),this.errorHandle.bind(this))}},{key:"handle_upgrade",value:function(){this.router.navigate(["/receiver/post/pay-via-card"],{queryParams:{action:"upgrade"}})}},{key:"prevPage",value:function(){this.router.navigate(["../choose-grocery"],{relativeTo:this.ar})}},{key:"errorHandle",value:function(e){var t;e.error instanceof ErrorEvent?this.ps.newMessage("error","Error Occured","sorry some error occured"):this.ps.newMessage("error","Error Occured",null===(t=e.error)||void 0===t?void 0:t.message),this.stopload()}},{key:"load",value:function(){this.submitting=!0,this.loader.start()}},{key:"stopload",value:function(){this.submitting=!1,this.loader.stop()}},{key:"ngOnDestroy",value:function(){this.unsub$.next(),this.unsub$.complete()}}]),e}(),$.\u0275fac=function(e){return new(e||$)(b.Kb(s.f),b.Kb(u.a),b.Kb(s.a),b.Kb(l.a),b.Kb(d.a))},$.\u0275cmp=b.Eb({type:$,selectors:[["app-finalize"]],decls:34,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"delivery-form","ad-sub-cat"],[1,"cat-list"],[1,"ad-sub-list","new-lis-sub"],[1,"border-0"],["type","text","placeholder","Enter Order Id","autofocus","",1,"form-control"],[1,"col-lg-6"],[1,"price-sec"],[1,"fa","fa-angle-left"],[1,"price-btn","text-right"],[3,"click"],[1,"understand-sec","finalize-sec"],[1,"agree-head"],["href","#"]],template:function(e,t){1&e&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"div",2),b.Qb(3,"form"),b.Qb(4,"div",3),b.Qb(5,"div",4),b.Qb(6,"div",5),b.Qb(7,"ul",6),b.Qb(8,"li"),b.Qb(9,"span"),b.Jc(10,"Order Id"),b.Pb(),b.Pb(),b.Qb(11,"li"),b.Lb(12,"input",7),b.Pb(),b.Pb(),b.Pb(),b.Qb(13,"div",1),b.Qb(14,"div",8),b.Qb(15,"div",9),b.Qb(16,"a"),b.Lb(17,"i",10),b.Pb(),b.Jc(18," All price are listed in "),b.Qb(19,"span"),b.Jc(20,"CAD"),b.Pb(),b.Pb(),b.Pb(),b.Qb(21,"div",8),b.Qb(22,"div",11),b.Qb(23,"a",12),b.Xb("click",(function(){return t.nextPage()})),b.Jc(24," Post Now "),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(25,"div",13),b.Qb(26,"div",0),b.Qb(27,"div",14),b.Qb(28,"h5"),b.Jc(29," Prices listed are in CAD "),b.Pb(),b.Qb(30,"p"),b.Jc(31," MyIssues charges wil read MyIssues services on your statement. Need help with payments?"),b.Qb(32,"a",15),b.Jc(33,"Contact Us"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb())},directives:[p.A,p.o,p.p],styles:[""]}),$)},{path:"complete/:adId",component:n("qv+T").a},{path:"edited",component:(z=function(){function e(){a(this,e)}return o(e,[{key:"ngOnInit",value:function(){}}]),e}(),z.\u0275fac=function(e){return new(e||z)},z.\u0275cmp=b.Eb({type:z,selectors:[["app-edited"]],decls:9,vars:0,consts:[[1,"ad-post"],[1,"container"],[1,"row"],[1,"col-sm-12"],[1,"ad-post-des"],["src","assets/images/ad-edited.png","alt","Images"],[1,"view-ad"],["routerLink","/receiver"]],template:function(e,t){1&e&&(b.Qb(0,"section",0),b.Qb(1,"div",1),b.Qb(2,"div",2),b.Qb(3,"div",3),b.Qb(4,"div",4),b.Lb(5,"img",5),b.Qb(6,"div",6),b.Qb(7,"a",7),b.Jc(8,"Back to Ad Center"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb())},directives:[s.i],styles:[""]}),z)},{path:"photos",loadChildren:function(){return n.e(50).then(n.bind(null,"MA2U")).then((function(e){return e.PhotosModule}))}}]}],U=((F=function e(){a(this,e)}).\u0275mod=b.Ib({type:F}),F.\u0275inj=b.Hb({factory:function(e){return new(e||F)},imports:[[s.j.forChild(D)],s.j]}),F),X=n("qxW0"),R=n("FMpt"),q=((H=function e(){a(this,e)}).\u0275mod=b.Ib({type:H}),H.\u0275inj=b.Hb({factory:function(e){return new(e||H)},imports:[[i.b,U,p.j,X.a,h.b,g.b,T.b,R.a,X.a]]}),H)},qxW0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),s=n("fXoL"),o=function(){var e=function e(){a(this,e)};return e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({factory:function(t){return new(t||e)},imports:[[i.b]]}),e}()}}])}();